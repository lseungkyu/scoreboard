(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var yd={exports:{}},hl={};var d_;function J1(){if(d_)return hl;d_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var p in l)p!=="key"&&(h[p]=l[p])}else h=l;return l=h.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:h}}return hl.Fragment=t,hl.jsx=i,hl.jsxs=i,hl}var m_;function $1(){return m_||(m_=1,yd.exports=J1()),yd.exports}var nt=$1(),_d={exports:{}},vt={};var g_;function W1(){if(g_)return vt;g_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.iterator;function F(V){return V===null||typeof V!="object"?null:(V=U&&V[U]||V["@@iterator"],typeof V=="function"?V:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,Z={};function ht(V,K,tt){this.props=V,this.context=K,this.refs=Z,this.updater=tt||W}ht.prototype.isReactComponent={},ht.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},ht.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function _t(){}_t.prototype=ht.prototype;function dt(V,K,tt){this.props=V,this.context=K,this.refs=Z,this.updater=tt||W}var Ht=dt.prototype=new _t;Ht.constructor=dt,et(Ht,ht.prototype),Ht.isPureReactComponent=!0;var Wt=Array.isArray;function xt(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function A(V,K,tt){var st=tt.ref;return{$$typeof:a,type:V,key:K,ref:st!==void 0?st:null,props:tt}}function C(V,K){return A(V.type,K,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function O(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(tt){return K[tt]})}var w=/\/+/g;function It(V,K){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):K.toString(36)}function Gt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(xt,xt):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function q(V,K,tt,st,pt){var At=typeof V;(At==="undefined"||At==="boolean")&&(V=null);var kt=!1;if(V===null)kt=!0;else switch(At){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(V.$$typeof){case a:case t:kt=!0;break;case b:return kt=V._init,q(kt(V._payload),K,tt,st,pt)}}if(kt)return pt=pt(V),kt=st===""?"."+It(V,0):st,Wt(pt)?(tt="",kt!=null&&(tt=kt.replace(w,"$&/")+"/"),q(pt,K,tt,"",function(tr){return tr})):pt!=null&&(D(pt)&&(pt=C(pt,tt+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+kt)),K.push(pt)),1;kt=0;var Ce=st===""?".":st+":";if(Wt(V))for(var re=0;re<V.length;re++)st=V[re],At=Ce+It(st,re),kt+=q(st,K,tt,At,pt);else if(re=F(V),typeof re=="function")for(V=re.call(V),re=0;!(st=V.next()).done;)st=st.value,At=Ce+It(st,re++),kt+=q(st,K,tt,At,pt);else if(At==="object"){if(typeof V.then=="function")return q(Gt(V),K,tt,st,pt);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return kt}function J(V,K,tt){if(V==null)return V;var st=[],pt=0;return q(V,st,"","",function(At){return K.call(tt,At,pt++)}),st}function at(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(tt){(V._status===0||V._status===-1)&&(V._status=1,V._result=tt)},function(tt){(V._status===0||V._status===-1)&&(V._status=2,V._result=tt)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var wt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Pt={map:J,forEach:function(V,K,tt){J(V,function(){K.apply(this,arguments)},tt)},count:function(V){var K=0;return J(V,function(){K++}),K},toArray:function(V){return J(V,function(K){return K})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return vt.Activity=R,vt.Children=Pt,vt.Component=ht,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=dt,vt.StrictMode=r,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,vt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},vt.cache=function(V){return function(){return V.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(V,K,tt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=et({},V.props),pt=V.key;if(K!=null)for(At in K.key!==void 0&&(pt=""+K.key),K)!S.call(K,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&K.ref===void 0||(st[At]=K[At]);var At=arguments.length-2;if(At===1)st.children=tt;else if(1<At){for(var kt=Array(At),Ce=0;Ce<At;Ce++)kt[Ce]=arguments[Ce+2];st.children=kt}return A(V.type,pt,st)},vt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},vt.createElement=function(V,K,tt){var st,pt={},At=null;if(K!=null)for(st in K.key!==void 0&&(At=""+K.key),K)S.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(pt[st]=K[st]);var kt=arguments.length-2;if(kt===1)pt.children=tt;else if(1<kt){for(var Ce=Array(kt),re=0;re<kt;re++)Ce[re]=arguments[re+2];pt.children=Ce}if(V&&V.defaultProps)for(st in kt=V.defaultProps,kt)pt[st]===void 0&&(pt[st]=kt[st]);return A(V,At,pt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(V){return{$$typeof:p,render:V}},vt.isValidElement=D,vt.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:at}},vt.memo=function(V,K){return{$$typeof:v,type:V,compare:K===void 0?null:K}},vt.startTransition=function(V){var K=N.T,tt={};N.T=tt;try{var st=V(),pt=N.S;pt!==null&&pt(tt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(xt,wt)}catch(At){wt(At)}finally{K!==null&&tt.types!==null&&(K.types=tt.types),N.T=K}},vt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},vt.use=function(V){return N.H.use(V)},vt.useActionState=function(V,K,tt){return N.H.useActionState(V,K,tt)},vt.useCallback=function(V,K){return N.H.useCallback(V,K)},vt.useContext=function(V){return N.H.useContext(V)},vt.useDebugValue=function(){},vt.useDeferredValue=function(V,K){return N.H.useDeferredValue(V,K)},vt.useEffect=function(V,K){return N.H.useEffect(V,K)},vt.useEffectEvent=function(V){return N.H.useEffectEvent(V)},vt.useId=function(){return N.H.useId()},vt.useImperativeHandle=function(V,K,tt){return N.H.useImperativeHandle(V,K,tt)},vt.useInsertionEffect=function(V,K){return N.H.useInsertionEffect(V,K)},vt.useLayoutEffect=function(V,K){return N.H.useLayoutEffect(V,K)},vt.useMemo=function(V,K){return N.H.useMemo(V,K)},vt.useOptimistic=function(V,K){return N.H.useOptimistic(V,K)},vt.useReducer=function(V,K,tt){return N.H.useReducer(V,K,tt)},vt.useRef=function(V){return N.H.useRef(V)},vt.useState=function(V){return N.H.useState(V)},vt.useSyncExternalStore=function(V,K,tt){return N.H.useSyncExternalStore(V,K,tt)},vt.useTransition=function(){return N.H.useTransition()},vt.version="19.2.3",vt}var p_;function om(){return p_||(p_=1,_d.exports=W1()),_d.exports}var He=om(),vd={exports:{}},fl={},Td={exports:{}},Ed={};var y_;function tS(){return y_||(y_=1,(function(a){function t(q,J){var at=q.length;q.push(J);t:for(;0<at;){var wt=at-1>>>1,Pt=q[wt];if(0<l(Pt,J))q[wt]=J,q[at]=Pt,at=wt;else break t}}function i(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var J=q[0],at=q.pop();if(at!==J){q[0]=at;t:for(var wt=0,Pt=q.length,V=Pt>>>1;wt<V;){var K=2*(wt+1)-1,tt=q[K],st=K+1,pt=q[st];if(0>l(tt,at))st<Pt&&0>l(pt,tt)?(q[wt]=pt,q[st]=at,wt=st):(q[wt]=tt,q[K]=at,wt=K);else if(st<Pt&&0>l(pt,at))q[wt]=pt,q[st]=at,wt=st;else break t}}return J}function l(q,J){var at=q.sortIndex-J.sortIndex;return at!==0?at:q.id-J.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var _=[],v=[],b=1,R=null,U=3,F=!1,W=!1,et=!1,Z=!1,ht=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Ht(q){for(var J=i(v);J!==null;){if(J.callback===null)r(v);else if(J.startTime<=q)r(v),J.sortIndex=J.expirationTime,t(_,J);else break;J=i(v)}}function Wt(q){if(et=!1,Ht(q),!W)if(i(_)!==null)W=!0,xt||(xt=!0,O());else{var J=i(v);J!==null&&Gt(Wt,J.startTime-q)}}var xt=!1,N=-1,S=5,A=-1;function C(){return Z?!0:!(a.unstable_now()-A<S)}function D(){if(Z=!1,xt){var q=a.unstable_now();A=q;var J=!0;try{t:{W=!1,et&&(et=!1,_t(N),N=-1),F=!0;var at=U;try{e:{for(Ht(q),R=i(_);R!==null&&!(R.expirationTime>q&&C());){var wt=R.callback;if(typeof wt=="function"){R.callback=null,U=R.priorityLevel;var Pt=wt(R.expirationTime<=q);if(q=a.unstable_now(),typeof Pt=="function"){R.callback=Pt,Ht(q),J=!0;break e}R===i(_)&&r(_),Ht(q)}else r(_);R=i(_)}if(R!==null)J=!0;else{var V=i(v);V!==null&&Gt(Wt,V.startTime-q),J=!1}}break t}finally{R=null,U=at,F=!1}J=void 0}}finally{J?O():xt=!1}}}var O;if(typeof dt=="function")O=function(){dt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,It=w.port2;w.port1.onmessage=D,O=function(){It.postMessage(null)}}else O=function(){ht(D,0)};function Gt(q,J){N=ht(function(){q(a.unstable_now())},J)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return U},a.unstable_next=function(q){switch(U){case 1:case 2:case 3:var J=3;break;default:J=U}var at=U;U=J;try{return q()}finally{U=at}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var at=U;U=q;try{return J()}finally{U=at}},a.unstable_scheduleCallback=function(q,J,at){var wt=a.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?wt+at:wt):at=wt,q){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=at+Pt,q={id:b++,callback:J,priorityLevel:q,startTime:at,expirationTime:Pt,sortIndex:-1},at>wt?(q.sortIndex=at,t(v,q),i(_)===null&&q===i(v)&&(et?(_t(N),N=-1):et=!0,Gt(Wt,at-wt))):(q.sortIndex=Pt,t(_,q),W||F||(W=!0,xt||(xt=!0,O()))),q},a.unstable_shouldYield=C,a.unstable_wrapCallback=function(q){var J=U;return function(){var at=U;U=J;try{return q.apply(this,arguments)}finally{U=at}}}})(Ed)),Ed}var __;function eS(){return __||(__=1,Td.exports=tS()),Td.exports}var Sd={exports:{}},Ke={};var v_;function nS(){if(v_)return Ke;v_=1;var a=om();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(_,v,b){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:_,containerInfo:v,implementation:b}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(_,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(_,v,null,b)},Ke.flushSync=function(_){var v=d.T,b=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=b,r.d.f()}},Ke.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},Ke.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Ke.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var b=v.as,R=p(b,v.crossOrigin),U=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:R,integrity:U,fetchPriority:F}):b==="script"&&r.d.X(_,{crossOrigin:R,integrity:U,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ke.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=p(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},Ke.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,R=p(b,v.crossOrigin);r.d.L(_,b,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ke.preloadModule=function(_,v){if(typeof _=="string")if(v){var b=p(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},Ke.requestFormReset=function(_){r.d.r(_)},Ke.unstable_batchedUpdates=function(_,v){return _(v)},Ke.useFormState=function(_,v,b){return d.H.useFormState(_,v,b)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var T_;function iS(){if(T_)return Sd.exports;T_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Sd.exports=nS(),Sd.exports}var E_;function sS(){if(E_)return fl;E_=1;var a=eS(),t=om(),i=iS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(h(e)!==e)throw Error(r(188))}function v(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return _(c),e;if(f===o)return _(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=c,o=f;else{for(var g=!1,T=c.child;T;){if(T===s){g=!0,s=c,o=f;break}if(T===o){g=!0,o=c,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,o=c;break}if(T===o){g=!0,o=f,s=c;break}T=T.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,U=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function It(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ht:return"Profiler";case Z:return"StrictMode";case Wt:return"Suspense";case xt:return"SuspenseList";case A:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case dt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case Ht:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:It(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return It(e(n))}catch{}}return null}var Gt=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},wt=[],Pt=-1;function V(e){return{current:e}}function K(e){0>Pt||(e.current=wt[Pt],wt[Pt]=null,Pt--)}function tt(e,n){Pt++,wt[Pt]=e.current,e.current=n}var st=V(null),pt=V(null),At=V(null),kt=V(null);function Ce(e,n){switch(tt(At,n),tt(pt,e),tt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ky(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ky(n),e=Ly(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),tt(st,e)}function re(){K(st),K(pt),K(At)}function tr(e){e.memoizedState!==null&&tt(kt,e);var n=st.current,s=Ly(n,e.type);n!==s&&(tt(pt,e),tt(st,s))}function Gr(e){pt.current===e&&(K(st),K(pt)),kt.current===e&&(K(kt),ol._currentValue=at)}var Fr,Qr;function Jn(e){if(Fr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Fr=n&&n[1]||"",Qr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+e+Qr}var ao=!1;function er(e,n){if(!e||ao)return"";ao=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(j){var z=j}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(j){z=j}e.call(Q.prototype)}}else{try{throw Error()}catch(j){z=j}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var I=g.split(`
`),P=T.split(`
`);for(c=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(o===I.length||c===P.length)for(o=I.length-1,c=P.length-1;1<=o&&0<=c&&I[o]!==P[c];)c--;for(;1<=o&&0<=c;o--,c--)if(I[o]!==P[c]){if(o!==1||c!==1)do if(o--,c--,0>c||I[o]!==P[c]){var H=`
`+I[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=c);break}}}finally{ao=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Jn(s):""}function oo(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return er(e.type,!1);case 11:return er(e.type.render,!1);case 1:return er(e.type,!0);case 31:return Jn("Activity");default:return""}}function lo(e){try{var n="",s=null;do n+=oo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Ie=a.unstable_scheduleCallback,ss=a.unstable_cancelCallback,_h=a.unstable_shouldYield,Hl=a.unstable_requestPaint,$e=a.unstable_now,nr=a.unstable_getCurrentPriorityLevel,uo=a.unstable_ImmediatePriority,co=a.unstable_UserBlockingPriority,rs=a.unstable_NormalPriority,vh=a.unstable_LowPriority,Gl=a.unstable_IdlePriority,Fl=a.log,Ql=a.unstable_setDisableYieldValue,Ln=null,Le=null;function Tn(e){if(typeof Fl=="function"&&Ql(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Ln,e)}catch{}}var he=Math.clz32?Math.clz32:Yl,Kl=Math.log,Kr=Math.LN2;function Yl(e){return e>>>=0,e===0?32:31-(Kl(e)/Kr|0)|0}var $n=256,ir=262144,ye=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?c=Wn(o):(g&=T,g!==0?c=Wn(g):s||(s=T&~e,s!==0&&(c=Wn(s))))):(T=o&~f,T!==0?c=Wn(T):g!==0?c=Wn(g):s||(s=o&~e,s!==0&&(c=Wn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Th(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xl(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ei(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function sr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Eh(e,n,s,o,c,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var H=31-he(s),Q=1<<H;T[H]=0,I[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var j=z[H];j!==null&&(j.lane&=-536870913)}s&=~Q}o!==0&&rr(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function rr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function ho(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-he(s),c=1<<o;c&n|e[o]&n&&(e[o]|=n),s&=~c}}function fo(e,n){var s=n&-n;return s=(s&42)!==0?1:ar(s),(s&(e.suspendedLanes|n))!==0?0:s}function ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zl(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:a_(e.type))}function zn(e,n){var s=J.p;try{return J.p=e,n()}finally{J.p=s}}var Bn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Bn,Ve="__reactProps$"+Bn,ni="__reactContainer$"+Bn,Yr="__reactEvents$"+Bn,Sh="__reactListeners$"+Bn,Jl="__reactHandles$"+Bn,$l="__reactResources$"+Bn,ii="__reactMarker$"+Bn;function Xr(e){delete e[_e],delete e[Ve],delete e[Yr],delete e[Sh],delete e[Jl]}function si(e){var n=e[_e];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ni]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Gy(e);e!==null;){if(s=e[_e])return s;e=Gy(e)}return n}e=s,s=e.parentNode}return null}function En(e){if(e=e[_e]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ri(e){var n=e[$l];return n||(n=e[$l]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[ii]=!0}var mo=new Set,go={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(go[e]=n,e=0;e<n.length;e++)mo.add(n[e])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},_o={};function Wl(e){return pe.call(_o,e)?!0:pe.call(yo,e)?!1:po.test(e)?_o[e]=!0:(yo[e]=!0,!1)}function Zr(e,n,s){if(Wl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function hn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Te(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function as(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=as(e)?"checked":"value";e._valueTracker=vo(e,n,""+e[n])}}function or(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=as(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lr=/[\n"\\]/g;function en(e){return e.replace(lr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Jr(e,n,s,o,c,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?To(e,g,xe(n)):s!=null?To(e,g,xe(s)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+xe(T):e.removeAttribute("name")}function tu(e,n,s,o,c,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}s=s!=null?""+xe(s):"",n=n!=null?""+xe(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function To(e,n,s){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function os(e,n,s,o){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&o&&(e[s].defaultSelected=!0)}else{for(s=""+xe(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function eu(e,n,s){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+xe(s):""}function ls(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(Gt(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=xe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Qt(e)}function nn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||nu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function So(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&s[c]!==o&&Eo(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&Eo(e,f,n[f])}function $r(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(e){return us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var Ao=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,ui=null;function ur(e){var n=En(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(Jr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var c=o[Ve]||null;if(!c)throw Error(r(90));Jr(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&or(o)}break t;case"textarea":eu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&os(e,!!s.multiple,n,!1)}}}var ta=!1;function hs(e,n,s){if(ta)return e(n,s);ta=!0;try{var o=e(n);return o}finally{if(ta=!1,(cs!==null||ui!==null)&&(Zu(),cs&&(n=cs,e=ui,ui=cs=null,ur(n),e)))for(n=0;n<e.length;n++)ur(e[n])}}function qn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ve]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cr=!1;if(An)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){cr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{cr=!1}var ci=null,bo=null,hr=null;function wo(){if(hr)return hr;var e,n=bo,s=n.length,o,c="value"in ci?ci.value:ci.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===c[f-o];o++);return hr=c.slice(e,1<o?1-o:void 0)}function fr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function Hn(){return!1}function Pe(e){function n(s,o,c,f,g){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Hn,this.isPropagationStopped=Hn,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=Pe(Ni),fs=R({},Ni,{view:0,detail:0}),Ro=Pe(fs),ds,ea,fi,na=R({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(ds=e.screenX-fi.screenX,ea=e.screenY-fi.screenY):ea=ds=0,fi=e),ds)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),Co=Pe(na),dr=R({},na,{dataTransfer:0}),su=Pe(dr),ru=R({},fs,{relatedTarget:0}),mr=Pe(ru),Io=R({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),au=Pe(Io),ia=R({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ou=Pe(ia),lu=R({},Ni,{data:0}),di=Pe(lu),uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hu[e])?!!n[e]:!1}function ms(){return fu}var We=R({},fs,{key:function(e){if(e.key){var n=uu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),du=Pe(We),mu=R({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Pe(mu),u=R({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),m=Pe(u),y=R({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Pe(y),k=R({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Pe(k),$=R({},Ni,{newState:0,oldState:0}),Et=Pe($),fe=[9,13,27,32],jt=An&&"CompositionEvent"in window,ae=null;An&&"documentMode"in document&&(ae=document.documentMode);var bn=An&&"TextEvent"in window&&!ae,mi=An&&(!jt||ae&&8<ae&&11>=ae),Gn=" ",Fn=!1;function gr(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ra=!1;function EE(e,n){switch(e){case"compositionend":return sa(n);case"keypress":return n.which!==32?null:(Fn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Fn?null:e;default:return null}}function SE(e,n){if(ra)return e==="compositionend"||!jt&&gr(e,n)?(e=wo(),hr=bo=ci=null,ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var AE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!AE[e.type]:n==="textarea"}function Ym(e,n,s,o){cs?ui?ui.push(o):ui=[o]:cs=o,n=ic(n,"onChange"),0<n.length&&(s=new hi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Do=null,No=null;function bE(e){Ny(e,0)}function gu(e){var n=cn(e);if(or(n))return e}function Xm(e,n){if(e==="change")return n}var Zm=!1;if(An){var Ah;if(An){var bh="oninput"in document;if(!bh){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),bh=typeof Jm.oninput=="function"}Ah=bh}else Ah=!1;Zm=Ah&&(!document.documentMode||9<document.documentMode)}function $m(){Do&&(Do.detachEvent("onpropertychange",Wm),No=Do=null)}function Wm(e){if(e.propertyName==="value"&&gu(No)){var n=[];Ym(n,No,e,Sn(e)),hs(bE,n)}}function wE(e,n,s){e==="focusin"?($m(),Do=n,No=s,Do.attachEvent("onpropertychange",Wm)):e==="focusout"&&$m()}function RE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gu(No)}function CE(e,n){if(e==="click")return gu(n)}function IE(e,n){if(e==="input"||e==="change")return gu(n)}function DE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:DE;function Oo(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!pe.call(n,c)||!fn(e[c],n[c]))return!1}return!0}function tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eg(e,n){var s=tg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=tg(s)}}function ng(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ng(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=li(e.document)}return n}function wh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var NE=An&&"documentMode"in document&&11>=document.documentMode,aa=null,Rh=null,Mo=null,Ch=!1;function sg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ch||aa==null||aa!==li(o)||(o=aa,"selectionStart"in o&&wh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&Oo(Mo,o)||(Mo=o,o=ic(Rh,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=aa)))}function pr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var oa={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},Ih={},rg={};An&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function yr(e){if(Ih[e])return Ih[e];if(!oa[e])return e;var n=oa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in rg)return Ih[e]=n[s];return e}var ag=yr("animationend"),og=yr("animationiteration"),lg=yr("animationstart"),OE=yr("transitionrun"),ME=yr("transitionstart"),VE=yr("transitioncancel"),ug=yr("transitionend"),cg=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dh.push("scrollEnd");function Qn(e,n){cg.set(e,n),ai(n,[e])}var pu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],la=0,Nh=0;function yu(){for(var e=la,n=Nh=la=0;n<e;){var s=wn[n];wn[n++]=null;var o=wn[n];wn[n++]=null;var c=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}f!==0&&hg(s,c,f)}}function _u(e,n,s,o){wn[la++]=e,wn[la++]=n,wn[la++]=s,wn[la++]=o,Nh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Oh(e,n,s,o){return _u(e,n,s,o),vu(e)}function _r(e,n){return _u(e,null,null,n),vu(e)}function hg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-he(s),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=s|536870912),f):null}function vu(e){if(50<tl)throw tl=0,jf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ua={};function xE(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,s,o){return new xE(e,n,s,o)}function Mh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var s=e.alternate;return s===null?(s=dn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function fg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Tu(e,n,s,o,c,f){var g=0;if(o=e,typeof e=="function")Mh(e)&&(g=1);else if(typeof e=="string")g=z1(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case A:return e=dn(31,s,n,c),e.elementType=A,e.lanes=f,e;case et:return vr(s.children,c,f,n);case Z:g=8,c|=24;break;case ht:return e=dn(12,s,n,c|2),e.elementType=ht,e.lanes=f,e;case Wt:return e=dn(13,s,n,c),e.elementType=Wt,e.lanes=f,e;case xt:return e=dn(19,s,n,c),e.elementType=xt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case _t:g=9;break t;case Ht:g=11;break t;case N:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=dn(g,s,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function vr(e,n,s,o){return e=dn(7,e,o,n),e.lanes=s,e}function Vh(e,n,s){return e=dn(6,e,null,n),e.lanes=s,e}function dg(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function xh(e,n,s){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var mg=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var s=mg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:lo(n)},mg.set(e,n),n)}return{value:e,source:n,stack:lo(n)}}var ca=[],ha=0,Eu=null,Vo=0,Cn=[],In=0,gs=null,gi=1,pi="";function Vi(e,n){ca[ha++]=Vo,ca[ha++]=Eu,Eu=e,Vo=n}function gg(e,n,s){Cn[In++]=gi,Cn[In++]=pi,Cn[In++]=gs,gs=e;var o=gi;e=pi;var c=32-he(o)-1;o&=~(1<<c),s+=1;var f=32-he(n)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,gi=1<<32-he(n)+c|s<<c|o,pi=f+e}else gi=1<<f|s<<c|o,pi=e}function Uh(e){e.return!==null&&(Vi(e,1),gg(e,1,0))}function kh(e){for(;e===Eu;)Eu=ca[--ha],ca[ha]=null,Vo=ca[--ha],ca[ha]=null;for(;e===gs;)gs=Cn[--In],Cn[In]=null,pi=Cn[--In],Cn[In]=null,gi=Cn[--In],Cn[In]=null}function pg(e,n){Cn[In++]=gi,Cn[In++]=pi,Cn[In++]=gs,gi=n.id,pi=n.overflow,gs=e}var ze=null,ee=null,Ut=!1,ps=null,Dn=!1,Lh=Error(r(519));function ys(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xo(Rn(n,e)),Lh}function yg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[_e]=e,n[Ve]=o,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<nl.length;s++)Ct(nl[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),tu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ls(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||xy(n.textContent,s)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||ys(e,!0)}function _g(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:ze=ze.return}}function fa(e){if(e!==ze)return!1;if(!Ut)return _g(e),Ut=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||nd(e.type,e.memoizedProps)),s=!s),s&&ee&&ys(e),_g(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ee=Hy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ee=Hy(e)}else n===27?(n=ee,Os(e.type)?(e=od,od=null,ee=e):ee=n):ee=ze?On(e.stateNode.nextSibling):null;return!0}function Tr(){ee=ze=null,Ut=!1}function Ph(){var e=ps;return e!==null&&(on===null?on=e:on.push.apply(on,e),ps=null),e}function xo(e){ps===null?ps=[e]:ps.push(e)}var zh=V(null),Er=null,xi=null;function _s(e,n,s){tt(zh,n._currentValue),n._currentValue=s}function Ui(e){e._currentValue=zh.current,K(zh)}function Bh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function jh(e,n,s,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=c;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Bh(f.return,s,e),o||(g=null);break t}f=T.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Bh(g,s,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function da(e,n,s,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var T=c.type;fn(c.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(c===kt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}c=c.return}e!==null&&jh(n,e,s,o),n.flags|=262144}function Su(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sr(e){Er=e,xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return vg(Er,e)}function Au(e,n){return Er===null&&Sr(e),vg(e,n)}function vg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},xi===null){if(e===null)throw Error(r(308));xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xi=xi.next=n;return s}var UE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},kE=a.unstable_scheduleCallback,LE=a.unstable_NormalPriority,Ee={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new UE,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&kE(LE,function(){e.controller.abort()})}var ko=null,Hh=0,ma=0,ga=null;function PE(e,n){if(ko===null){var s=ko=[];Hh=0,ma=Kf(),ga={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Hh++,n.then(Tg,Tg),n}function Tg(){if(--Hh===0&&ko!==null){ga!==null&&(ga.status="fulfilled");var e=ko;ko=null,ma=0,ga=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function zE(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var Eg=q.S;q.S=function(e,n){sy=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&PE(e,n),Eg!==null&&Eg(e,n)};var Ar=V(null);function Gh(){var e=Ar.current;return e!==null?e:te.pooledCache}function bu(e,n){n===null?tt(Ar,Ar.current):tt(Ar,n.pool)}function Sg(){var e=Gh();return e===null?null:{parent:Ee._currentValue,pool:e}}var pa=Error(r(460)),Fh=Error(r(474)),wu=Error(r(542)),Ru={then:function(){}};function Ag(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(jn,jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rg(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rg(e),e}throw wr=n,pa}}function br(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(wr=s,pa):s}}var wr=null;function wg(){if(wr===null)throw Error(r(459));var e=wr;return wr=null,e}function Rg(e){if(e===pa||e===wu)throw Error(r(483))}var ya=null,Lo=0;function Cu(e){var n=Lo;return Lo+=1,ya===null&&(ya=[]),bg(ya,e,n)}function Po(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Iu(e,n){throw n.$$typeof===U?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Cg(e){function n(x,M){if(e){var L=x.deletions;L===null?(x.deletions=[M],x.flags|=16):L.push(M)}}function s(x,M){if(!e)return null;for(;M!==null;)n(x,M),M=M.sibling;return null}function o(x){for(var M=new Map;x!==null;)x.key!==null?M.set(x.key,x):M.set(x.index,x),x=x.sibling;return M}function c(x,M){return x=Mi(x,M),x.index=0,x.sibling=null,x}function f(x,M,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<M?(x.flags|=67108866,M):L):(x.flags|=67108866,M)):(x.flags|=1048576,M)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,M,L,G){return M===null||M.tag!==6?(M=Vh(L,x.mode,G),M.return=x,M):(M=c(M,L),M.return=x,M)}function I(x,M,L,G){var ut=L.type;return ut===et?H(x,M,L.props.children,G,L.key):M!==null&&(M.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&br(ut)===M.type)?(M=c(M,L.props),Po(M,L),M.return=x,M):(M=Tu(L.type,L.key,L.props,null,x.mode,G),Po(M,L),M.return=x,M)}function P(x,M,L,G){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=xh(L,x.mode,G),M.return=x,M):(M=c(M,L.children||[]),M.return=x,M)}function H(x,M,L,G,ut){return M===null||M.tag!==7?(M=vr(L,x.mode,G,ut),M.return=x,M):(M=c(M,L),M.return=x,M)}function Q(x,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Vh(""+M,x.mode,L),M.return=x,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case F:return L=Tu(M.type,M.key,M.props,null,x.mode,L),Po(L,M),L.return=x,L;case W:return M=xh(M,x.mode,L),M.return=x,M;case S:return M=br(M),Q(x,M,L)}if(Gt(M)||O(M))return M=vr(M,x.mode,L,null),M.return=x,M;if(typeof M.then=="function")return Q(x,Cu(M),L);if(M.$$typeof===dt)return Q(x,Au(x,M),L);Iu(x,M)}return null}function z(x,M,L,G){var ut=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ut!==null?null:T(x,M,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===ut?I(x,M,L,G):null;case W:return L.key===ut?P(x,M,L,G):null;case S:return L=br(L),z(x,M,L,G)}if(Gt(L)||O(L))return ut!==null?null:H(x,M,L,G,null);if(typeof L.then=="function")return z(x,M,Cu(L),G);if(L.$$typeof===dt)return z(x,M,Au(x,L),G);Iu(x,L)}return null}function j(x,M,L,G,ut){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(L)||null,T(M,x,""+G,ut);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case F:return x=x.get(G.key===null?L:G.key)||null,I(M,x,G,ut);case W:return x=x.get(G.key===null?L:G.key)||null,P(M,x,G,ut);case S:return G=br(G),j(x,M,L,G,ut)}if(Gt(G)||O(G))return x=x.get(L)||null,H(M,x,G,ut,null);if(typeof G.then=="function")return j(x,M,L,Cu(G),ut);if(G.$$typeof===dt)return j(x,M,L,Au(M,G),ut);Iu(M,G)}return null}function rt(x,M,L,G){for(var ut=null,zt=null,ot=M,bt=M=0,Nt=null;ot!==null&&bt<L.length;bt++){ot.index>bt?(Nt=ot,ot=null):Nt=ot.sibling;var Bt=z(x,ot,L[bt],G);if(Bt===null){ot===null&&(ot=Nt);break}e&&ot&&Bt.alternate===null&&n(x,ot),M=f(Bt,M,bt),zt===null?ut=Bt:zt.sibling=Bt,zt=Bt,ot=Nt}if(bt===L.length)return s(x,ot),Ut&&Vi(x,bt),ut;if(ot===null){for(;bt<L.length;bt++)ot=Q(x,L[bt],G),ot!==null&&(M=f(ot,M,bt),zt===null?ut=ot:zt.sibling=ot,zt=ot);return Ut&&Vi(x,bt),ut}for(ot=o(ot);bt<L.length;bt++)Nt=j(ot,x,bt,L[bt],G),Nt!==null&&(e&&Nt.alternate!==null&&ot.delete(Nt.key===null?bt:Nt.key),M=f(Nt,M,bt),zt===null?ut=Nt:zt.sibling=Nt,zt=Nt);return e&&ot.forEach(function(ks){return n(x,ks)}),Ut&&Vi(x,bt),ut}function ft(x,M,L,G){if(L==null)throw Error(r(151));for(var ut=null,zt=null,ot=M,bt=M=0,Nt=null,Bt=L.next();ot!==null&&!Bt.done;bt++,Bt=L.next()){ot.index>bt?(Nt=ot,ot=null):Nt=ot.sibling;var ks=z(x,ot,Bt.value,G);if(ks===null){ot===null&&(ot=Nt);break}e&&ot&&ks.alternate===null&&n(x,ot),M=f(ks,M,bt),zt===null?ut=ks:zt.sibling=ks,zt=ks,ot=Nt}if(Bt.done)return s(x,ot),Ut&&Vi(x,bt),ut;if(ot===null){for(;!Bt.done;bt++,Bt=L.next())Bt=Q(x,Bt.value,G),Bt!==null&&(M=f(Bt,M,bt),zt===null?ut=Bt:zt.sibling=Bt,zt=Bt);return Ut&&Vi(x,bt),ut}for(ot=o(ot);!Bt.done;bt++,Bt=L.next())Bt=j(ot,x,bt,Bt.value,G),Bt!==null&&(e&&Bt.alternate!==null&&ot.delete(Bt.key===null?bt:Bt.key),M=f(Bt,M,bt),zt===null?ut=Bt:zt.sibling=Bt,zt=Bt);return e&&ot.forEach(function(Z1){return n(x,Z1)}),Ut&&Vi(x,bt),ut}function $t(x,M,L,G){if(typeof L=="object"&&L!==null&&L.type===et&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:t:{for(var ut=L.key;M!==null;){if(M.key===ut){if(ut=L.type,ut===et){if(M.tag===7){s(x,M.sibling),G=c(M,L.props.children),G.return=x,x=G;break t}}else if(M.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&br(ut)===M.type){s(x,M.sibling),G=c(M,L.props),Po(G,L),G.return=x,x=G;break t}s(x,M);break}else n(x,M);M=M.sibling}L.type===et?(G=vr(L.props.children,x.mode,G,L.key),G.return=x,x=G):(G=Tu(L.type,L.key,L.props,null,x.mode,G),Po(G,L),G.return=x,x=G)}return g(x);case W:t:{for(ut=L.key;M!==null;){if(M.key===ut)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){s(x,M.sibling),G=c(M,L.children||[]),G.return=x,x=G;break t}else{s(x,M);break}else n(x,M);M=M.sibling}G=xh(L,x.mode,G),G.return=x,x=G}return g(x);case S:return L=br(L),$t(x,M,L,G)}if(Gt(L))return rt(x,M,L,G);if(O(L)){if(ut=O(L),typeof ut!="function")throw Error(r(150));return L=ut.call(L),ft(x,M,L,G)}if(typeof L.then=="function")return $t(x,M,Cu(L),G);if(L.$$typeof===dt)return $t(x,M,Au(x,L),G);Iu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(s(x,M.sibling),G=c(M,L),G.return=x,x=G):(s(x,M),G=Vh(L,x.mode,G),G.return=x,x=G),g(x)):s(x,M)}return function(x,M,L,G){try{Lo=0;var ut=$t(x,M,L,G);return ya=null,ut}catch(ot){if(ot===pa||ot===wu)throw ot;var zt=dn(29,ot,null,x.mode);return zt.lanes=G,zt.return=x,zt}}}var Rr=Cg(!0),Ig=Cg(!1),vs=!1;function Qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Es(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=vu(e),hg(e,null,s),n}return _u(e,o,n,s),vu(e)}function zo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ho(e,s)}}function Yh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Xh=!1;function Bo(){if(Xh){var e=ga;if(e!==null)throw e}}function jo(e,n,s,o){Xh=!1;var c=e.updateQueue;vs=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var I=T,P=I.next;I.next=null,g===null?f=P:g.next=P,g=I;var H=e.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==g&&(T===null?H.firstBaseUpdate=P:T.next=P,H.lastBaseUpdate=I))}if(f!==null){var Q=c.baseState;g=0,H=P=I=null,T=f;do{var z=T.lane&-536870913,j=z!==T.lane;if(j?(Dt&z)===z:(o&z)===z){z!==0&&z===ma&&(Xh=!0),H!==null&&(H=H.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var rt=e,ft=T;z=n;var $t=s;switch(ft.tag){case 1:if(rt=ft.payload,typeof rt=="function"){Q=rt.call($t,Q,z);break t}Q=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ft.payload,z=typeof rt=="function"?rt.call($t,Q,z):rt,z==null)break t;Q=R({},Q,z);break t;case 2:vs=!0}}z=T.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=c.callbacks,j===null?c.callbacks=[z]:j.push(z))}else j={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(P=H=j,I=Q):H=H.next=j,g|=z;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;j=T,T=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);H===null&&(I=Q),c.baseState=I,c.firstBaseUpdate=P,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),Rs|=g,e.lanes=g,e.memoizedState=Q}}function Dg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Ng(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Dg(s[e],n)}var _a=V(null),Du=V(0);function Og(e,n){e=Gi,tt(Du,e),tt(_a,n),Gi=e|n.baseLanes}function Zh(){tt(Du,Gi),tt(_a,_a.current)}function Jh(){Gi=Du.current,K(_a),K(Du)}var mn=V(null),Nn=null;function Ss(e){var n=e.alternate;tt(de,de.current&1),tt(mn,e),Nn===null&&(n===null||_a.current!==null||n.memoizedState!==null)&&(Nn=e)}function $h(e){tt(de,de.current),tt(mn,e),Nn===null&&(Nn=e)}function Mg(e){e.tag===22?(tt(de,de.current),tt(mn,e),Nn===null&&(Nn=e)):As()}function As(){tt(de,de.current),tt(mn,mn.current)}function gn(e){K(mn),Nn===e&&(Nn=null),K(de)}var de=V(0);function Nu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||rd(s)||ad(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ki=0,St=null,Zt=null,Se=null,Ou=!1,va=!1,Cr=!1,Mu=0,qo=0,Ta=null,BE=0;function ue(){throw Error(r(321))}function Wh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!fn(e[s],n[s]))return!1;return!0}function tf(e,n,s,o,c,f){return ki=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?gp:pf,Cr=!1,f=s(o,c),Cr=!1,va&&(f=xg(n,s,o,c)),Vg(e),f}function Vg(e){q.H=Fo;var n=Zt!==null&&Zt.next!==null;if(ki=0,Se=Zt=St=null,Ou=!1,qo=0,Ta=null,n)throw Error(r(300));e===null||Ae||(e=e.dependencies,e!==null&&Su(e)&&(Ae=!0))}function xg(e,n,s,o){St=e;var c=0;do{if(va&&(Ta=null),qo=0,va=!1,25<=c)throw Error(r(301));if(c+=1,Se=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=pp,f=n(s,o)}while(va);return f}function jE(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(St.flags|=1024),n}function ef(){var e=Mu!==0;return Mu=0,e}function nf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function sf(e){if(Ou){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ou=!1}ki=0,Se=Zt=St=null,va=!1,qo=Mu=0,Ta=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?St.memoizedState=Se=e:Se=Se.next=e,Se}function me(){if(Zt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Se===null?St.memoizedState:Se.next;if(n!==null)Se=n,Zt=e;else{if(e===null)throw St.alternate===null?Error(r(467)):Error(r(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Se===null?St.memoizedState=Se=e:Se=Se.next=e}return Se}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var n=qo;return qo+=1,Ta===null&&(Ta=[]),e=bg(Ta,e,n),n=St,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?gp:pf),e}function xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===dt)return Be(e)}throw Error(r(438,String(e)))}function rf(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Vu(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=C;return n.index++,s}function Li(e,n){return typeof n=="function"?n(e):n}function Uu(e){var n=me();return af(n,Zt,e)}function af(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var T=g=null,I=null,P=n,H=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Dt&Q)===Q:(ki&Q)===Q){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===ma&&(H=!0);else if((ki&z)===z){P=P.next,z===ma&&(H=!0);continue}else Q={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(T=I=Q,g=f):I=I.next=Q,St.lanes|=z,Rs|=z;Q=P.action,Cr&&s(f,Q),f=P.hasEagerState?P.eagerState:s(f,Q)}else z={lane:Q,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(T=I=z,g=f):I=I.next=z,St.lanes|=Q,Rs|=Q;P=P.next}while(P!==null&&P!==n);if(I===null?g=f:I.next=T,!fn(f,e.memoizedState)&&(Ae=!0,H&&(s=ga,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function of(e){var n=me(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);fn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Ug(e,n,s){var o=St,c=me(),f=Ut;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!fn((Zt||c).memoizedState,s);if(g&&(c.memoizedState=s,Ae=!0),c=c.queue,cf(Pg.bind(null,o,c,e),[e]),c.getSnapshot!==n||g||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Ea(9,{destroy:void 0},Lg.bind(null,o,c,s,n),null),te===null)throw Error(r(349));f||(ki&127)!==0||kg(o,n,s)}return s}function kg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=Vu(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Lg(e,n,s,o){n.value=s,n.getSnapshot=o,zg(n)&&Bg(e)}function Pg(e,n,s){return s(function(){zg(n)&&Bg(e)})}function zg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!fn(e,s)}catch{return!0}}function Bg(e){var n=_r(e,2);n!==null&&ln(n,e,2)}function lf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Cr){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function jg(e,n,s,o){return e.baseState=s,af(e,Zt,typeof o=="function"?o:Li)}function qE(e,n,s,o,c){if(Pu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,qg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function qg(e,n){var s=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var T=s(c,o),I=q.S;I!==null&&I(g,T),Hg(e,n,T)}catch(P){uf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=s(c,o),Hg(e,n,f)}catch(P){uf(e,n,P)}}function Hg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Gg(e,n,o)},function(o){return uf(e,n,o)}):Gg(e,n,s)}function Gg(e,n,s){n.status="fulfilled",n.value=s,Fg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,qg(e,s)))}function uf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Fg(n),n=n.next;while(n!==o)}e.action=null}function Fg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Qg(e,n){return n}function Kg(e,n){if(Ut){var s=te.formState;if(s!==null){t:{var o=St;if(Ut){if(ee){e:{for(var c=ee,f=Dn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ee=On(c.nextSibling),o=c.data==="F!";break t}}ys(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:n},s.queue=o,s=fp.bind(null,St,o),o.dispatch=s,o=lf(!1),f=gf.bind(null,St,!1,o.queue),o=tn(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,s=qE.bind(null,St,c,f,s),c.dispatch=s,o.memoizedState=e,[n,s,!1]}function Yg(e){var n=me();return Xg(n,Zt,e)}function Xg(e,n,s){if(n=af(e,n,Qg)[0],e=Uu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ho(n)}catch(g){throw g===pa?wu:g}else o=n;n=me();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(St.flags|=2048,Ea(9,{destroy:void 0},HE.bind(null,c,s),null)),[o,f,e]}function HE(e,n){e.action=n}function Zg(e){var n=me(),s=Zt;if(s!==null)return Xg(n,s,e);me(),n=n.memoizedState,s=me();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ea(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Vu(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Jg(){return me().memoizedState}function ku(e,n,s,o){var c=tn();St.flags|=e,c.memoizedState=Ea(1|n,{destroy:void 0},s,o===void 0?null:o)}function Lu(e,n,s,o){var c=me();o=o===void 0?null:o;var f=c.memoizedState.inst;Zt!==null&&o!==null&&Wh(o,Zt.memoizedState.deps)?c.memoizedState=Ea(n,f,s,o):(St.flags|=e,c.memoizedState=Ea(1|n,f,s,o))}function $g(e,n){ku(8390656,8,e,n)}function cf(e,n){Lu(2048,8,e,n)}function GE(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Vu(),St.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Wg(e){var n=me().memoizedState;return GE({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function tp(e,n){return Lu(4,2,e,n)}function ep(e,n){return Lu(4,4,e,n)}function np(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ip(e,n,s){s=s!=null?s.concat([e]):null,Lu(4,4,np.bind(null,n,e),s)}function hf(){}function sp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Wh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function rp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Wh(n,o[1]))return o[0];if(o=e(),Cr){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o}function ff(e,n,s){return s===void 0||(ki&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=ay(),St.lanes|=e,Rs|=e,s)}function ap(e,n,s,o){return fn(s,n)?s:_a.current!==null?(e=ff(e,s,o),fn(e,n)||(Ae=!0),e):(ki&42)===0||(ki&1073741824)!==0&&(Dt&261930)===0?(Ae=!0,e.memoizedState=s):(e=ay(),St.lanes|=e,Rs|=e,n)}function op(e,n,s,o,c){var f=J.p;J.p=f!==0&&8>f?f:8;var g=q.T,T={};q.T=T,gf(e,!1,n,s);try{var I=c(),P=q.S;if(P!==null&&P(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var H=zE(I,o);Go(e,n,H,_n(e))}else Go(e,n,o,_n(e))}catch(Q){Go(e,n,{then:function(){},status:"rejected",reason:Q},_n())}finally{J.p=f,g!==null&&T.types!==null&&(g.types=T.types),q.T=g}}function FE(){}function df(e,n,s,o){if(e.tag!==5)throw Error(r(476));var c=lp(e).queue;op(e,c,n,at,s===null?FE:function(){return up(e),s(o)})}function lp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:at},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function up(e){var n=lp(e);n.next===null&&(n=e.alternate.memoizedState),Go(e,n.next.queue,{},_n())}function mf(){return Be(ol)}function cp(){return me().memoizedState}function hp(){return me().memoizedState}function QE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=_n();e=Ts(s);var o=Es(n,e,s);o!==null&&(ln(o,n,s),zo(o,n,s)),n={cache:qh()},e.payload=n;return}n=n.return}}function KE(e,n,s){var o=_n();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Pu(e)?dp(n,s):(s=Oh(e,n,s,o),s!==null&&(ln(s,e,o),mp(s,n,o)))}function fp(e,n,s){var o=_n();Go(e,n,s,o)}function Go(e,n,s,o){var c={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))dp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(c.hasEagerState=!0,c.eagerState=T,fn(T,g))return _u(e,n,c,0),te===null&&yu(),!1}catch{}if(s=Oh(e,n,c,o),s!==null)return ln(s,e,o),mp(s,n,o),!0}return!1}function gf(e,n,s,o){if(o={lane:2,revertLane:Kf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(n)throw Error(r(479))}else n=Oh(e,s,o,2),n!==null&&ln(n,e,2)}function Pu(e){var n=e.alternate;return e===St||n!==null&&n===St}function dp(e,n){va=Ou=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function mp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ho(e,s)}}var Fo={readContext:Be,use:xu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Fo.useEffectEvent=ue;var gp={readContext:Be,use:xu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:$g,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ku(4194308,4,np.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ku(4194308,4,e,n)},useInsertionEffect:function(e,n){ku(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Cr){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var c=s(n);if(Cr){Tn(!0);try{s(n)}finally{Tn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=KE.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=lf(e);var n=e.queue,s=fp.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:hf,useDeferredValue:function(e,n){var s=tn();return ff(s,e,n)},useTransition:function(){var e=lf(!1);return e=op.bind(null,St,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=St,c=tn();if(Ut){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),te===null)throw Error(r(349));(Dt&127)!==0||kg(o,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,$g(Pg.bind(null,o,f,e),[e]),o.flags|=2048,Ea(9,{destroy:void 0},Lg.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=te.identifierPrefix;if(Ut){var s=pi,o=gi;s=(o&~(1<<32-he(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Mu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=BE++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:mf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=gf.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:rf,useCacheRefresh:function(){return tn().memoizedState=QE.bind(null,St)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},pf={readContext:Be,use:xu,useCallback:sp,useContext:Be,useEffect:cf,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:ep,useMemo:rp,useReducer:Uu,useRef:Jg,useState:function(){return Uu(Li)},useDebugValue:hf,useDeferredValue:function(e,n){var s=me();return ap(s,Zt.memoizedState,e,n)},useTransition:function(){var e=Uu(Li)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Ug,useId:cp,useHostTransitionStatus:mf,useFormState:Yg,useActionState:Yg,useOptimistic:function(e,n){var s=me();return jg(s,Zt,e,n)},useMemoCache:rf,useCacheRefresh:hp};pf.useEffectEvent=Wg;var pp={readContext:Be,use:xu,useCallback:sp,useContext:Be,useEffect:cf,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:ep,useMemo:rp,useReducer:of,useRef:Jg,useState:function(){return of(Li)},useDebugValue:hf,useDeferredValue:function(e,n){var s=me();return Zt===null?ff(s,e,n):ap(s,Zt.memoizedState,e,n)},useTransition:function(){var e=of(Li)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Ug,useId:cp,useHostTransitionStatus:mf,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,n){var s=me();return Zt!==null?jg(s,Zt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:rf,useCacheRefresh:hp};pp.useEffectEvent=Wg;function yf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:R({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var _f={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=_n(),c=Ts(o);c.payload=n,s!=null&&(c.callback=s),n=Es(e,c,o),n!==null&&(ln(n,e,o),zo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=_n(),c=Ts(o);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Es(e,c,o),n!==null&&(ln(n,e,o),zo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=_n(),o=Ts(s);o.tag=2,n!=null&&(o.callback=n),n=Es(e,o,s),n!==null&&(ln(n,e,s),zo(n,e,s))}};function yp(e,n,s,o,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Oo(s,o)||!Oo(c,f):!0}function _p(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&_f.enqueueReplaceState(n,n.state,null)}function Ir(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=R({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function vp(e){pu(e)}function Tp(e){console.error(e)}function Ep(e){pu(e)}function zu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Sp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vf(e,n,s){return s=Ts(s),s.tag=3,s.payload={element:null},s.callback=function(){zu(e,n)},s}function Ap(e){return e=Ts(e),e.tag=3,e}function bp(e,n,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Sp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Sp(n,s,o),typeof c!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function YE(e,n,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&da(n,s,c,!0),s=mn.current,s!==null){switch(s.tag){case 31:case 13:return Nn===null?Ju():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===Ru?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Gf(e,o,c)),!1;case 22:return s.flags|=65536,o===Ru?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Gf(e,o,c)),!1}throw Error(r(435,s.tag))}return Gf(e,o,c),Ju(),!1}if(Ut)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Lh&&(e=Error(r(422),{cause:o}),xo(Rn(e,s)))):(o!==Lh&&(n=Error(r(423),{cause:o}),xo(Rn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Rn(o,s),c=vf(e.stateNode,o,c),Yh(e,c),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:o});if(f=Rn(f,s),Wo===null?Wo=[f]:Wo.push(f),ce!==4&&(ce=2),n===null)return!0;o=Rn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=vf(s.stateNode,o,e),Yh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cs===null||!Cs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Ap(c),bp(c,e,s,o),Yh(s,c),!1}s=s.return}while(s!==null);return!1}var Tf=Error(r(461)),Ae=!1;function je(e,n,s,o){n.child=e===null?Ig(n,null,s,o):Rr(n,e.child,s,o)}function wp(e,n,s,o,c){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return Sr(n),o=tf(e,n,s,g,f,c),T=ef(),e!==null&&!Ae?(nf(e,n,c),Pi(e,n,c)):(Ut&&T&&Uh(n),n.flags|=1,je(e,n,o,c),n.child)}function Rp(e,n,s,o,c){if(e===null){var f=s.type;return typeof f=="function"&&!Mh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Cp(e,n,f,o,c)):(e=Tu(s.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!If(e,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Oo,s(g,o)&&e.ref===n.ref)return Pi(e,n,c)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Cp(e,n,s,o,c){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,If(e,c))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,Pi(e,n,c)}return Ef(e,n,s,o,c)}function Ip(e,n,s,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,n.child=null;return Dp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&bu(n,f!==null?f.cachePool:null),f!==null?Og(n,f):Zh(),Mg(n);else return o=n.lanes=536870912,Dp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(bu(n,f.cachePool),Og(n,f),As(),n.memoizedState=null):(e!==null&&bu(n,null),Zh(),As());return je(e,n,c,s),n.child}function Qo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Dp(e,n,s,o,c){var f=Gh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&bu(n,null),Zh(),Mg(n),e!==null&&da(e,n,o,!0),n.childLanes=c,null}function Bu(e,n){return n=qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Np(e,n,s){return Rr(n,e.child,null,s),e=Bu(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function XE(e,n,s){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Bu(n,o),n.lanes=536870912,Qo(null,e);if($h(n),(e=ee)?(e=qy(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=dg(e),s.return=n,n.child=s,ze=n,ee=null)):e=null,e===null)throw ys(n);return n.lanes=536870912,null}return Bu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if($h(n),c)if(n.flags&256)n.flags&=-257,n=Np(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ae||da(e,n,s,!1),c=(s&e.childLanes)!==0,Ae||c){if(o=te,o!==null&&(g=fo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,_r(e,g),ln(o,e,g),Tf;Ju(),n=Np(e,n,s)}else e=f.treeContext,ee=On(g.nextSibling),ze=n,Ut=!0,ps=null,Dn=!1,e!==null&&pg(n,e),n=Bu(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ju(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Ef(e,n,s,o,c){return Sr(n),s=tf(e,n,s,o,void 0,c),o=ef(),e!==null&&!Ae?(nf(e,n,c),Pi(e,n,c)):(Ut&&o&&Uh(n),n.flags|=1,je(e,n,s,c),n.child)}function Op(e,n,s,o,c,f){return Sr(n),n.updateQueue=null,s=xg(n,o,s,c),Vg(e),o=ef(),e!==null&&!Ae?(nf(e,n,f),Pi(e,n,f)):(Ut&&o&&Uh(n),n.flags|=1,je(e,n,s,f),n.child)}function Mp(e,n,s,o,c){if(Sr(n),n.stateNode===null){var f=ua,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_f,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Qh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ua,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(yf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&_f.enqueueReplaceState(f,f.state,null),jo(n,o,f,c),Bo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,I=Ir(s,T);f.props=I;var P=f.context,H=s.contextType;g=ua,typeof H=="object"&&H!==null&&(g=Be(H));var Q=s.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&_p(n,f,o,g),vs=!1;var z=n.memoizedState;f.state=z,jo(n,o,f,c),Bo(),P=n.memoizedState,T||z!==P||vs?(typeof Q=="function"&&(yf(n,s,Q,o),P=n.memoizedState),(I=vs||yp(n,s,I,o,z,P,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Kh(e,n),g=n.memoizedProps,H=Ir(s,g),f.props=H,Q=n.pendingProps,z=f.context,P=s.contextType,I=ua,typeof P=="object"&&P!==null&&(I=Be(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==I)&&_p(n,f,o,I),vs=!1,z=n.memoizedState,f.state=z,jo(n,o,f,c),Bo();var j=n.memoizedState;g!==Q||z!==j||vs||e!==null&&e.dependencies!==null&&Su(e.dependencies)?(typeof T=="function"&&(yf(n,s,T,o),j=n.memoizedState),(H=vs||yp(n,s,H,o,z,j,I)||e!==null&&e.dependencies!==null&&Su(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=I,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Rr(n,e.child,null,c),n.child=Rr(n,null,s,c)):je(e,n,s,c),n.memoizedState=f.state,e=n.child):e=Pi(e,n,c),e}function Vp(e,n,s,o){return Tr(),n.flags|=256,je(e,n,s,o),n.child}var Sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(e){return{baseLanes:e,cachePool:Sg()}}function bf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=yn),e}function xp(e,n,s){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(c?Ss(n):As(),(e=ee)?(e=qy(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=dg(e),s.return=n,n.child=s,ze=n,ee=null)):e=null,e===null)throw ys(n);return ad(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,c?(As(),c=n.mode,T=qu({mode:"hidden",children:T},c),o=vr(o,c,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Af(s),o.childLanes=bf(e,g,s),n.memoizedState=Sf,Qo(null,o)):(Ss(n),wf(n,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(Ss(n),n.flags&=-257,n=Rf(e,n,s)):n.memoizedState!==null?(As(),n.child=e.child,n.flags|=128,n=null):(As(),T=o.fallback,c=n.mode,o=qu({mode:"visible",children:o.children},c),T=vr(T,c,s,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Rr(n,e.child,null,s),o=n.child,o.memoizedState=Af(s),o.childLanes=bf(e,g,s),n.memoizedState=Sf,n=Qo(null,o));else if(Ss(n),ad(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(r(419)),o.stack="",o.digest=g,xo({value:o,source:null,stack:null}),n=Rf(e,n,s)}else if(Ae||da(e,n,s,!1),g=(s&e.childLanes)!==0,Ae||g){if(g=te,g!==null&&(o=fo(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,_r(e,o),ln(g,e,o),Tf;rd(T)||Ju(),n=Rf(e,n,s)}else rd(T)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ee=On(T.nextSibling),ze=n,Ut=!0,ps=null,Dn=!1,e!==null&&pg(n,e),n=wf(n,o.children),n.flags|=4096);return n}return c?(As(),T=o.fallback,c=n.mode,I=e.child,P=I.sibling,o=Mi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?T=Mi(P,T):(T=vr(T,c,s,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Qo(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Af(s):(c=T.cachePool,c!==null?(I=Ee._currentValue,c=c.parent!==I?{parent:I,pool:I}:c):c=Sg(),T={baseLanes:T.baseLanes|s,cachePool:c}),o.memoizedState=T,o.childLanes=bf(e,g,s),n.memoizedState=Sf,Qo(e.child,o)):(Ss(n),s=e.child,e=s.sibling,s=Mi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function wf(e,n){return n=qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function qu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function Rf(e,n,s){return Rr(n,e.child,null,s),e=wf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Up(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bh(e.return,n,s)}function Cf(e,n,s,o,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function kp(e,n,s){var o=n.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var g=de.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,tt(de,g),je(e,n,o,s),o=Ut?Vo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Up(e,s,n);else if(e.tag===19)Up(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Nu(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Cf(n,!1,c,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Nu(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Cf(n,!0,s,null,f,o);break;case"together":Cf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Rs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(da(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Mi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Mi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function If(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Su(e)))}function ZE(e,n,s){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),_s(n,Ee,e.memoizedState.cache),Tr();break;case 27:case 5:tr(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,$h(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ss(n),n.flags|=128,null):(s&n.child.childLanes)!==0?xp(e,n,s):(Ss(n),e=Pi(e,n,s),e!==null?e.sibling:null);Ss(n);break;case 19:var c=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(da(e,n,s,!1),o=(s&n.childLanes)!==0),c){if(o)return kp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(de,de.current),o)break;return null;case 22:return n.lanes=0,Ip(e,n,s,n.pendingProps);case 24:_s(n,Ee,e.memoizedState.cache)}return Pi(e,n,s)}function Lp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!If(e,s)&&(n.flags&128)===0)return Ae=!1,ZE(e,n,s);Ae=(e.flags&131072)!==0}else Ae=!1,Ut&&(n.flags&1048576)!==0&&gg(n,Vo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=br(n.elementType),n.type=e,typeof e=="function")Mh(e)?(o=Ir(e,o),n.tag=1,n=Mp(null,n,e,o,s)):(n.tag=0,n=Ef(null,n,e,o,s));else{if(e!=null){var c=e.$$typeof;if(c===Ht){n.tag=11,n=wp(null,n,e,o,s);break t}else if(c===N){n.tag=14,n=Rp(null,n,e,o,s);break t}}throw n=It(e)||e,Error(r(306,n,""))}}return n;case 0:return Ef(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,c=Ir(o,n.pendingProps),Mp(e,n,o,c,s);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Kh(e,n),jo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,_s(n,Ee,o),o!==f.cache&&jh(n,[Ee],s,!0),Bo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Vp(e,n,o,s);break t}else if(o!==c){c=Rn(Error(r(424)),n),xo(c),n=Vp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ee=On(e.firstChild),ze=n,Ut=!0,ps=null,Dn=!0,s=Ig(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Tr(),o===c){n=Pi(e,n,s);break t}je(e,n,o,s)}n=n.child}return n;case 26:return ju(e,n),e===null?(s=Yy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ut||(s=n.type,e=n.pendingProps,o=sc(At.current).createElement(s),o[_e]=n,o[Ve]=e,qe(o,s,e),ve(o),n.stateNode=o):n.memoizedState=Yy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return tr(n),e===null&&Ut&&(o=n.stateNode=Fy(n.type,n.pendingProps,At.current),ze=n,Dn=!0,c=ee,Os(n.type)?(od=c,ee=On(o.firstChild)):ee=c),je(e,n,n.pendingProps.children,s),ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((c=o=ee)&&(o=R1(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,ze=n,ee=On(o.firstChild),Dn=!1,c=!0):c=!1),c||ys(n)),tr(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,nd(c,f)?o=null:g!==null&&nd(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=tf(e,n,jE,null,null,s),ol._currentValue=c),ju(e,n),je(e,n,o,s),n.child;case 6:return e===null&&Ut&&((e=s=ee)&&(s=C1(s,n.pendingProps,Dn),s!==null?(n.stateNode=s,ze=n,ee=null,e=!0):e=!1),e||ys(n)),null;case 13:return xp(e,n,s);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Rr(n,null,o,s):je(e,n,o,s),n.child;case 11:return wp(e,n,n.type,n.pendingProps,s);case 7:return je(e,n,n.pendingProps,s),n.child;case 8:return je(e,n,n.pendingProps.children,s),n.child;case 12:return je(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,_s(n,n.type,o.value),je(e,n,o.children,s),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Sr(n),c=Be(c),o=o(c),n.flags|=1,je(e,n,o,s),n.child;case 14:return Rp(e,n,n.type,n.pendingProps,s);case 15:return Cp(e,n,n.type,n.pendingProps,s);case 19:return kp(e,n,s);case 31:return XE(e,n,s);case 22:return Ip(e,n,s,n.pendingProps);case 24:return Sr(n),o=Be(Ee),e===null?(c=Gh(),c===null&&(c=te,f=qh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:o,cache:c},Qh(n),_s(n,Ee,c)):((e.lanes&s)!==0&&(Kh(e,n),jo(n,null,null,s),Bo()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),_s(n,Ee,o)):(o=f.cache,_s(n,Ee,o),o!==c.cache&&jh(n,[Ee],s,!0))),je(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function zi(e){e.flags|=4}function Df(e,n,s,o,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(cy())e.flags|=8192;else throw wr=Ru,Fh}else e.flags&=-16777217}function Pp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wy(n))if(cy())e.flags|=8192;else throw wr=Ru,Fh}function Hu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Xl():536870912,e.lanes|=n,wa|=n)}function Ko(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function JE(e,n,s){var o=n.pendingProps;switch(kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Ee),re(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(fa(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ph())),ne(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(ne(n),Pp(n,f)):(ne(n),Df(n,c,null,o,s))):f?f!==e.memoizedState?(zi(n),ne(n),Pp(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&zi(n),ne(n),Df(n,c,e,o,s)),null;case 27:if(Gr(n),s=At.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ne(n),null}e=st.current,fa(n)?yg(n):(e=Fy(c,o,s),n.stateNode=e,zi(n))}return ne(n),null;case 5:if(Gr(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ne(n),null}if(f=st.current,fa(n))yg(n);else{var g=sc(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(c,{is:o.is}):g.createElement(c)}}f[_e]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&zi(n)}}return ne(n),Df(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=At.current,fa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,c=ze,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[_e]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||xy(e.nodeValue,s)),e||ys(n,!0)}else e=sc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ne(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=fa(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[_e]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else s=Ph(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=fa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[_e]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=Ph(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Hu(n,n.updateQueue),ne(n),null);case 4:return re(),e===null&&Jf(n.stateNode.containerInfo),ne(n),null;case 10:return Ui(n.type),ne(n),null;case 19:if(K(de),o=n.memoizedState,o===null)return ne(n),null;if(c=(n.flags&128)!==0,f=o.rendering,f===null)if(c)Ko(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Nu(e),f!==null){for(n.flags|=128,Ko(o,!1),e=f.updateQueue,n.updateQueue=e,Hu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)fg(s,e),s=s.sibling;return tt(de,de.current&1|2),Ut&&Vi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Yu&&(n.flags|=128,c=!0,Ko(o,!1),n.lanes=4194304)}else{if(!c)if(e=Nu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Hu(n,e),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ne(n),null}else 2*$e()-o.renderingStartTime>Yu&&s!==536870912&&(n.flags|=128,c=!0,Ko(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,s=de.current,tt(de,c?s&1|2:s&1),Ut&&Vi(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return gn(n),Jh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),s=n.updateQueue,s!==null&&Hu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(Ar),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Ee),ne(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function $E(e,n){switch(kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Ee),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Gr(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(r(340));Tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(de),null;case 4:return re(),null;case 10:return Ui(n.type),null;case 22:case 23:return gn(n),Jh(),e!==null&&K(Ar),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Ee),null;case 25:return null;default:return null}}function zp(e,n){switch(kh(n),n.tag){case 3:Ui(Ee),re();break;case 26:case 27:case 5:Gr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:K(de);break;case 10:Ui(n.type);break;case 22:case 23:gn(n),Jh(),e!==null&&K(Ar);break;case 24:Ui(Ee)}}function Yo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==c)}}catch(T){Yt(n,n.return,T)}}function bs(e,n,s){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,c=n;var I=s,P=T;try{P()}catch(H){Yt(c,I,H)}}}o=o.next}while(o!==f)}}catch(H){Yt(n,n.return,H)}}function Bp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Ng(n,s)}catch(o){Yt(e,e.return,o)}}}function jp(e,n,s){s.props=Ir(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Yt(e,n,o)}}function Xo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(c){Yt(e,n,c)}}function yi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){Yt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Yt(e,n,c)}else s.current=null}function qp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){Yt(e,e.return,c)}}function Nf(e,n,s){try{var o=e.stateNode;T1(o,e.type,s,n),o[Ve]=n}catch(c){Yt(e,e.return,c)}}function Hp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function Of(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Hp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=jn));else if(o!==4&&(o===27&&Os(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Mf(e,n,s),e=e.sibling;e!==null;)Mf(e,n,s),e=e.sibling}function Gu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Os(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Gu(e,n,s),e=e.sibling;e!==null;)Gu(e,n,s),e=e.sibling}function Gp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,o,s),n[_e]=e,n[Ve]=s}catch(f){Yt(e,e.return,f)}}var Bi=!1,be=!1,Vf=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function WE(e,n){if(e=e.containerInfo,td=hc,e=ig(e),wh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,I=-1,P=0,H=0,Q=e,z=null;e:for(;;){for(var j;Q!==s||c!==0&&Q.nodeType!==3||(T=g+c),Q!==f||o!==0&&Q.nodeType!==3||(I=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(j=Q.firstChild)!==null;)z=Q,Q=j;for(;;){if(Q===e)break e;if(z===s&&++P===c&&(T=g),z===f&&++H===o&&(I=g),(j=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=j}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(ed={focusedElem:e,selectionRange:s},hc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var rt=Ir(s.type,c);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Yt(s,s.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)sd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function Qp(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:qi(e,s),o&4&&Yo(5,s);break;case 1:if(qi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(s,s.return,g)}else{var c=Ir(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(s,s.return,g)}}o&64&&Bp(s),o&512&&Xo(s,s.return);break;case 3:if(qi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Ng(e,n)}catch(g){Yt(s,s.return,g)}}break;case 27:n===null&&o&4&&Gp(s);case 26:case 5:qi(e,s),n===null&&o&4&&qp(s),o&512&&Xo(s,s.return);break;case 12:qi(e,s);break;case 31:qi(e,s),o&4&&Xp(e,s);break;case 13:qi(e,s),o&4&&Zp(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=l1.bind(null,s),I1(e,s))));break;case 22:if(o=s.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||be,c=Bi;var f=be;Bi=o,(be=n)&&!f?Hi(e,s,(s.subtreeFlags&8772)!==0):qi(e,s),Bi=c,be=f}break;case 30:break;default:qi(e,s)}}function Kp(e){var n=e.alternate;n!==null&&(e.alternate=null,Kp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,sn=!1;function ji(e,n,s){for(s=s.child;s!==null;)Yp(e,n,s),s=s.sibling}function Yp(e,n,s){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Ln,s)}catch{}switch(s.tag){case 26:be||yi(s,n),ji(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||yi(s,n);var o=oe,c=sn;Os(s.type)&&(oe=s.stateNode,sn=!1),ji(e,n,s),sl(s.stateNode),oe=o,sn=c;break;case 5:be||yi(s,n);case 6:if(o=oe,c=sn,oe=null,ji(e,n,s),oe=o,sn=c,oe!==null)if(sn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(f){Yt(s,n,f)}else try{oe.removeChild(s.stateNode)}catch(f){Yt(s,n,f)}break;case 18:oe!==null&&(sn?(e=oe,By(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Va(e)):By(oe,s.stateNode));break;case 4:o=oe,c=sn,oe=s.stateNode.containerInfo,sn=!0,ji(e,n,s),oe=o,sn=c;break;case 0:case 11:case 14:case 15:bs(2,s,n),be||bs(4,s,n),ji(e,n,s);break;case 1:be||(yi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&jp(s,n,o)),ji(e,n,s);break;case 21:ji(e,n,s);break;case 22:be=(o=be)||s.memoizedState!==null,ji(e,n,s),be=o;break;default:ji(e,n,s)}}function Xp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Va(e)}catch(s){Yt(n,n.return,s)}}}function Zp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Va(e)}catch(s){Yt(n,n.return,s)}}function t1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Fp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Fp),n;default:throw Error(r(435,e.tag))}}function Fu(e,n){var s=t1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var c=u1.bind(null,e,o);o.then(c,c)}})}function rn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Os(T.type)){oe=T.stateNode,sn=!1;break t}break;case 5:oe=T.stateNode,sn=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,sn=!0;break t}T=T.return}if(oe===null)throw Error(r(160));Yp(f,g,c),oe=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Jp(n,e),n=n.sibling}var Kn=null;function Jp(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(n,e),an(e),o&4&&(bs(3,e,e.return),Yo(3,e),bs(5,e,e.return));break;case 1:rn(n,e),an(e),o&512&&(be||s===null||yi(s,s.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=Kn;if(rn(n,e),an(e),o&512&&(be||s===null||yi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ii]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,o,s),f[_e]=e,ve(f),o=f;break t;case"link":var g=Jy("link","href",c).get(o+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=c.createElement(o),qe(f,o,s),c.head.appendChild(f);break;case"meta":if(g=Jy("meta","content",c).get(o+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=c.createElement(o),qe(f,o,s),c.head.appendChild(f);break;default:throw Error(r(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else $y(c,e.type,e.stateNode);else e.stateNode=Zy(c,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?$y(c,e.type,e.stateNode):Zy(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Nf(e,e.memoizedProps,s.memoizedProps)}break;case 27:rn(n,e),an(e),o&512&&(be||s===null||yi(s,s.return)),s!==null&&o&4&&Nf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(rn(n,e),an(e),o&512&&(be||s===null||yi(s,s.return)),e.flags&32){c=e.stateNode;try{nn(c,"")}catch(rt){Yt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Nf(e,c,s!==null?s.memoizedProps:c)),o&1024&&(Vf=!0);break;case 6:if(rn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(rt){Yt(e,e.return,rt)}}break;case 3:if(oc=null,c=Kn,Kn=rc(n.containerInfo),rn(n,e),Kn=c,an(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Va(n.containerInfo)}catch(rt){Yt(e,e.return,rt)}Vf&&(Vf=!1,$p(e));break;case 4:o=Kn,Kn=rc(e.stateNode.containerInfo),rn(n,e),an(e),Kn=o;break;case 12:rn(n,e),an(e);break;case 31:rn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 13:rn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ku=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 22:c=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,P=Bi,H=be;if(Bi=P||c,be=H||I,rn(n,e),be=H,Bi=P,an(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||I||Bi||be||Dr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=I.stateNode;var Q=I.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Yt(I,I.return,rt)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=c?"":I.memoizedProps}catch(rt){Yt(I,I.return,rt)}}}else if(n.tag===18){if(s===null){I=n;try{var j=I.stateNode;c?jy(j,!0):jy(I.stateNode,!1)}catch(rt){Yt(I,I.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Fu(e,s))));break;case 19:rn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 30:break;case 21:break;default:rn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Hp(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=Of(e);Gu(e,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(nn(g,""),s.flags&=-33);var T=Of(e);Gu(e,T,g);break;case 3:case 4:var I=s.stateNode.containerInfo,P=Of(e);Mf(e,P,I);break;default:throw Error(r(161))}}catch(H){Yt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $p(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;$p(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Qp(e,n.alternate,n),n=n.sibling}function Dr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:bs(4,n,n.return),Dr(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&jp(n,n.return,s),Dr(n);break;case 27:sl(n.stateNode);case 26:case 5:yi(n,n.return),Dr(n);break;case 22:n.memoizedState===null&&Dr(n);break;case 30:Dr(n);break;default:Dr(n)}e=e.sibling}}function Hi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(c,f,s),Yo(4,f);break;case 1:if(Hi(c,f,s),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Yt(o,o.return,P)}if(o=f,c=o.updateQueue,c!==null){var T=o.stateNode;try{var I=c.shared.hiddenCallbacks;if(I!==null)for(c.shared.hiddenCallbacks=null,c=0;c<I.length;c++)Dg(I[c],T)}catch(P){Yt(o,o.return,P)}}s&&g&64&&Bp(f),Xo(f,f.return);break;case 27:Gp(f);case 26:case 5:Hi(c,f,s),s&&o===null&&g&4&&qp(f),Xo(f,f.return);break;case 12:Hi(c,f,s);break;case 31:Hi(c,f,s),s&&g&4&&Xp(c,f);break;case 13:Hi(c,f,s),s&&g&4&&Zp(c,f);break;case 22:f.memoizedState===null&&Hi(c,f,s),Xo(f,f.return);break;case 30:break;default:Hi(c,f,s)}n=n.sibling}}function xf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Uo(s))}function Uf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e))}function Yn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wp(e,n,s,o),n=n.sibling}function Wp(e,n,s,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,s,o),c&2048&&Yo(9,n);break;case 1:Yn(e,n,s,o);break;case 3:Yn(e,n,s,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e)));break;case 12:if(c&2048){Yn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(n,n.return,I)}}else Yn(e,n,s,o);break;case 31:Yn(e,n,s,o);break;case 13:Yn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,s,o):Zo(e,n):f._visibility&2?Yn(e,n,s,o):(f._visibility|=2,Sa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&xf(g,n);break;case 24:Yn(e,n,s,o),c&2048&&Uf(n.alternate,n);break;default:Yn(e,n,s,o)}}function Sa(e,n,s,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,I=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Sa(f,g,T,I,c),Yo(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Sa(f,g,T,I,c):Zo(f,g):(H._visibility|=2,Sa(f,g,T,I,c)),c&&P&2048&&xf(g.alternate,g);break;case 24:Sa(f,g,T,I,c),c&&P&2048&&Uf(g.alternate,g);break;default:Sa(f,g,T,I,c)}n=n.sibling}}function Zo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,c=o.flags;switch(o.tag){case 22:Zo(s,o),c&2048&&xf(o.alternate,o);break;case 24:Zo(s,o),c&2048&&Uf(o.alternate,o);break;default:Zo(s,o)}n=n.sibling}}var Jo=8192;function Aa(e,n,s){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)ty(e,n,s),e=e.sibling}function ty(e,n,s){switch(e.tag){case 26:Aa(e,n,s),e.flags&Jo&&e.memoizedState!==null&&B1(s,Kn,e.memoizedState,e.memoizedProps);break;case 5:Aa(e,n,s);break;case 3:case 4:var o=Kn;Kn=rc(e.stateNode.containerInfo),Aa(e,n,s),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Jo,Jo=16777216,Aa(e,n,s),Jo=o):Aa(e,n,s));break;default:Aa(e,n,s)}}function ey(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $o(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,iy(o,e)}ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 0:case 11:case 15:$o(e),e.flags&2048&&bs(9,e,e.return);break;case 3:$o(e);break;case 12:$o(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Qu(e)):$o(e);break;default:$o(e)}}function Qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,iy(o,e)}ey(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:bs(8,n,n.return),Qu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Qu(n));break;default:Qu(n)}e=e.sibling}}function iy(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:bs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Uo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ue=o;else t:for(s=e;Ue!==null;){o=Ue;var c=o.sibling,f=o.return;if(Kp(o),o===s){Ue=null;break t}if(c!==null){c.return=f,Ue=c;break t}Ue=f}}}var e1={getCacheForType:function(e){var n=Be(Ee),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Ee).controller.signal}},n1=typeof WeakMap=="function"?WeakMap:Map,qt=0,te=null,Rt=null,Dt=0,Kt=0,pn=null,ws=!1,ba=!1,kf=!1,Gi=0,ce=0,Rs=0,Nr=0,Lf=0,yn=0,wa=0,Wo=null,on=null,Pf=!1,Ku=0,sy=0,Yu=1/0,Xu=null,Cs=null,De=0,Is=null,Ra=null,Fi=0,zf=0,Bf=null,ry=null,tl=0,jf=null;function _n(){return(qt&2)!==0&&Dt!==0?Dt&-Dt:q.T!==null?Kf():Zl()}function ay(){if(yn===0)if((Dt&536870912)===0||Ut){var e=ir;ir<<=1,(ir&3932160)===0&&(ir=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function ln(e,n,s){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),Ds(e,Dt,yn,!1)),sr(e,s),((qt&2)===0||e!==te)&&(e===te&&((qt&2)===0&&(Nr|=s),ce===4&&Ds(e,Dt,yn,!1)),_i(e))}function oy(e,n,s){if((qt&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),c=o?r1(e,n):Hf(e,n,!0),f=o;do{if(c===0){ba&&!o&&Ds(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!i1(s)){c=Hf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;c=Wo;var I=T.current.memoizedState.isDehydrated;if(I&&(Ca(T,g).flags|=256),g=Hf(T,g,!1),g!==2){if(kf&&!I){T.errorRecoveryDisabledLanes|=f,Nr|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){Ca(e,0),Ds(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ds(o,n,yn,!ws);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Ku+300-$e(),10<c)){if(Ds(o,n,yn,!ws),ti(o,0,!0)!==0)break t;Fi=n,o.timeoutHandle=Py(ly.bind(null,o,s,on,Xu,Pf,n,yn,Nr,wa,ws,f,"Throttled",-0,0),c);break t}ly(o,s,on,Xu,Pf,n,yn,Nr,wa,ws,f,null,-0,0)}}break}while(!0);_i(e)}function ly(e,n,s,o,c,f,g,T,I,P,H,Q,z,j){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},ty(n,f,Q);var rt=(f&62914560)===f?Ku-$e():(f&4194048)===f?sy-$e():0;if(rt=j1(Q,rt),rt!==null){Fi=f,e.cancelPendingCommit=rt(py.bind(null,e,n,f,s,o,c,g,T,I,H,Q,null,z,j)),Ds(e,f,g,!P);return}}py(e,n,f,s,o,c,g,T,I)}function i1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ds(e,n,s,o){n&=~Lf,n&=~Nr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-he(c),g=1<<f;o[f]=-1,c&=~g}s!==0&&rr(e,s,n)}function Zu(){return(qt&6)===0?(el(0),!1):!0}function qf(){if(Rt!==null){if(Kt===0)var e=Rt.return;else e=Rt,xi=Er=null,sf(e),ya=null,Lo=0,e=Rt;for(;e!==null;)zp(e.alternate,e),e=e.return;Rt=null}}function Ca(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,A1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Fi=0,qf(),te=e,Rt=s=Mi(e.current,null),Dt=n,Kt=0,pn=null,ws=!1,ba=Pn(e,n),kf=!1,wa=yn=Lf=Nr=Rs=ce=0,on=Wo=null,Pf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-he(o),f=1<<c;n|=e[c],o&=~f}return Gi=n,yu(),s}function uy(e,n){St=null,q.H=Fo,n===pa||n===wu?(n=wg(),Kt=3):n===Fh?(n=wg(),Kt=4):Kt=n===Tf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,Rt===null&&(ce=1,zu(e,Rn(n,e.current)))}function cy(){var e=mn.current;return e===null?!0:(Dt&4194048)===Dt?Nn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Nn:!1}function hy(){var e=q.H;return q.H=Fo,e===null?Fo:e}function fy(){var e=q.A;return q.A=e1,e}function Ju(){ce=4,ws||(Dt&4194048)!==Dt&&mn.current!==null||(ba=!0),(Rs&134217727)===0&&(Nr&134217727)===0||te===null||Ds(te,Dt,yn,!1)}function Hf(e,n,s){var o=qt;qt|=2;var c=hy(),f=fy();(te!==e||Dt!==n)&&(Xu=null,Ca(e,n)),n=!1;var g=ce;t:do try{if(Kt!==0&&Rt!==null){var T=Rt,I=pn;switch(Kt){case 8:qf(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var P=Kt;if(Kt=0,pn=null,Ia(e,T,I,P),s&&ba){g=0;break t}break;default:P=Kt,Kt=0,pn=null,Ia(e,T,I,P)}}s1(),g=ce;break}catch(H){uy(e,H)}while(!0);return n&&e.shellSuspendCounter++,xi=Er=null,qt=o,q.H=c,q.A=f,Rt===null&&(te=null,Dt=0,yu()),g}function s1(){for(;Rt!==null;)dy(Rt)}function r1(e,n){var s=qt;qt|=2;var o=hy(),c=fy();te!==e||Dt!==n?(Xu=null,Yu=$e()+500,Ca(e,n)):ba=Pn(e,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=pn;e:switch(Kt){case 1:Kt=0,pn=null,Ia(e,n,f,1);break;case 2:case 9:if(Ag(f)){Kt=0,pn=null,my(n);break}n=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),_i(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Ag(f)?(Kt=0,pn=null,my(n)):(Kt=0,pn=null,Ia(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var T=Rt;if(g?Wy(g):T.stateNode.complete){Kt=0,pn=null;var I=T.sibling;if(I!==null)Rt=I;else{var P=T.return;P!==null?(Rt=P,$u(P)):Rt=null}break e}}Kt=0,pn=null,Ia(e,n,f,5);break;case 6:Kt=0,pn=null,Ia(e,n,f,6);break;case 8:qf(),ce=6;break t;default:throw Error(r(462))}}a1();break}catch(H){uy(e,H)}while(!0);return xi=Er=null,q.H=o,q.A=c,qt=s,Rt!==null?0:(te=null,Dt=0,yu(),ce)}function a1(){for(;Rt!==null&&!_h();)dy(Rt)}function dy(e){var n=Lp(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?$u(e):Rt=n}function my(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Op(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Op(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:sf(n);default:zp(s,n),n=Rt=fg(n,Gi),n=Lp(s,n,Gi)}e.memoizedProps=e.pendingProps,n===null?$u(e):Rt=n}function Ia(e,n,s,o){xi=Er=null,sf(n),ya=null,Lo=0;var c=n.return;try{if(YE(e,c,n,s,Dt)){ce=1,zu(e,Rn(s,e.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;ce=1,zu(e,Rn(s,e.current)),Rt=null;return}n.flags&32768?(Ut||o===1?e=!0:ba||(Dt&536870912)!==0?e=!1:(ws=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),gy(n,e)):$u(n)}function $u(e){var n=e;do{if((n.flags&32768)!==0){gy(n,ws);return}e=n.return;var s=JE(n.alternate,n,Gi);if(s!==null){Rt=s;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ce===0&&(ce=5)}function gy(e,n){do{var s=$E(e.alternate,e);if(s!==null){s.flags&=32767,Rt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=s}while(e!==null);ce=6,Rt=null}function py(e,n,s,o,c,f,g,T,I){e.cancelPendingCommit=null;do Wu();while(De!==0);if((qt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Nh,Eh(e,s,f,g,T,I),e===te&&(Rt=te=null,Dt=0),Ra=n,Is=e,Fi=s,zf=f,Bf=c,ry=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,c1(rs,function(){return Ey(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,c=J.p,J.p=2,g=qt,qt|=4;try{WE(e,n,s)}finally{qt=g,J.p=c,q.T=o}}De=1,yy(),_y(),vy()}}function yy(){if(De===1){De=0;var e=Is,n=Ra,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=J.p;J.p=2;var c=qt;qt|=4;try{Jp(n,e);var f=ed,g=ig(e.containerInfo),T=f.focusedElem,I=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&ng(T.ownerDocument.documentElement,T)){if(I!==null&&wh(T)){var P=I.start,H=I.end;if(H===void 0&&(H=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(H,T.value.length);else{var Q=T.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var j=z.getSelection(),rt=T.textContent.length,ft=Math.min(I.start,rt),$t=I.end===void 0?ft:Math.min(I.end,rt);!j.extend&&ft>$t&&(g=$t,$t=ft,ft=g);var x=eg(T,ft),M=eg(T,$t);if(x&&M&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==M.node||j.focusOffset!==M.offset)){var L=Q.createRange();L.setStart(x.node,x.offset),j.removeAllRanges(),ft>$t?(j.addRange(L),j.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),j.addRange(L))}}}}for(Q=[],j=T;j=j.parentNode;)j.nodeType===1&&Q.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var G=Q[T];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}hc=!!td,ed=td=null}finally{qt=c,J.p=o,q.T=s}}e.current=n,De=2}}function _y(){if(De===2){De=0;var e=Is,n=Ra,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=J.p;J.p=2;var c=qt;qt|=4;try{Qp(e,n.alternate,n)}finally{qt=c,J.p=o,q.T=s}}De=3}}function vy(){if(De===4||De===3){De=0,Hl();var e=Is,n=Ra,s=Fi,o=ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Ra=Is=null,Ty(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Cs=null),Ii(s),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,c=J.p,J.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{q.T=n,J.p=c}}(Fi&3)!==0&&Wu(),_i(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===jf?tl++:(tl=0,jf=e):tl=0,el(0)}}function Ty(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Uo(n)))}function Wu(){return yy(),_y(),vy(),Ey()}function Ey(){if(De!==5)return!1;var e=Is,n=zf;zf=0;var s=Ii(Fi),o=q.T,c=J.p;try{J.p=32>s?32:s,q.T=null,s=Bf,Bf=null;var f=Is,g=Fi;if(De=0,Ra=Is=null,Fi=0,(qt&6)!==0)throw Error(r(331));var T=qt;if(qt|=4,ny(f.current),Wp(f,f.current,g,s),qt=T,el(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{J.p=c,q.T=o,Ty(e,n)}}function Sy(e,n,s){n=Rn(s,n),n=vf(e.stateNode,n,2),e=Es(e,n,2),e!==null&&(sr(e,2),_i(e))}function Yt(e,n,s){if(e.tag===3)Sy(e,e,s);else for(;n!==null;){if(n.tag===3){Sy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cs===null||!Cs.has(o))){e=Rn(s,e),s=Ap(2),o=Es(n,s,2),o!==null&&(bp(s,o,n,e),sr(o,2),_i(o));break}}n=n.return}}function Gf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new n1;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(s)||(kf=!0,c.add(s),e=o1.bind(null,e,n,s),n.then(e,e))}function o1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(Dt&s)===s&&(ce===4||ce===3&&(Dt&62914560)===Dt&&300>$e()-Ku?(qt&2)===0&&Ca(e,0):Lf|=s,wa===Dt&&(wa=0)),_i(e)}function Ay(e,n){n===0&&(n=Xl()),e=_r(e,n),e!==null&&(sr(e,n),_i(e))}function l1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ay(e,s)}function u1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Ay(e,s)}function c1(e,n){return Ie(e,n)}var tc=null,Da=null,Ff=!1,ec=!1,Qf=!1,Ns=0;function _i(e){e!==Da&&e.next===null&&(Da===null?tc=Da=e:Da=Da.next=e),ec=!0,Ff||(Ff=!0,f1())}function el(e,n){if(!Qf&&ec){Qf=!0;do for(var s=!1,o=tc;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=c&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Cy(o,f))}else f=Dt,f=ti(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(s=!0,Cy(o,f));o=o.next}while(s);Qf=!1}}function h1(){by()}function by(){ec=Ff=!1;var e=0;Ns!==0&&S1()&&(e=Ns);for(var n=$e(),s=null,o=tc;o!==null;){var c=o.next,f=wy(o,n);f===0?(o.next=null,s===null?tc=c:s.next=c,c===null&&(Da=s)):(s=o,(e!==0||(f&3)!==0)&&(ec=!0)),o=c}De!==0&&De!==5||el(e),Ns!==0&&(Ns=0)}function wy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),T=1<<g,I=c[g];I===-1?((T&s)===0||(T&o)!==0)&&(c[g]=Th(T,n)):I<=n&&(e.expiredLanes|=T),f&=~T}if(n=te,s=Dt,s=ti(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ss(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Pn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ss(o),Ii(s)){case 2:case 8:s=co;break;case 32:s=rs;break;case 268435456:s=Gl;break;default:s=rs}return o=Ry.bind(null,e),s=Ie(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ss(o),e.callbackPriority=2,e.callbackNode=null,2}function Ry(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Wu()&&e.callbackNode!==s)return null;var o=Dt;return o=ti(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(oy(e,o,n),wy(e,$e()),e.callbackNode!=null&&e.callbackNode===s?Ry.bind(null,e):null)}function Cy(e,n){if(Wu())return null;oy(e,n,!0)}function f1(){b1(function(){(qt&6)!==0?Ie(uo,h1):by()})}function Kf(){if(Ns===0){var e=ma;e===0&&(e=$n,$n<<=1,($n&261888)===0&&($n=256)),Ns=e}return Ns}function Iy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wr(""+e)}function Dy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function d1(e,n,s,o,c){if(n==="submit"&&s&&s.stateNode===c){var f=Iy((c[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?Iy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new hi("action","action",null,o,c);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ns!==0){var I=g?Dy(c,g):new FormData(c);df(s,{pending:!0,data:I,method:c.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=g?Dy(c,g):new FormData(c),df(s,{pending:!0,data:I,method:c.method,action:f},f,I))},currentTarget:c}]})}}for(var Yf=0;Yf<Dh.length;Yf++){var Xf=Dh[Yf],m1=Xf.toLowerCase(),g1=Xf[0].toUpperCase()+Xf.slice(1);Qn(m1,"on"+g1)}Qn(ag,"onAnimationEnd"),Qn(og,"onAnimationIteration"),Qn(lg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(OE,"onTransitionRun"),Qn(ME,"onTransitionStart"),Qn(VE,"onTransitionCancel"),Qn(ug,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function Ny(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],I=T.instance,P=T.currentTarget;if(T=T.listener,I!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=P;try{f(c)}catch(H){pu(H)}c.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(T=o[g],I=T.instance,P=T.currentTarget,T=T.listener,I!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=P;try{f(c)}catch(H){pu(H)}c.currentTarget=null,f=I}}}}function Ct(e,n){var s=n[Yr];s===void 0&&(s=n[Yr]=new Set);var o=e+"__bubble";s.has(o)||(Oy(n,e,2,!1),s.add(o))}function Zf(e,n,s){var o=0;n&&(o|=4),Oy(s,e,o,n)}var nc="_reactListening"+Math.random().toString(36).slice(2);function Jf(e){if(!e[nc]){e[nc]=!0,mo.forEach(function(s){s!=="selectionchange"&&(p1.has(s)||Zf(s,!1,e),Zf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[nc]||(n[nc]=!0,Zf("selectionchange",!1,n))}}function Oy(e,n,s,o){switch(a_(n)){case 2:var c=G1;break;case 8:c=F1;break;default:c=fd}s=c.bind(null,n,s,e),c=void 0,!cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function $f(e,n,s,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===c)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;T!==null;){if(g=si(T),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}T=T.parentNode}}o=o.return}hs(function(){var P=f,H=Sn(s),Q=[];t:{var z=cg.get(e);if(z!==void 0){var j=hi,rt=e;switch(e){case"keypress":if(fr(s)===0)break t;case"keydown":case"keyup":j=du;break;case"focusin":rt="focus",j=mr;break;case"focusout":rt="blur",j=mr;break;case"beforeblur":case"afterblur":j=mr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case ag:case og:case lg:j=au;break;case ug:j=E;break;case"scroll":case"scrollend":j=Ro;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Oi;break;case"toggle":case"beforetoggle":j=Et}var ft=(n&4)!==0,$t=!ft&&(e==="scroll"||e==="scrollend"),x=ft?z!==null?z+"Capture":null:z;ft=[];for(var M=P,L;M!==null;){var G=M;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||x===null||(G=qn(M,x),G!=null&&ft.push(il(M,G,L))),$t)break;M=M.return}0<ft.length&&(z=new j(z,rt,null,s,H),Q.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&s!==Ao&&(rt=s.relatedTarget||s.fromElement)&&(si(rt)||rt[ni]))break t;if((j||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,j?(rt=s.relatedTarget||s.toElement,j=P,rt=rt?si(rt):null,rt!==null&&($t=h(rt),ft=rt.tag,rt!==$t||ft!==5&&ft!==27&&ft!==6)&&(rt=null)):(j=null,rt=P),j!==rt)){if(ft=Co,G="onMouseLeave",x="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Oi,G="onPointerLeave",x="onPointerEnter",M="pointer"),$t=j==null?z:cn(j),L=rt==null?z:cn(rt),z=new ft(G,M+"leave",j,s,H),z.target=$t,z.relatedTarget=L,G=null,si(H)===P&&(ft=new ft(x,M+"enter",rt,s,H),ft.target=L,ft.relatedTarget=$t,G=ft),$t=G,j&&rt)e:{for(ft=y1,x=j,M=rt,L=0,G=x;G;G=ft(G))L++;G=0;for(var ut=M;ut;ut=ft(ut))G++;for(;0<L-G;)x=ft(x),L--;for(;0<G-L;)M=ft(M),G--;for(;L--;){if(x===M||M!==null&&x===M.alternate){ft=x;break e}x=ft(x),M=ft(M)}ft=null}else ft=null;j!==null&&My(Q,z,j,ft,!1),rt!==null&&$t!==null&&My(Q,$t,rt,ft,!0)}}t:{if(z=P?cn(P):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var zt=Xm;else if(Km(z))if(Zm)zt=IE;else{zt=RE;var ot=wE}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&$r(P.elementType)&&(zt=Xm):zt=CE;if(zt&&(zt=zt(e,P))){Ym(Q,zt,s,H);break t}ot&&ot(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&To(z,"number",z.value)}switch(ot=P?cn(P):window,e){case"focusin":(Km(ot)||ot.contentEditable==="true")&&(aa=ot,Rh=P,Mo=null);break;case"focusout":Mo=Rh=aa=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,sg(Q,s,H);break;case"selectionchange":if(NE)break;case"keydown":case"keyup":sg(Q,s,H)}var bt;if(jt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else ra?gr(e,s)&&(Nt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Nt="onCompositionStart");Nt&&(mi&&s.locale!=="ko"&&(ra||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ra&&(bt=wo()):(ci=H,bo="value"in ci?ci.value:ci.textContent,ra=!0)),ot=ic(P,Nt),0<ot.length&&(Nt=new di(Nt,e,null,s,H),Q.push({event:Nt,listeners:ot}),bt?Nt.data=bt:(bt=sa(s),bt!==null&&(Nt.data=bt)))),(bt=bn?EE(e,s):SE(e,s))&&(Nt=ic(P,"onBeforeInput"),0<Nt.length&&(ot=new di("onBeforeInput","beforeinput",null,s,H),Q.push({event:ot,listeners:Nt}),ot.data=bt)),d1(Q,e,P,s,H)}Ny(Q,n)})}function il(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ic(e,n){for(var s=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=qn(e,s),c!=null&&o.unshift(il(e,c,f)),c=qn(e,n),c!=null&&o.push(il(e,c,f))),e.tag===3)return o;e=e.return}return[]}function y1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function My(e,n,s,o,c){for(var f=n._reactName,g=[];s!==null&&s!==o;){var T=s,I=T.alternate,P=T.stateNode;if(T=T.tag,I!==null&&I===o)break;T!==5&&T!==26&&T!==27||P===null||(I=P,c?(P=qn(s,f),P!=null&&g.unshift(il(s,P,I))):c||(P=qn(s,f),P!=null&&g.push(il(s,P,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var _1=/\r\n?/g,v1=/\u0000|\uFFFD/g;function Vy(e){return(typeof e=="string"?e:""+e).replace(_1,`
`).replace(v1,"")}function xy(e,n){return n=Vy(n),Vy(e)===n}function Jt(e,n,s,o,c,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":hn(e,"class",o);break;case"tabIndex":hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,s,o);break;case"style":So(e,o,f);break;case"data":if(n!=="object"){hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Wr(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Jt(e,n,"name",c.name,c,null),Jt(e,n,"formEncType",c.formEncType,c,null),Jt(e,n,"formMethod",c.formMethod,c,null),Jt(e,n,"formTarget",c.formTarget,c,null)):(Jt(e,n,"encType",c.encType,c,null),Jt(e,n,"method",c.method,c,null),Jt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Wr(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=jn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Wr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Zr(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Zr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=iu.get(s)||s,Zr(e,s,o))}}function Wf(e,n,s,o,c,f){switch(s){case"style":So(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!go.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,c);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Zr(e,s,o)}}}function qe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,f,g,s,null)}}c&&Jt(e,n,"srcSet",s.srcSet,s,null),o&&Jt(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var T=f=g=c=null,I=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":c=H;break;case"type":g=H;break;case"checked":I=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Jt(e,n,o,H,s,null)}}tu(e,f,T,I,P,g,c,!1);return;case"select":Ct("invalid",e),o=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(T=s[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:Jt(e,n,c,T,s,null)}n=f,s=g,e.multiple=!!o,n!=null?os(e,!!o,n,!1):s!=null&&os(e,!!o,s,!0);return;case"textarea":Ct("invalid",e),f=c=o=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Jt(e,n,g,T,s,null)}ls(e,o,c,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(o=s[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Jt(e,n,I,o,s,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<nl.length;o++)Ct(nl[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,P,o,s,null)}return;default:if($r(n)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&Wf(e,n,H,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&Jt(e,n,T,o,s,null))}function T1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,T=null,I=null,P=null,H=null;for(j in s){var Q=s[j];if(s.hasOwnProperty(j)&&Q!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":I=Q;default:o.hasOwnProperty(j)||Jt(e,n,j,null,o,Q)}}for(var z in o){var j=o[z];if(Q=s[z],o.hasOwnProperty(z)&&(j!=null||Q!=null))switch(z){case"type":f=j;break;case"name":c=j;break;case"checked":P=j;break;case"defaultChecked":H=j;break;case"value":g=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:j!==Q&&Jt(e,n,z,j,o,Q)}}Jr(e,g,T,I,P,H,f,c);return;case"select":j=g=T=z=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":j=I;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,I)}for(c in o)if(f=o[c],I=s[c],o.hasOwnProperty(c)&&(f!=null||I!=null))switch(c){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==I&&Jt(e,n,c,f,o,I)}n=T,s=g,o=j,z!=null?os(e,!!s,z,!1):!!o!=!!s&&(n!=null?os(e,!!s,n,!0):os(e,!!s,s?[]:"",!1));return;case"textarea":j=z=null;for(T in s)if(c=s[T],s.hasOwnProperty(T)&&c!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Jt(e,n,T,null,o,c)}for(g in o)if(c=o[g],f=s[g],o.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":z=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Jt(e,n,g,c,o,f)}eu(e,z,j);return;case"option":for(var rt in s)z=s[rt],s.hasOwnProperty(rt)&&z!=null&&!o.hasOwnProperty(rt)&&(rt==="selected"?e.selected=!1:Jt(e,n,rt,null,o,z));for(I in o)z=o[I],j=s[I],o.hasOwnProperty(I)&&z!==j&&(z!=null||j!=null)&&(I==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Jt(e,n,I,z,o,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in s)z=s[ft],s.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Jt(e,n,ft,null,o,z);for(P in o)if(z=o[P],j=s[P],o.hasOwnProperty(P)&&z!==j&&(z!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Jt(e,n,P,z,o,j)}return;default:if($r(n)){for(var $t in s)z=s[$t],s.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&Wf(e,n,$t,void 0,o,z);for(H in o)z=o[H],j=s[H],!o.hasOwnProperty(H)||z===j||z===void 0&&j===void 0||Wf(e,n,H,z,o,j);return}}for(var x in s)z=s[x],s.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Jt(e,n,x,null,o,z);for(Q in o)z=o[Q],j=s[Q],!o.hasOwnProperty(Q)||z===j||z==null&&j==null||Jt(e,n,Q,z,o,j)}function Uy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function E1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var c=s[o],f=c.transferSize,g=c.initiatorType,T=c.duration;if(f&&T&&Uy(g)){for(g=0,T=c.responseEnd,o+=1;o<s.length;o++){var I=s[o],P=I.startTime;if(P>T)break;var H=I.transferSize,Q=I.initiatorType;H&&Uy(Q)&&(I=I.responseEnd,g+=H*(I<T?1:(T-P)/(I-P)))}if(--o,n+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var td=null,ed=null;function sc(e){return e.nodeType===9?e:e.ownerDocument}function ky(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ly(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function nd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var id=null;function S1(){var e=window.event;return e&&e.type==="popstate"?e===id?!1:(id=e,!0):(id=null,!1)}var Py=typeof setTimeout=="function"?setTimeout:void 0,A1=typeof clearTimeout=="function"?clearTimeout:void 0,zy=typeof Promise=="function"?Promise:void 0,b1=typeof queueMicrotask=="function"?queueMicrotask:typeof zy<"u"?function(e){return zy.resolve(null).then(e).catch(w1)}:Py;function w1(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function By(e,n){var s=n,o=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(c),Va(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")sl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,sl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[ii]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&sl(e.ownerDocument.body);s=c}while(s);Va(n)}function jy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function sd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":sd(s),Xr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function R1(e,n,s,o){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function C1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=On(e.nextSibling),e===null))return null;return e}function qy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function rd(e){return e.data==="$?"||e.data==="$~"}function ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function I1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var od=null;function Hy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return On(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Gy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Fy(e,n,s){switch(n=sc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function sl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Xr(e)}var Mn=new Map,Qy=new Set;function rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=J.d;J.d={f:D1,r:N1,D:O1,C:M1,L:V1,m:x1,X:k1,S:U1,M:L1};function D1(){var e=Qi.f(),n=Zu();return e||n}function N1(e){var n=En(e);n!==null&&n.tag===5&&n.type==="form"?up(n):Qi.r(e)}var Na=typeof document>"u"?null:document;function Ky(e,n,s){var o=Na;if(o&&typeof n=="string"&&n){var c=en(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Qy.has(c)||(Qy.add(c),e={rel:e,crossOrigin:s,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),qe(n,"link",e),ve(n),o.head.appendChild(n)))}}function O1(e){Qi.D(e),Ky("dns-prefetch",e,null)}function M1(e,n){Qi.C(e,n),Ky("preconnect",e,n)}function V1(e,n,s){Qi.L(e,n,s);var o=Na;if(o&&e&&n){var c='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+en(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+en(s.imageSizes)+'"]')):c+='[href="'+en(e)+'"]';var f=c;switch(n){case"style":f=Oa(e);break;case"script":f=Ma(e)}Mn.has(f)||(e=R({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Mn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(rl(f))||n==="script"&&o.querySelector(al(f))||(n=o.createElement("link"),qe(n,"link",e),ve(n),o.head.appendChild(n)))}}function x1(e,n){Qi.m(e,n);var s=Na;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ma(e)}if(!Mn.has(f)&&(e=R({rel:"modulepreload",href:e},n),Mn.set(f,e),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(al(f)))return}o=s.createElement("link"),qe(o,"link",e),ve(o),s.head.appendChild(o)}}}function U1(e,n,s){Qi.S(e,n,s);var o=Na;if(o&&e){var c=ri(o).hoistableStyles,f=Oa(e);n=n||"default";var g=c.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(rl(f)))T.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Mn.get(f))&&ld(e,s);var I=g=o.createElement("link");ve(I),qe(I,"link",e),I._p=new Promise(function(P,H){I.onload=P,I.onerror=H}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ac(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},c.set(f,g)}}}function k1(e,n){Qi.X(e,n);var s=Na;if(s&&e){var o=ri(s).hoistableScripts,c=Ma(e),f=o.get(c);f||(f=s.querySelector(al(c)),f||(e=R({src:e,async:!0},n),(n=Mn.get(c))&&ud(e,n),f=s.createElement("script"),ve(f),qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function L1(e,n){Qi.M(e,n);var s=Na;if(s&&e){var o=ri(s).hoistableScripts,c=Ma(e),f=o.get(c);f||(f=s.querySelector(al(c)),f||(e=R({src:e,async:!0,type:"module"},n),(n=Mn.get(c))&&ud(e,n),f=s.createElement("script"),ve(f),qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Yy(e,n,s,o){var c=(c=At.current)?rc(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Oa(s.href),s=ri(c).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Oa(s.href);var f=ri(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(rl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(e,s),f||P1(c,e,s,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ma(s),s=ri(c).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Oa(e){return'href="'+en(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function Xy(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function P1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),qe(n,"link",s),ve(n),e.head.appendChild(n))}function Ma(e){return'[src="'+en(e)+'"]'}function al(e){return"script[async]"+e}function Zy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(s.href)+'"]');if(o)return n.instance=o,ve(o),o;var c=R({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),qe(o,"style",c),ac(o,s.precedence,e),n.instance=o;case"stylesheet":c=Oa(s.href);var f=e.querySelector(rl(c));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=Xy(s),(c=Mn.get(c))&&ld(o,c),f=(e.ownerDocument||e).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),qe(f,"link",o),n.state.loading|=4,ac(f,s.precedence,e),n.instance=f;case"script":return f=Ma(s.src),(c=e.querySelector(al(f)))?(n.instance=c,ve(c),c):(o=s,(c=Mn.get(f))&&(o=R({},s),ud(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),ve(c),qe(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ac(o,s.precedence,e));return n.instance}function ac(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ld(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var oc=null;function Jy(e,n,s){if(oc===null){var o=new Map,c=oc=new Map;c.set(s,o)}else c=oc,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[ii]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function $y(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function z1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function B1(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Oa(o.href),f=n.querySelector(rl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=lc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,o=Xy(o),(c=Mn.get(c))&&ld(o,c),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),qe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=lc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var cd=0;function j1(e,n){return e.stylesheets&&e.count===0&&cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&cd===0&&(cd=62500*E1());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>cd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uc=null;function cc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uc=new Map,n.forEach(q1,e),uc=null,lc.call(e))}function q1(e,n){if(!(n.state.loading&4)){var s=uc.get(e);if(s)var o=s.get(null);else{s=new Map,uc.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,c),s.set(g,c),this.count++,o=lc.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:dt,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function H1(e,n,s,o,c,f,g,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function t_(e,n,s,o,c,f,g,T,I,P,H,Q){return e=new H1(e,n,s,g,I,P,H,Q,T),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=qh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Qh(f),e}function e_(e){return e?(e=ua,e):ua}function n_(e,n,s,o,c,f){c=e_(c),o.context===null?o.context=c:o.pendingContext=c,o=Ts(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Es(e,o,n),s!==null&&(ln(s,e,n),zo(s,e,n))}function i_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function hd(e,n){i_(e,n),(e=e.alternate)&&i_(e,n)}function s_(e){if(e.tag===13||e.tag===31){var n=_r(e,67108864);n!==null&&ln(n,e,67108864),hd(e,67108864)}}function r_(e){if(e.tag===13||e.tag===31){var n=_n();n=ar(n);var s=_r(e,n);s!==null&&ln(s,e,n),hd(e,n)}}var hc=!0;function G1(e,n,s,o){var c=q.T;q.T=null;var f=J.p;try{J.p=2,fd(e,n,s,o)}finally{J.p=f,q.T=c}}function F1(e,n,s,o){var c=q.T;q.T=null;var f=J.p;try{J.p=8,fd(e,n,s,o)}finally{J.p=f,q.T=c}}function fd(e,n,s,o){if(hc){var c=dd(o);if(c===null)$f(e,n,o,fc,s),o_(e,o);else if(K1(c,e,n,s,o))o.stopPropagation();else if(o_(e,o),n&4&&-1<Q1.indexOf(e)){for(;c!==null;){var f=En(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var I=1<<31-he(g);T.entanglements[1]|=I,g&=~I}_i(f),(qt&6)===0&&(Yu=$e()+500,el(0))}}break;case 31:case 13:T=_r(f,2),T!==null&&ln(T,f,2),Zu(),hd(f,2)}if(f=dd(o),f===null&&$f(e,n,o,fc,s),f===c)break;c=f}c!==null&&o.stopPropagation()}else $f(e,n,o,null,s)}}function dd(e){return e=Sn(e),md(e)}var fc=null;function md(e){if(fc=null,e=si(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return fc=e,null}function a_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nr()){case uo:return 2;case co:return 8;case rs:case vh:return 32;case Gl:return 268435456;default:return 32}default:return 32}}var gd=!1,Ms=null,Vs=null,xs=null,ll=new Map,ul=new Map,Us=[],Q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o_(e,n){switch(e){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(e,n,s,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=En(n),n!==null&&s_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function K1(e,n,s,o,c){switch(n){case"focusin":return Ms=cl(Ms,e,n,s,o,c),!0;case"dragenter":return Vs=cl(Vs,e,n,s,o,c),!0;case"mouseover":return xs=cl(xs,e,n,s,o,c),!0;case"pointerover":var f=c.pointerId;return ll.set(f,cl(ll.get(f)||null,e,n,s,o,c)),!0;case"gotpointercapture":return f=c.pointerId,ul.set(f,cl(ul.get(f)||null,e,n,s,o,c)),!0}return!1}function l_(e){var n=si(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,zn(e.priority,function(){r_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,zn(e.priority,function(){r_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=dd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Ao=o,s.target.dispatchEvent(o),Ao=null}else return n=En(s),n!==null&&s_(n),e.blockedOn=s,!1;n.shift()}return!0}function u_(e,n,s){dc(e)&&s.delete(n)}function Y1(){gd=!1,Ms!==null&&dc(Ms)&&(Ms=null),Vs!==null&&dc(Vs)&&(Vs=null),xs!==null&&dc(xs)&&(xs=null),ll.forEach(u_),ul.forEach(u_)}function mc(e,n){e.blockedOn===n&&(e.blockedOn=null,gd||(gd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Y1)))}var gc=null;function c_(e){gc!==e&&(gc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(md(o||s)===null)continue;break}var f=En(s);f!==null&&(e.splice(n,3),n-=3,df(f,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function Va(e){function n(I){return mc(I,e)}Ms!==null&&mc(Ms,e),Vs!==null&&mc(Vs,e),xs!==null&&mc(xs,e),ll.forEach(n),ul.forEach(n);for(var s=0;s<Us.length;s++){var o=Us[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Us.length&&(s=Us[0],s.blockedOn===null);)l_(s),s.blockedOn===null&&Us.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],g=c[Ve]||null;if(typeof f=="function")g||c_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Ve]||null)T=g.formAction;else if(md(c)!==null)continue}else T=g.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),c_(s)}}}function h_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function pd(e){this._internalRoot=e}pc.prototype.render=pd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=_n();n_(s,o,e,n,null,null)},pc.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;n_(e.current,2,null,e,null,null),Zu(),n[ni]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Us.length&&n!==0&&n<Us[s].priority;s++);Us.splice(s,0,e),s===0&&l_(e)}};var f_=t.version;if(f_!=="19.2.3")throw Error(r(527,f_,"19.2.3"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=v(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var X1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{Ln=yc.inject(X1),Le=yc}catch{}}return fl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",c=vp,f=Tp,g=Ep;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=t_(e,1,!1,null,null,s,o,null,c,f,g,h_),e[ni]=n.current,Jf(e),new pd(n)},fl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,c="",f=vp,g=Tp,T=Ep,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=t_(e,1,!0,n,s??null,o,c,I,f,g,T,h_),n.context=e_(null),s=n.current,o=_n(),o=ar(o),c=Ts(o),c.callback=null,Es(s,c,o),s=o,n.current.lanes=s,sr(n,s),_i(n),e[ni]=n.current,Jf(e),new pc(n)},fl.version="19.2.3",fl}var S_;function rS(){if(S_)return vd.exports;S_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),vd.exports=sS(),vd.exports}var aS=rS();const oS=()=>{};var A_={};const Wv=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},lS=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const h=a[i++];t[r++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=a[i++],d=a[i++],p=a[i++],_=((l&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const h=a[i++],d=a[i++];t[r++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},t0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const h=a[l],d=l+1<a.length,p=d?a[l+1]:0,_=l+2<a.length,v=_?a[l+2]:0,b=h>>2,R=(h&3)<<4|p>>4;let U=(p&15)<<2|v>>6,F=v&63;_||(F=64,d||(U=64)),r.push(i[b],i[R],i[U],i[F])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Wv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):lS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const h=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const v=l<a.length?i[a.charAt(l)]:64;++l;const R=l<a.length?i[a.charAt(l)]:64;if(++l,h==null||p==null||v==null||R==null)throw new uS;const U=h<<2|p>>4;if(r.push(U),v!==64){const F=p<<4&240|v>>2;if(r.push(F),R!==64){const W=v<<6&192|R;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class uS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cS=function(a){const t=Wv(a);return t0.encodeByteArray(t,!0)},xc=function(a){return cS(a).replace(/\./g,"")},e0=function(a){try{return t0.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function hS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fS=()=>hS().__FIREBASE_DEFAULTS__,dS=()=>{if(typeof process>"u"||typeof A_>"u")return;const a=A_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},mS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&e0(a[1]);return t&&JSON.parse(t)},eh=()=>{try{return oS()||fS()||dS()||mS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},n0=a=>eh()?.emulatorHosts?.[a],gS=a=>{const t=n0(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},i0=()=>eh()?.config,s0=a=>eh()?.[`_${a}`];class pS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Wa(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r0(a){return(await fetch(a,{credentials:"include"})).ok}function yS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[xc(JSON.stringify(i)),xc(JSON.stringify(d)),""].join(".")}const yl={};function _S(){const a={prod:[],emulator:[]};for(const t of Object.keys(yl))yl[t]?a.emulator.push(t):a.prod.push(t);return a}function vS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let b_=!1;function a0(a,t){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||yl[a]===t||yl[a]||b_)return;yl[a]=t;function i(U){return`__firebase__banner__${U}`}const r="__firebase__banner",h=_S().prod.length>0;function d(){const U=document.getElementById(r);U&&U.remove()}function p(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function _(U,F){U.setAttribute("width","24"),U.setAttribute("id",F),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function v(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{b_=!0,d()},U}function b(U,F){U.setAttribute("id",F),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function R(){const U=vS(r),F=i("text"),W=document.getElementById(F)||document.createElement("span"),et=i("learnmore"),Z=document.getElementById(et)||document.createElement("a"),ht=i("preprendIcon"),_t=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const dt=U.element;p(dt),b(Z,et);const Ht=v();_(_t,ht),dt.append(_t,W,Z,Ht),document.body.appendChild(dt)}h?(W.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function ES(){const a=eh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function bS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wS(){const a=Je();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function RS(){return!ES()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CS(){try{return typeof indexedDB=="object"}catch{return!1}}function IS(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const DS="FirebaseError";class is extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=DS,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?NS(h,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new is(l,p,r)}}function NS(a,t){return a.replace(OS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const OS=/\{\$([^}]+)}/g;function MS(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Ur(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const h=a[l],d=t[l];if(w_(h)&&w_(d)){if(!Ur(h,d))return!1}else if(h!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function w_(a){return a!==null&&typeof a=="object"}function Ml(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function VS(a,t){const i=new xS(a,t);return i.subscribe.bind(i)}class xS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");US(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Ad),l.error===void 0&&(l.error=Ad),l.complete===void 0&&(l.complete=Ad);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function US(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Ad(){}function vn(a){return a&&a._delegate?a._delegate:a}class kr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Or="[DEFAULT]";class kS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new pS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(PS(t))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});r.resolve(h)}catch{}}}}clearInstance(t=Or){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Or){return this.instances.has(t)}getOptions(t=Or){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const h=this.instances.get(r);return h&&t(h,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Or){return this.component?this.component.multipleInstances?t:Or:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LS(a){return a===Or?void 0:a}function PS(a){return a.instantiationMode==="EAGER"}class zS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new kS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ot||(Ot={}));const BS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},jS=Ot.INFO,qS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},HS=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=qS[t];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lm{constructor(t){this.name=t,this._logLevel=jS,this._logHandler=HS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const GS=(a,t)=>t.some(i=>a instanceof i);let R_,C_;function FS(){return R_||(R_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QS(){return C_||(C_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o0=new WeakMap,Ld=new WeakMap,l0=new WeakMap,bd=new WeakMap,um=new WeakMap;function KS(a){const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Hs(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",h),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&o0.set(i,a)}).catch(()=>{}),um.set(t,a),t}function YS(a){if(Ld.has(a))return;const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Ld.set(a,t)}let Pd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Ld.get(a);if(t==="objectStoreNames")return a.objectStoreNames||l0.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hs(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function XS(a){Pd=a(Pd)}function ZS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(wd(this),t,...i);return l0.set(r,t.sort?t.sort():[t]),Hs(r)}:QS().includes(a)?function(...t){return a.apply(wd(this),t),Hs(o0.get(this))}:function(...t){return Hs(a.apply(wd(this),t))}}function JS(a){return typeof a=="function"?ZS(a):(a instanceof IDBTransaction&&YS(a),GS(a,FS())?new Proxy(a,Pd):a)}function Hs(a){if(a instanceof IDBRequest)return KS(a);if(bd.has(a))return bd.get(a);const t=JS(a);return t!==a&&(bd.set(a,t),um.set(t,a)),t}const wd=a=>um.get(a);function $S(a,t,{blocked:i,upgrade:r,blocking:l,terminated:h}={}){const d=indexedDB.open(a,t),p=Hs(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Hs(d.result),_.oldVersion,_.newVersion,Hs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),l&&_.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const WS=["get","getKey","getAll","getAllKeys","count"],tA=["put","add","delete","clear"],Rd=new Map;function I_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Rd.get(t))return Rd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=tA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||WS.includes(i)))return;const h=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),l&&_.done]))[0]};return Rd.set(t,h),h}XS(a=>({...a,get:(t,i,r)=>I_(t,i)||a.get(t,i,r),has:(t,i)=>!!I_(t,i)||a.has(t,i)}));class eA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(nA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function nA(a){return a.getComponent()?.type==="VERSION"}const zd="@firebase/app",D_="0.14.6";const Ji=new lm("@firebase/app"),iA="@firebase/app-compat",sA="@firebase/analytics-compat",rA="@firebase/analytics",aA="@firebase/app-check-compat",oA="@firebase/app-check",lA="@firebase/auth",uA="@firebase/auth-compat",cA="@firebase/database",hA="@firebase/data-connect",fA="@firebase/database-compat",dA="@firebase/functions",mA="@firebase/functions-compat",gA="@firebase/installations",pA="@firebase/installations-compat",yA="@firebase/messaging",_A="@firebase/messaging-compat",vA="@firebase/performance",TA="@firebase/performance-compat",EA="@firebase/remote-config",SA="@firebase/remote-config-compat",AA="@firebase/storage",bA="@firebase/storage-compat",wA="@firebase/firestore",RA="@firebase/ai",CA="@firebase/firestore-compat",IA="firebase",DA="12.6.0";const Bd="[DEFAULT]",NA={[zd]:"fire-core",[iA]:"fire-core-compat",[rA]:"fire-analytics",[sA]:"fire-analytics-compat",[oA]:"fire-app-check",[aA]:"fire-app-check-compat",[lA]:"fire-auth",[uA]:"fire-auth-compat",[cA]:"fire-rtdb",[hA]:"fire-data-connect",[fA]:"fire-rtdb-compat",[dA]:"fire-fn",[mA]:"fire-fn-compat",[gA]:"fire-iid",[pA]:"fire-iid-compat",[yA]:"fire-fcm",[_A]:"fire-fcm-compat",[vA]:"fire-perf",[TA]:"fire-perf-compat",[EA]:"fire-rc",[SA]:"fire-rc-compat",[AA]:"fire-gcs",[bA]:"fire-gcs-compat",[wA]:"fire-fst",[CA]:"fire-fst-compat",[RA]:"fire-vertex","fire-js":"fire-js",[IA]:"fire-js-all"};const Uc=new Map,OA=new Map,jd=new Map;function N_(a,t){try{a.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Qa(a){const t=a.name;if(jd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;jd.set(t,a);for(const i of Uc.values())N_(i,a);for(const i of OA.values())N_(i,a);return!0}function cm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Vn(a){return a==null?!1:a.settings!==void 0}const MA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new Ol("app","Firebase",MA);class VA{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}const to=DA;function u0(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:Bd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Gs.create("bad-app-name",{appName:String(l)});if(i||(i=i0()),!i)throw Gs.create("no-options");const h=Uc.get(l);if(h){if(Ur(i,h.options)&&Ur(r,h.config))return h;throw Gs.create("duplicate-app",{appName:l})}const d=new zS(l);for(const _ of jd.values())d.addComponent(_);const p=new VA(i,r,d);return Uc.set(l,p),p}function c0(a=Bd){const t=Uc.get(a);if(!t&&a===Bd&&i0())return u0();if(!t)throw Gs.create("no-app",{appName:a});return t}function Fs(a,t,i){let r=NA[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Qa(new kr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const xA="firebase-heartbeat-database",UA=1,Al="firebase-heartbeat-store";let Cd=null;function h0(){return Cd||(Cd=$S(xA,UA,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Al)}catch(i){console.warn(i)}}}}).catch(a=>{throw Gs.create("idb-open",{originalErrorMessage:a.message})})),Cd}async function kA(a){try{const i=(await h0()).transaction(Al),r=await i.objectStore(Al).get(f0(a));return await i.done,r}catch(t){if(t instanceof is)Ji.warn(t.message);else{const i=Gs.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function O_(a,t){try{const r=(await h0()).transaction(Al,"readwrite");await r.objectStore(Al).put(t,f0(a)),await r.done}catch(i){if(i instanceof is)Ji.warn(i.message);else{const r=Gs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(r.message)}}}function f0(a){return`${a.name}!${a.options.appId}`}const LA=1024,PA=30;class zA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new jA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=M_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>PA){const l=qA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=M_(),{heartbeatsToSend:i,unsentEntries:r}=BA(this._heartbeatsCache.heartbeats),l=xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function M_(){return new Date().toISOString().substring(0,10)}function BA(a,t=LA){const i=[];let r=a.slice();for(const l of a){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),V_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),V_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class jA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CS()?IS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await kA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return O_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return O_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function V_(a){return xc(JSON.stringify({version:2,heartbeats:a})).length}function qA(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function HA(a){Qa(new kr("platform-logger",t=>new eA(t),"PRIVATE")),Qa(new kr("heartbeat",t=>new zA(t),"PRIVATE")),Fs(zd,D_,a),Fs(zd,D_,"esm2020"),Fs("fire-js","")}HA("");var GA="firebase",FA="12.7.0";Fs(GA,FA,"app");var x_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qs,d0;(function(){var a;function t(N,S){function A(){}A.prototype=S.prototype,N.F=S.prototype,N.prototype=new A,N.prototype.constructor=N,N.D=function(C,D,O){for(var w=Array(arguments.length-2),It=2;It<arguments.length;It++)w[It-2]=arguments[It];return S.prototype[D].apply(C,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,A){A||(A=0);const C=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)C[D]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(D=0;D<16;++D)C[D]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=N.g[0],A=N.g[1],D=N.g[2];let O=N.g[3],w;w=S+(O^A&(D^O))+C[0]+3614090360&4294967295,S=A+(w<<7&4294967295|w>>>25),w=O+(D^S&(A^D))+C[1]+3905402710&4294967295,O=S+(w<<12&4294967295|w>>>20),w=D+(A^O&(S^A))+C[2]+606105819&4294967295,D=O+(w<<17&4294967295|w>>>15),w=A+(S^D&(O^S))+C[3]+3250441966&4294967295,A=D+(w<<22&4294967295|w>>>10),w=S+(O^A&(D^O))+C[4]+4118548399&4294967295,S=A+(w<<7&4294967295|w>>>25),w=O+(D^S&(A^D))+C[5]+1200080426&4294967295,O=S+(w<<12&4294967295|w>>>20),w=D+(A^O&(S^A))+C[6]+2821735955&4294967295,D=O+(w<<17&4294967295|w>>>15),w=A+(S^D&(O^S))+C[7]+4249261313&4294967295,A=D+(w<<22&4294967295|w>>>10),w=S+(O^A&(D^O))+C[8]+1770035416&4294967295,S=A+(w<<7&4294967295|w>>>25),w=O+(D^S&(A^D))+C[9]+2336552879&4294967295,O=S+(w<<12&4294967295|w>>>20),w=D+(A^O&(S^A))+C[10]+4294925233&4294967295,D=O+(w<<17&4294967295|w>>>15),w=A+(S^D&(O^S))+C[11]+2304563134&4294967295,A=D+(w<<22&4294967295|w>>>10),w=S+(O^A&(D^O))+C[12]+1804603682&4294967295,S=A+(w<<7&4294967295|w>>>25),w=O+(D^S&(A^D))+C[13]+4254626195&4294967295,O=S+(w<<12&4294967295|w>>>20),w=D+(A^O&(S^A))+C[14]+2792965006&4294967295,D=O+(w<<17&4294967295|w>>>15),w=A+(S^D&(O^S))+C[15]+1236535329&4294967295,A=D+(w<<22&4294967295|w>>>10),w=S+(D^O&(A^D))+C[1]+4129170786&4294967295,S=A+(w<<5&4294967295|w>>>27),w=O+(A^D&(S^A))+C[6]+3225465664&4294967295,O=S+(w<<9&4294967295|w>>>23),w=D+(S^A&(O^S))+C[11]+643717713&4294967295,D=O+(w<<14&4294967295|w>>>18),w=A+(O^S&(D^O))+C[0]+3921069994&4294967295,A=D+(w<<20&4294967295|w>>>12),w=S+(D^O&(A^D))+C[5]+3593408605&4294967295,S=A+(w<<5&4294967295|w>>>27),w=O+(A^D&(S^A))+C[10]+38016083&4294967295,O=S+(w<<9&4294967295|w>>>23),w=D+(S^A&(O^S))+C[15]+3634488961&4294967295,D=O+(w<<14&4294967295|w>>>18),w=A+(O^S&(D^O))+C[4]+3889429448&4294967295,A=D+(w<<20&4294967295|w>>>12),w=S+(D^O&(A^D))+C[9]+568446438&4294967295,S=A+(w<<5&4294967295|w>>>27),w=O+(A^D&(S^A))+C[14]+3275163606&4294967295,O=S+(w<<9&4294967295|w>>>23),w=D+(S^A&(O^S))+C[3]+4107603335&4294967295,D=O+(w<<14&4294967295|w>>>18),w=A+(O^S&(D^O))+C[8]+1163531501&4294967295,A=D+(w<<20&4294967295|w>>>12),w=S+(D^O&(A^D))+C[13]+2850285829&4294967295,S=A+(w<<5&4294967295|w>>>27),w=O+(A^D&(S^A))+C[2]+4243563512&4294967295,O=S+(w<<9&4294967295|w>>>23),w=D+(S^A&(O^S))+C[7]+1735328473&4294967295,D=O+(w<<14&4294967295|w>>>18),w=A+(O^S&(D^O))+C[12]+2368359562&4294967295,A=D+(w<<20&4294967295|w>>>12),w=S+(A^D^O)+C[5]+4294588738&4294967295,S=A+(w<<4&4294967295|w>>>28),w=O+(S^A^D)+C[8]+2272392833&4294967295,O=S+(w<<11&4294967295|w>>>21),w=D+(O^S^A)+C[11]+1839030562&4294967295,D=O+(w<<16&4294967295|w>>>16),w=A+(D^O^S)+C[14]+4259657740&4294967295,A=D+(w<<23&4294967295|w>>>9),w=S+(A^D^O)+C[1]+2763975236&4294967295,S=A+(w<<4&4294967295|w>>>28),w=O+(S^A^D)+C[4]+1272893353&4294967295,O=S+(w<<11&4294967295|w>>>21),w=D+(O^S^A)+C[7]+4139469664&4294967295,D=O+(w<<16&4294967295|w>>>16),w=A+(D^O^S)+C[10]+3200236656&4294967295,A=D+(w<<23&4294967295|w>>>9),w=S+(A^D^O)+C[13]+681279174&4294967295,S=A+(w<<4&4294967295|w>>>28),w=O+(S^A^D)+C[0]+3936430074&4294967295,O=S+(w<<11&4294967295|w>>>21),w=D+(O^S^A)+C[3]+3572445317&4294967295,D=O+(w<<16&4294967295|w>>>16),w=A+(D^O^S)+C[6]+76029189&4294967295,A=D+(w<<23&4294967295|w>>>9),w=S+(A^D^O)+C[9]+3654602809&4294967295,S=A+(w<<4&4294967295|w>>>28),w=O+(S^A^D)+C[12]+3873151461&4294967295,O=S+(w<<11&4294967295|w>>>21),w=D+(O^S^A)+C[15]+530742520&4294967295,D=O+(w<<16&4294967295|w>>>16),w=A+(D^O^S)+C[2]+3299628645&4294967295,A=D+(w<<23&4294967295|w>>>9),w=S+(D^(A|~O))+C[0]+4096336452&4294967295,S=A+(w<<6&4294967295|w>>>26),w=O+(A^(S|~D))+C[7]+1126891415&4294967295,O=S+(w<<10&4294967295|w>>>22),w=D+(S^(O|~A))+C[14]+2878612391&4294967295,D=O+(w<<15&4294967295|w>>>17),w=A+(O^(D|~S))+C[5]+4237533241&4294967295,A=D+(w<<21&4294967295|w>>>11),w=S+(D^(A|~O))+C[12]+1700485571&4294967295,S=A+(w<<6&4294967295|w>>>26),w=O+(A^(S|~D))+C[3]+2399980690&4294967295,O=S+(w<<10&4294967295|w>>>22),w=D+(S^(O|~A))+C[10]+4293915773&4294967295,D=O+(w<<15&4294967295|w>>>17),w=A+(O^(D|~S))+C[1]+2240044497&4294967295,A=D+(w<<21&4294967295|w>>>11),w=S+(D^(A|~O))+C[8]+1873313359&4294967295,S=A+(w<<6&4294967295|w>>>26),w=O+(A^(S|~D))+C[15]+4264355552&4294967295,O=S+(w<<10&4294967295|w>>>22),w=D+(S^(O|~A))+C[6]+2734768916&4294967295,D=O+(w<<15&4294967295|w>>>17),w=A+(O^(D|~S))+C[13]+1309151649&4294967295,A=D+(w<<21&4294967295|w>>>11),w=S+(D^(A|~O))+C[4]+4149444226&4294967295,S=A+(w<<6&4294967295|w>>>26),w=O+(A^(S|~D))+C[11]+3174756917&4294967295,O=S+(w<<10&4294967295|w>>>22),w=D+(S^(O|~A))+C[2]+718787259&4294967295,D=O+(w<<15&4294967295|w>>>17),w=A+(O^(D|~S))+C[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+O&4294967295}r.prototype.v=function(N,S){S===void 0&&(S=N.length);const A=S-this.blockSize,C=this.C;let D=this.h,O=0;for(;O<S;){if(D==0)for(;O<=A;)l(this,N,O),O+=this.blockSize;if(typeof N=="string"){for(;O<S;)if(C[D++]=N.charCodeAt(O++),D==this.blockSize){l(this,C),D=0;break}}else for(;O<S;)if(C[D++]=N[O++],D==this.blockSize){l(this,C),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var A=N.length-8;A<N.length;++A)N[A]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,A=0;A<4;++A)for(let C=0;C<32;C+=8)N[S++]=this.g[A]>>>C&255;return N};function h(N,S){var A=p;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=S(N)}function d(N,S){this.h=S;const A=[];let C=!0;for(let D=N.length-1;D>=0;D--){const O=N[D]|0;C&&O==S||(A[D]=O,C=!1)}this.g=A}var p={};function _(N){return-128<=N&&N<128?h(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return R;if(N<0)return Z(v(-N));const S=[];let A=1;for(let C=0;N>=A;C++)S[C]=N/A|0,A*=4294967296;return new d(S,0)}function b(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return Z(b(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=v(Math.pow(S,8));let C=R;for(let O=0;O<N.length;O+=8){var D=Math.min(8,N.length-O);const w=parseInt(N.substring(O,O+D),S);D<8?(D=v(Math.pow(S,D)),C=C.j(D).add(v(w))):(C=C.j(A),C=C.add(v(w)))}return C}var R=_(0),U=_(1),F=_(16777216);a=d.prototype,a.m=function(){if(et(this))return-Z(this).m();let N=0,S=1;for(let A=0;A<this.g.length;A++){const C=this.i(A);N+=(C>=0?C:4294967296+C)*S,S*=4294967296}return N},a.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(et(this))return"-"+Z(this).toString(N);const S=v(Math.pow(N,6));var A=this;let C="";for(;;){const D=Ht(A,S).g;A=ht(A,D.j(S));let O=((A.g.length>0?A.g[0]:A.h)>>>0).toString(N);if(A=D,W(A))return O+C;for(;O.length<6;)O="0"+O;C=O+C}},a.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function et(N){return N.h==-1}a.l=function(N){return N=ht(this,N),et(N)?-1:W(N)?0:1};function Z(N){const S=N.g.length,A=[];for(let C=0;C<S;C++)A[C]=~N.g[C];return new d(A,~N.h).add(U)}a.abs=function(){return et(this)?Z(this):this},a.add=function(N){const S=Math.max(this.g.length,N.g.length),A=[];let C=0;for(let D=0;D<=S;D++){let O=C+(this.i(D)&65535)+(N.i(D)&65535),w=(O>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);C=w>>>16,O&=65535,w&=65535,A[D]=w<<16|O}return new d(A,A[A.length-1]&-2147483648?-1:0)};function ht(N,S){return N.add(Z(S))}a.j=function(N){if(W(this)||W(N))return R;if(et(this))return et(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(et(N))return Z(this.j(Z(N)));if(this.l(F)<0&&N.l(F)<0)return v(this.m()*N.m());const S=this.g.length+N.g.length,A=[];for(var C=0;C<2*S;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(let D=0;D<N.g.length;D++){const O=this.i(C)>>>16,w=this.i(C)&65535,It=N.i(D)>>>16,Gt=N.i(D)&65535;A[2*C+2*D]+=w*Gt,_t(A,2*C+2*D),A[2*C+2*D+1]+=O*Gt,_t(A,2*C+2*D+1),A[2*C+2*D+1]+=w*It,_t(A,2*C+2*D+1),A[2*C+2*D+2]+=O*It,_t(A,2*C+2*D+2)}for(N=0;N<S;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=S;N<2*S;N++)A[N]=0;return new d(A,0)};function _t(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function dt(N,S){this.g=N,this.h=S}function Ht(N,S){if(W(S))throw Error("division by zero");if(W(N))return new dt(R,R);if(et(N))return S=Ht(Z(N),S),new dt(Z(S.g),Z(S.h));if(et(S))return S=Ht(N,Z(S)),new dt(Z(S.g),S.h);if(N.g.length>30){if(et(N)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var A=U,C=S;C.l(N)<=0;)A=Wt(A),C=Wt(C);var D=xt(A,1),O=xt(C,1);for(C=xt(C,2),A=xt(A,2);!W(C);){var w=O.add(C);w.l(N)<=0&&(D=D.add(A),O=w),C=xt(C,1),A=xt(A,1)}return S=ht(N,D.j(S)),new dt(D,S)}for(D=R;N.l(S)>=0;){for(A=Math.max(1,Math.floor(N.m()/S.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),O=v(A),w=O.j(S);et(w)||w.l(N)>0;)A-=C,O=v(A),w=O.j(S);W(O)&&(O=U),D=D.add(O),N=ht(N,w)}return new dt(D,N)}a.B=function(N){return Ht(this,N).h},a.and=function(N){const S=Math.max(this.g.length,N.g.length),A=[];for(let C=0;C<S;C++)A[C]=this.i(C)&N.i(C);return new d(A,this.h&N.h)},a.or=function(N){const S=Math.max(this.g.length,N.g.length),A=[];for(let C=0;C<S;C++)A[C]=this.i(C)|N.i(C);return new d(A,this.h|N.h)},a.xor=function(N){const S=Math.max(this.g.length,N.g.length),A=[];for(let C=0;C<S;C++)A[C]=this.i(C)^N.i(C);return new d(A,this.h^N.h)};function Wt(N){const S=N.g.length+1,A=[];for(let C=0;C<S;C++)A[C]=N.i(C)<<1|N.i(C-1)>>>31;return new d(A,N.h)}function xt(N,S){const A=S>>5;S%=32;const C=N.g.length-A,D=[];for(let O=0;O<C;O++)D[O]=S>0?N.i(O+A)>>>S|N.i(O+A+1)<<32-S:N.i(O+A);return new d(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,d0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=b,Qs=d}).apply(typeof x_<"u"?x_:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var m0,dl,g0,bc,qd,p0,y0,_0;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var y=r;u=u.split(".");for(var E=0;E<u.length-1;E++){var k=u[E];if(!(k in y))break t;y=y[k]}u=u[u.length-1],E=y[u],m=m(E),m!=E&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&y.push([E,m[E]]);return y}});var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){return v=_,v.apply(null,arguments)}function b(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function R(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(E,k,B){for(var $=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)$[Et-2]=arguments[Et];return m.prototype[k].apply(E,$)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const y=Array(m);for(let E=0;E<m;E++)y[E]=u[E];return y}return[]}function W(u,m){for(let E=1;E<arguments.length;E++){const k=arguments[E];var y=typeof k;if(y=y!="object"?y:k?Array.isArray(k)?"array":y:"null",y=="array"||y=="object"&&typeof k.length=="number"){y=u.length||0;const B=k.length||0;u.length=y+B;for(let $=0;$<B;$++)u[y+$]=k[$]}else u.push(k)}}class et{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,y){const E=dt.get();E.set(m,y),this.h?this.h.next=E:this.g=E,this.h=E}}var dt=new et(()=>new Ht,u=>u.reset());class Ht{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,xt=!1,N=new _t,S=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(A)}};function A(){for(var u;u=ht();){try{u.h.call(u.g)}catch(y){Z(y)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function It(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}R(It,D),It.prototype.init=function(u,m){const y=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&It.Z.h.call(this)},It.prototype.h=function(){It.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Gt="closure_listenable_"+(Math.random()*1e6|0),q=0;function J(u,m,y,E,k){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!E,this.ha=k,this.key=++q,this.da=this.fa=!1}function at(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function wt(u,m,y){for(const E in u)m.call(y,u[E],E,u)}function Pt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function V(u){const m={};for(const y in u)m[y]=u[y];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let y,E;for(let k=1;k<arguments.length;k++){E=arguments[k];for(y in E)u[y]=E[y];for(let B=0;B<K.length;B++)y=K[B],Object.prototype.hasOwnProperty.call(E,y)&&(u[y]=E[y])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,y,E,k){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const $=At(u,m,E,k);return $>-1?(m=u[$],y||(m.fa=!1)):(m=new J(m,this.src,B,!!E,k),m.fa=y,u.push(m)),m};function pt(u,m){const y=m.type;if(y in u.g){var E=u.g[y],k=Array.prototype.indexOf.call(E,m,void 0),B;(B=k>=0)&&Array.prototype.splice.call(E,k,1),B&&(at(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function At(u,m,y,E){for(let k=0;k<u.length;++k){const B=u[k];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==E)return k}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ce={};function re(u,m,y,E,k){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],y,E,k);return null}return y=lo(y),u&&u[Gt]?u.J(m,y,p(E)?!!E.capture:!1,k):tr(u,m,y,!1,E,k)}function tr(u,m,y,E,k,B){if(!m)throw Error("Invalid event type");const $=p(k)?!!k.capture:!!k;let Et=er(u);if(Et||(u[kt]=Et=new st(u)),y=Et.add(m,y,E,$,B),y.proxy)return y;if(E=Gr(),y.proxy=E,E.src=u,E.listener=y,u.addEventListener)O||(k=$),k===void 0&&(k=!1),u.addEventListener(m.toString(),E,k);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Gr(){function u(y){return m.call(u.src,u.listener,y)}const m=ao;return u}function Fr(u,m,y,E,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)Fr(u,m[B],y,E,k);else E=p(E)?!!E.capture:!!E,y=lo(y),u&&u[Gt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],y=At(m,y,E,k),y>-1&&(at(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=er(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,y,E,k)),(y=u>-1?m[u]:null)&&Qr(y))}function Qr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Gt])pt(m.i,u);else{var y=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(y,E,u.capture):m.detachEvent?m.detachEvent(Jn(y),E):m.addListener&&m.removeListener&&m.removeListener(E),(y=er(m))?(pt(y,u),y.h==0&&(y.src=null,m[kt]=null)):at(u)}}}function Jn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function ao(u,m){if(u.da)u=!0;else{m=new It(m,this);const y=u.listener,E=u.ha||u.src;u.fa&&Qr(u),u=y.call(E,m)}return u}function er(u){return u=u[kt],u instanceof st?u:null}var oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function lo(u){return typeof u=="function"?u:(u[oo]||(u[oo]=function(m){return u.handleEvent(m)}),u[oo])}function pe(){C.call(this),this.i=new st(this),this.M=this,this.G=null}R(pe,C),pe.prototype[Gt]=!0,pe.prototype.removeEventListener=function(u,m,y,E){Fr(this,u,m,y,E)};function Ie(u,m){var y,E=u.G;if(E)for(y=[];E;E=E.G)y.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var k=m;m=new D(E,u),tt(m,k)}k=!0;let B,$;if(y)for($=y.length-1;$>=0;$--)B=m.g=y[$],k=ss(B,E,!0,m)&&k;if(B=m.g=u,k=ss(B,E,!0,m)&&k,k=ss(B,E,!1,m)&&k,y)for($=0;$<y.length;$++)B=m.g=y[$],k=ss(B,E,!1,m)&&k}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let E=0;E<y.length;E++)at(y[E]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,y,E){return this.i.add(String(u),m,!1,y,E)},pe.prototype.K=function(u,m,y,E){return this.i.add(String(u),m,!0,y,E)};function ss(u,m,y,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let B=0;B<m.length;++B){const $=m[B];if($&&!$.da&&$.capture==y){const Et=$.listener,fe=$.ha||$.src;$.fa&&pt(u.i,$),k=Et.call(fe,E)!==!1&&k}}return k&&!E.defaultPrevented}function _h(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Hl(u){u.g=_h(()=>{u.g=null,u.i&&(u.i=!1,Hl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends C{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Hl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(u){C.call(this),this.h=u,this.g={}}R(nr,C);var uo=[];function co(u){wt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Qr(m)},u),u.g={}}nr.prototype.N=function(){nr.Z.N.call(this),co(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=d.JSON.stringify,vh=d.JSON.parse,Gl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Fl(){}function Ql(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){D.call(this,"d")}R(Le,D);function Tn(){D.call(this,"c")}R(Tn,D);var he={},Kl=null;function Kr(){return Kl=Kl||new pe}he.Ia="serverreachability";function Yl(u){D.call(this,he.Ia,u)}R(Yl,D);function $n(u){const m=Kr();Ie(m,new Yl(m))}he.STAT_EVENT="statevent";function ir(u,m){D.call(this,he.STAT_EVENT,u),this.stat=m}R(ir,D);function ye(u){const m=Kr();Ie(m,new ir(m,u))}he.Ja="timingevent";function Wn(u,m){D.call(this,he.Ja,u),this.size=m}R(Wn,D);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Th(u,m,y,E,k,B){u.info(function(){if(u.g)if(B){var $="",Et=B.split("&");for(let jt=0;jt<Et.length;jt++){var fe=Et[jt].split("=");if(fe.length>1){const ae=fe[0];fe=fe[1];const bn=ae.split("_");$=bn.length>=2&&bn[1]=="type"?$+(ae+"="+fe+"&"):$+(ae+"=redacted&")}}}else $=null;else $=B;return"XMLHTTP REQ ("+E+") [attempt "+k+"]: "+m+`
`+y+`
`+$})}function Xl(u,m,y,E,k,B,$){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+k+"]: "+m+`
`+y+`
`+B+" "+$})}function ei(u,m,y,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Eh(u,y)+(E?" "+E:"")})}function sr(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Eh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var y=B[u];if(!(y.length<2)){var E=y[1];if(Array.isArray(E)&&!(E.length<1)){var k=E[0];if(k!="noop"&&k!="stop"&&k!="close")for(let $=1;$<E.length;$++)E[$]=""}}}}return rs(B)}catch{return m}}var rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fo;function ar(){}R(ar,Fl),ar.prototype.g=function(){return new XMLHttpRequest},fo=new ar;function Ii(u){return encodeURIComponent(String(u))}function Zl(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function zn(u,m,y,E){this.j=u,this.i=m,this.l=y,this.S=E||1,this.V=new nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var _e={},Ve={};function ni(u,m,y){u.M=1,u.A=or(Te(m)),u.u=y,u.R=!0,Yr(u,null)}function Yr(u,m){u.F=Date.now(),ii(u),u.B=Te(u.A);var y=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),$r(y.i,"t",E),u.C=0,y=u.j.L,u.h=new Bn,u.g=hu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new $e(v(u.Y,u,u.g),u.P)),m=u.V,y=u.g,E=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(uo[0]=k.toString()),k=uo);for(let B=0;B<k.length;B++){const $=re(y,k[B],E||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),Th(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const Et=Hn(this.g),fe=this.g.ya(),jt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||Et!=4||fe==7||(fe==8||jt<=0?$n(3):$n(2)),si(this);var m=this.g.ca();this.X=m;var y=Sh(this);if(this.o=m==200,Xl(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,k=this.g;if((E=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(E)){var B=E;break e}}B=null}if(u=B)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,u);else{this.o=!1,this.m=3,ye(12),cn(this),En(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<y.length;)if(ae=$l(this,y),ae==Ve){Et==4&&(this.m=4,ye(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==_e){this.m=4,ye(15),ei(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,ae,null),ri(this,ae);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||y.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,y,"[Invalid Chunked Response]"),cn(this),En(this);else if(y.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Io($),$.P=!0,ye(11))}}else ei(this.i,this.l,y,null),ri(this,y);Et==4&&cn(this),this.o&&!this.K&&(Et==4?ou(this.j,this):(this.o=!1,ii(this)))}else Ni(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),cn(this),En(this)}}}catch{}};function Sh(u){if(!Jl(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let y="";const E=m.length,k=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),En(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<E;B++)u.h.h=!0,y+=u.h.i.decode(m[B],{stream:!(k&&B==E-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Jl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function $l(u,m){var y=u.C,E=m.indexOf(`
`,y);return E==-1?Ve:(y=Number(m.substring(y,E)),isNaN(y)?_e:(E+=1,E+y>m.length?Ve:(m=m.slice(E,E+y),u.C=E+y,m)))}zn.prototype.cancel=function(){this.K=!0,cn(this)};function ii(u){u.T=Date.now()+u.H,Xr(u,u.H)}function Xr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(v(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(sr(this.i,this.B),this.M!=2&&($n(),ye(17)),cn(this),this.m=2,En(this)):Xr(this,this.T-u)};function En(u){u.j.I==0||u.K||ou(u.j,u)}function cn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,co(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ri(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||oi(y.h,u))){if(!u.L&&oi(y.h,u)&&y.I==3){try{var E=y.Ba.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var k=E;if(k[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)ia(y),ds(y);else break t;mr(y),ye(18)}}else y.xa=k[1],0<y.xa-y.K&&k[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ti(v(y.Va,y),6e3));ai(y.h)<=1&&y.ta&&(y.ta=void 0)}else di(y,11)}else if((u.L||y.g==u)&&ia(y),!w(m))for(k=y.Ba.g.parse(m),m=0;m<k.length;m++){let jt=k[m];const ae=jt[0];if(!(ae<=y.K))if(y.K=ae,jt=jt[1],y.I==2)if(jt[0]=="c"){y.M=jt[1],y.ba=jt[2];const bn=jt[3];bn!=null&&(y.ka=bn,y.j.info("VER="+y.ka));const mi=jt[4];mi!=null&&(y.za=mi,y.j.info("SVER="+y.za));const Gn=jt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(E=1.5*Gn,y.O=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const Fn=u.g;if(Fn){const gr=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var B=E.h;B.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(po(B,B.h),B.h=null))}if(E.G){const sa=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(E.wa=sa,Qt(E.J,E.G,sa))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),E=y;var $=u;if(E.na=cu(E,E.L?E.ba:null,E.W),$.L){yo(E.h,$);var Et=$,fe=E.O;fe&&(Et.H=fe),Et.D&&(si(Et),ii(Et)),E.g=$}else ru(E);y.i.length>0&&fi(y)}else jt[0]!="stop"&&jt[0]!="close"||di(y,7);else y.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?di(y,7):Ro(y):jt[0]!="noop"&&y.l&&y.l.qa(jt),y.A=0)}}$n(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function mo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function go(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function po(u,m){u.g?u.g.add(m):u.h=m}function yo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mo.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _o(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return F(u.i)}var Wl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zr(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const E=u[y].indexOf("=");let k,B=null;E>=0?(k=u[y].substring(0,E),B=u[y].substring(E+1)):k=u[y],m(k,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,as(this,u.u),this.h=u.h,vo(this,iu(u.i)),this.m=u.m):u&&(m=String(u).match(Wl))?(this.l=!1,xe(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),as(this,m[4]),this.h=li(m[5]||"",!0),vo(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(lr(m,Jr,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(lr(m,Jr,!0),"@"),u.push(Ii(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(lr(y,y.charAt(0)=="/"?To:tu,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",lr(y,eu)),u.join("")},hn.prototype.resolve=function(u){const m=Te(this);let y=!!u.j;y?xe(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var E=u.h;if(y)as(m,u.u);else if(y=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var k=m.h.lastIndexOf("/");k!=-1&&(E=m.h.slice(0,k+1)+E)}if(k=E,k==".."||k==".")E="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){E=k.lastIndexOf("/",0)==0,k=k.split("/");const B=[];for(let $=0;$<k.length;){const Et=k[$++];Et=="."?E&&$==k.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),E&&$==k.length&&B.push("")):(B.push(Et),E=!0)}E=B.join("/")}else E=k}return y?m.h=E:y=u.i.toString()!=="",y?vo(m,iu(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Te(u){return new hn(u)}function xe(u,m,y){u.j=y?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function vo(u,m,y){m instanceof ls?(u.i=m,Wr(u.i,u.l)):(y||(m=lr(m,os)),u.i=new ls(m,u.l))}function Qt(u,m,y){u.i.set(m,y)}function or(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function lr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,en),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Jr=/[#\/\?@]/g,tu=/[#\?:]/g,To=/[#\?]/g,os=/[#\?@]/g,eu=/#/g;function ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Zr(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}a=ls.prototype,a.add=function(u,m){nn(this),this.i=null,u=us(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function nu(u,m){nn(u),m=us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return nn(u),m=us(u,m),u.g.has(m)}a.forEach=function(u,m){nn(this),this.g.forEach(function(y,E){y.forEach(function(k){u.call(m,k,E,this)},this)},this)};function So(u,m){nn(u);let y=[];if(typeof m=="string")Eo(u,m)&&(y=y.concat(u.g.get(us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}a.set=function(u,m){return nn(this),this.i=null,u=us(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=So(this,u),u.length>0?String(u[0]):m):m};function $r(u,m,y){nu(u,m),y.length>0&&(u.i=null,u.g.set(us(u,m),F(y)),u.h+=y.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var y=m[E];const k=Ii(y);y=So(this,y);for(let B=0;B<y.length;B++){let $=k;y[B]!==""&&($+="="+Ii(y[B])),u.push($)}}return this.i=u.join("&")};function iu(u){const m=new ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Wr(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(y,E){const k=E.toLowerCase();E!=k&&(nu(this,E),$r(this,k,y))},u)),u.j=m}function jn(u,m){const y=new Pn;if(d.Image){const E=new Image;E.onload=b(Sn,y,"TestLoadImage: loaded",!0,m,E),E.onerror=b(Sn,y,"TestLoadImage: error",!1,m,E),E.onabort=b(Sn,y,"TestLoadImage: abort",!1,m,E),E.ontimeout=b(Sn,y,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Ao(u,m){const y=new Pn,E=new AbortController,k=setTimeout(()=>{E.abort(),Sn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(B=>{clearTimeout(k),B.ok?Sn(y,"TestPingServer: ok",!0,m):Sn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),Sn(y,"TestPingServer: error",!1,m)})}function Sn(u,m,y,E,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),E(y)}catch{}}function cs(){this.g=new Gl}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}R(ui,Fl),ui.prototype.g=function(){return new ur(this.i,this.h)};function ur(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(ur,pe),a=ur.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hs(this):qn(this),this.readyState==3&&ta(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,hs(this))},a.Na=function(u){this.g&&(this.response=u,hs(this))},a.ga=function(){this.g&&hs(this)};function hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return wt(u,function(y,E){m+=E,m+=":",m+=y,m+=`\r
`}),m}function cr(u,m,y){t:{for(E in y){var E=!1;break t}E=!0}E||(y=An(y),typeof u=="string"?y!=null&&Ii(y):Qt(u,m,y))}function Xt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(Xt,pe);var ci=/^https?$/i,bo=["POST","PUT"];a=Xt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fo.g(),this.g.onreadystatechange=U(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){hr(this,B);return}if(u=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var k in E)y.set(k,E[k]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())y.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(bo,m,void 0)>=0)||E||k||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,$]of y)this.g.setRequestHeader(B,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){hr(this,B)}};function hr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wo(u),Di(u)}function wo(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Di(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Xt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?fr(this):this.Xa())},a.Xa=function(){fr(this)};function fr(u){if(u.h&&typeof h<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var E;if(E=B===0){let $=String(u.D).match(Wl)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),E=!ci.test($?$.toLowerCase():"")}y=E}if(y)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var k=Hn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",wo(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Ie(u,"ready");try{y.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),vh(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(w(u[E]))continue;var y=Zl(u[E]);const k=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[k]||[];m[k]=B,B.push(y)}Pt(m,function(E){return E.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function fs(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new mo(u&&u.concurrentRequestLimit),this.Ba=new cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=fs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,y,E){ye(0),this.W=u,this.H=m||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.J=cu(this,null,this.W),fi(this)};function Ro(u){if(ea(u),u.I==3){var m=u.V++,y=Te(u.J);if(Qt(y,"SID",u.M),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),dr(u,y),m=new zn(u,u.j,m),m.M=2,m.A=or(Te(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=hu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}uu(u)}function ds(u){u.g&&(Io(u),u.g.cancel(),u.g=null)}function ea(u){ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!go(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||S(),xt||(Wt(),xt=!0),N.add(m,u),u.D=0}}function na(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(v(u.Ea,u,m),lu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),tt(B,this.U)):B=this.U),this.u!==null||this.R||(k.J=B,B=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=su(this,k,m),y=Te(this.J),Qt(y,"RID",u),Qt(y,"CVER",22),this.G&&Qt(y,"X-HTTP-Session-Id",this.G),dr(this,y),B&&(this.R?m="headers="+Ii(An(B))+"&"+m:this.u&&cr(y,this.u,B)),po(this.h,k),this.Ra&&Qt(y,"TYPE","init"),this.S?(Qt(y,"$req",m),Qt(y,"SID","null"),k.U=!0,ni(k,y,null)):ni(k,y,m),this.I=2}}else this.I==3&&(u?Co(this,u):this.i.length==0||go(this.h)||Co(this))};function Co(u,m){var y;m?y=m.l:y=u.V++;const E=Te(u.J);Qt(E,"SID",u.M),Qt(E,"RID",y),Qt(E,"AID",u.K),dr(u,E),u.u&&u.o&&cr(E,u.u,u.o),y=new zn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=su(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),po(u.h,y),ni(y,E,m)}function dr(u,m){u.H&&wt(u.H,function(y,E){Qt(m,E,y)}),u.l&&wt({},function(y,E){Qt(m,E,y)})}function su(u,m,y){y=Math.min(u.i.length,y);const E=u.l?v(u.l.Ka,u.l,u):null;t:{var k=u.i;let Et=-1;for(;;){const fe=["count="+y];Et==-1?y>0?(Et=k[0].g,fe.push("ofs="+Et)):Et=0:fe.push("ofs="+Et);let jt=!0;for(let ae=0;ae<y;ae++){var B=k[ae].g;const bn=k[ae].map;if(B-=Et,B<0)Et=Math.max(0,k[ae].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var $=bn instanceof Map?bn:Object.entries(bn);for(const[mi,Gn]of $){let Fn=Gn;p(Gn)&&(Fn=rs(Gn)),fe.push(B+mi+"="+encodeURIComponent(Fn))}}catch(mi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),mi}}catch{E&&E(bn)}}if(jt){$=fe.join("&");break t}}$=void 0}return u=u.i.splice(0,y),m.G=u,$}function ru(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||S(),xt||(Wt(),xt=!0),N.add(m,u),u.A=0}}function mr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(v(u.Da,u),lu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),ds(this),au(this))};function Io(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function au(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),dr(u,m),u.u&&u.o&&cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=or(Te(m)),y.u=null,y.R=!0,Yr(y,u)}a.Va=function(){this.C!=null&&(this.C=null,ds(this),mr(this),ye(19))};function ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ou(u,m){var y=null;if(u.g==m){ia(u),Io(u),u.g=null;var E=2}else if(oi(u.h,m))y=m.G,yo(u.h,m),E=1;else return;if(u.I!=0){if(m.o)if(E==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;E=Kr(),Ie(E,new Wn(E,y)),fi(u)}else ru(u);else if(k=m.m,k==3||k==0&&m.X>0||!(E==1&&na(u,m)||E==2&&mr(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),k){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function lu(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var y=v(u.bb,u),E=u.Ua;const k=!E;E=new hn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(E,"https"),or(E),k?jn(E.toString(),y):Ao(E.toString(),y)}else ye(2);u.I=0,u.l&&u.l.pa(m),uu(u),ea(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function uu(u){if(u.I=0,u.ja=[],u.l){const m=_o(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function cu(u,m,y){var E=y instanceof hn?Te(y):new hn(y);if(E.g!="")m&&(E.g=m+"."+E.g),as(E,E.u);else{var k=d.location;E=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const B=new hn(null);E&&xe(B,E),m&&(B.g=m),k&&as(B,k),y&&(B.h=y),E=B}return y=u.G,m=u.wa,y&&m&&Qt(E,y,m),Qt(E,"VER",u.ka),dr(u,E),E}function hu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new ui({ab:y})):new Xt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}a=fu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ms(){}ms.prototype.g=function(u,m){return new We(u,m)};function We(u,m){pe.call(this),this.g=new fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}R(We,pe),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Ro(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=rs(u),u=y);m.i.push(new ve(m.Ya++,u)),m.I==3&&fi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,We.Z.N.call(this)};function du(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}R(du,Le);function mu(){Tn.call(this),this.status=1}R(mu,Tn);function Oi(u){this.g=u}R(Oi,fu),Oi.prototype.ra=function(){Ie(this.g,"a")},Oi.prototype.qa=function(u){Ie(this.g,new du(u))},Oi.prototype.pa=function(u){Ie(this.g,new mu)},Oi.prototype.oa=function(){Ie(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,_0=function(){return new ms},y0=function(){return Kr()},p0=he,qd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,bc=rr,ho.COMPLETE="complete",g0=ho,Ql.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",pe.prototype.listen=pe.prototype.J,dl=Ql,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,m0=Xt}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const U_="@firebase/firestore",k_="4.9.3";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let eo="12.7.0";const Lr=new lm("@firebase/firestore");function Ua(){return Lr.logLevel}function it(a,...t){if(Lr.logLevel<=Ot.DEBUG){const i=t.map(hm);Lr.debug(`Firestore (${eo}): ${a}`,...i)}}function $i(a,...t){if(Lr.logLevel<=Ot.ERROR){const i=t.map(hm);Lr.error(`Firestore (${eo}): ${a}`,...i)}}function Ka(a,...t){if(Lr.logLevel<=Ot.WARN){const i=t.map(hm);Lr.warn(`Firestore (${eo}): ${a}`,...i)}}function hm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function mt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,v0(a,r,i)}function v0(a,t,i){let r=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw $i(r),new Error(r)}function Ft(a,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||v0(t,l,r)}function Tt(a,t){return a}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends is{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class T0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class QA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class KA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class YA{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let h=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Vr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=h;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Vr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new T0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class XA{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZA{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new XA(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class L_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JA{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const r=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>r(h)))};const l=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new L_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new L_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $A(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class fm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=$A(40);for(let h=0;h<l.length;++h)r.length<20&&l[h]<i&&(r+=t.charAt(l[h]%62))}return r}}function Mt(a,t){return a<t?-1:a>t?1:0}function Hd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const l=a.charAt(r),h=t.charAt(r);if(l!==h)return Id(l)===Id(h)?Mt(l,h):Id(l)?1:-1}return Mt(a.length,t.length)}const WA=55296,tb=57343;function Id(a){const t=a.charCodeAt(0);return t>=WA&&t<=tb}function Ya(a,t,i){return a.length===t.length&&a.every(((r,l)=>i(r,t[l])))}const P_="__name__";class vi{constructor(t,i,r){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&mt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const h=vi.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Mt(t.length,i.length)}static compareSegments(t,i){const r=vi.isNumericId(t),l=vi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Hd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qs.fromString(t.substring(4,t.length-2))}}class ie extends vi{construct(t,i,r){return new ie(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new lt(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const eb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends vi{construct(t,i,r){return new Fe(t,i,r)}static isValidIdentifier(t){return eb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P_}static keyField(){return new Fe([P_])}static fromServerFormat(t){const i=[];let r="",l=0;const h=()=>{if(r.length===0)throw new lt(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(h(),l++)}if(h(),d)throw new lt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(ie.fromString(t))}static fromName(t){return new ct(ie.fromString(t).popFirst(5))}static empty(){return new ct(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new ie(t.slice()))}}function E0(a,t,i){if(!i)throw new lt(X.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function nb(a,t,i,r){if(t===!0&&r===!0)throw new lt(X.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function z_(a){if(!ct.isDocumentKey(a))throw new lt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function B_(a){if(ct.isDocumentKey(a))throw new lt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function S0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function dm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":mt(12329,{type:typeof a})}function Ba(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new lt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dm(a);throw new lt(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function Re(a,t){const i={typeString:a};return t&&(i.value=t),i}function Vl(a,t){if(!S0(a))throw new lt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new lt(X.INVALID_ARGUMENT,i);return!0}const j_=-62135596800,q_=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*q_);return new se(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<j_)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q_}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Vl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-j_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Re("string",se._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new se(0,0))}static max(){return new yt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bl=-1;function ib(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(r===1e9?new se(i+1,0):new se(i,r));return new Ys(l,ct.empty(),t)}function sb(a){return new Ys(a.readTime,a.key,bl)}class Ys{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ys(yt.min(),ct.empty(),bl)}static max(){return new Ys(yt.max(),ct.empty(),bl)}}function rb(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(a.documentKey,t.documentKey),i!==0?i:Mt(a.largestBatchId,t.largestBatchId))}const ab="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ob{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function no(a){if(a.code!==X.FAILED_PRECONDITION||a.message!==ab)throw a;it("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((r,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,r)=>{i(t)}))}static reject(t){return new Y(((i,r)=>{r(t)}))}static waitFor(t){return new Y(((i,r)=>{let l=0,h=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++h,d&&h===l&&i()}),(_=>r(_)))})),d=!0,h===l&&i()}))}static or(t){let i=Y.resolve(!1);for(const r of t)i=i.next((l=>l?Y.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,h)=>{r.push(i.call(this,l,h))})),this.waitFor(r)}static mapArray(t,i){return new Y(((r,l)=>{const h=t.length,d=new Array(h);let p=0;for(let _=0;_<h;_++){const v=_;i(t[v]).next((b=>{d[v]=b,++p,p===h&&r(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new Y(((r,l)=>{const h=()=>{t()===!0?i().next((()=>{h()}),l):r()};h()}))}}function lb(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function io(a){return a.name==="IndexedDbTransactionError"}class nh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}nh.ce=-1;const mm=-1;function ih(a){return a==null}function kc(a){return a===0&&1/a==-1/0}function ub(a){return typeof a=="number"&&Number.isInteger(a)&&!kc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const A0="";function cb(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=H_(t)),t=hb(a.get(i),t);return H_(t)}function hb(a,t){let i=t;const r=a.length;for(let l=0;l<r;l++){const h=a.charAt(l);switch(h){case"\0":i+="";break;case A0:i+="";break;default:i+=h}}return i}function H_(a){return a+A0+""}function G_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Br(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function b0(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vc(this.root,t,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vc(this.root,t,this.comparator,!0)}}class vc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?r(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,r,l,h){this.key=t,this.value=i,this.color=r??Ge.RED,this.left=l??Ge.EMPTY,this.right=h??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,h){return new Ge(t??this.key,i??this.value,r??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const h=r(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,r),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,r,l,h){return this}insert(t,i,r){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new F_(this.data.getIterator())}getIteratorFrom(t){return new F_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class F_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new Me(Fe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ya(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class w0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new w0("Invalid base64 string: "+h):h}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const fb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(a){if(Ft(!!a,39018),typeof a=="string"){let t=0;const i=fb.exec(a);if(Ft(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(a.seconds),nanos:ge(a.nanos)}}function ge(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Zs(a){return typeof a=="string"?Qe.fromBase64String(a):Qe.fromUint8Array(a)}const R0="server_timestamp",C0="__type__",I0="__previous_value__",D0="__local_write_time__";function gm(a){return(a?.mapValue?.fields||{})[C0]?.stringValue===R0}function sh(a){const t=a.mapValue.fields[I0];return gm(t)?sh(t):t}function wl(a){const t=Xs(a.mapValue.fields[D0].timestampValue);return new se(t.seconds,t.nanos)}class db{constructor(t,i,r,l,h,d,p,_,v,b){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=b}}const Lc="(default)";class Rl{constructor(t,i){this.projectId=t,this.database=i||Lc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===Lc}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}const N0="__type__",mb="__max__",Tc={mapValue:{}},O0="__vector__",Pc="value";function Js(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?gm(a)?4:pb(a)?9007199254740991:gb(a)?10:11:mt(28295,{value:a})}function Ri(a,t){if(a===t)return!0;const i=Js(a);if(i!==Js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return wl(a).isEqual(wl(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Xs(l.timestampValue),p=Xs(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,h){return Zs(l.bytesValue).isEqual(Zs(h.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,h){return ge(l.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(a,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return ge(l.integerValue)===ge(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=ge(l.doubleValue),p=ge(h.doubleValue);return d===p?kc(d)===kc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Ya(a.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},p=h.mapValue.fields||{};if(G_(d)!==G_(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ri(d[_],p[_])))return!1;return!0})(a,t);default:return mt(52216,{left:a})}}function Cl(a,t){return(a.values||[]).find((i=>Ri(i,t)))!==void 0}function Xa(a,t){if(a===t)return 0;const i=Js(a),r=Js(t);if(i!==r)return Mt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(a.booleanValue,t.booleanValue);case 2:return(function(h,d){const p=ge(h.integerValue||h.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(a,t);case 3:return Q_(a.timestampValue,t.timestampValue);case 4:return Q_(wl(a),wl(t));case 5:return Hd(a.stringValue,t.stringValue);case 6:return(function(h,d){const p=Zs(h),_=Zs(d);return p.compareTo(_)})(a.bytesValue,t.bytesValue);case 7:return(function(h,d){const p=h.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const b=Mt(p[v],_[v]);if(b!==0)return b}return Mt(p.length,_.length)})(a.referenceValue,t.referenceValue);case 8:return(function(h,d){const p=Mt(ge(h.latitude),ge(d.latitude));return p!==0?p:Mt(ge(h.longitude),ge(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return K_(a.arrayValue,t.arrayValue);case 10:return(function(h,d){const p=h.fields||{},_=d.fields||{},v=p[Pc]?.arrayValue,b=_[Pc]?.arrayValue,R=Mt(v?.values?.length||0,b?.values?.length||0);return R!==0?R:K_(v,b)})(a.mapValue,t.mapValue);case 11:return(function(h,d){if(h===Tc.mapValue&&d===Tc.mapValue)return 0;if(h===Tc.mapValue)return 1;if(d===Tc.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),v=d.fields||{},b=Object.keys(v);_.sort(),b.sort();for(let R=0;R<_.length&&R<b.length;++R){const U=Hd(_[R],b[R]);if(U!==0)return U;const F=Xa(p[_[R]],v[b[R]]);if(F!==0)return F}return Mt(_.length,b.length)})(a.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function Q_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Mt(a,t);const i=Xs(a),r=Xs(t),l=Mt(i.seconds,r.seconds);return l!==0?l:Mt(i.nanos,r.nanos)}function K_(a,t){const i=a.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const h=Xa(i[l],r[l]);if(h)return h}return Mt(i.length,r.length)}function Za(a){return Gd(a)}function Gd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Xs(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Zs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ct.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const h of i.values||[])l?l=!1:r+=",",r+=Gd(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of r)h?h=!1:l+=",",l+=`${d}:${Gd(i.fields[d])}`;return l+"}"})(a.mapValue):mt(61005,{value:a})}function wc(a){switch(Js(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sh(a);return t?16+wc(t):16;case 5:return 2*a.stringValue.length;case 6:return Zs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,h)=>l+wc(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return Br(r.fields,((h,d)=>{l+=h.length+wc(d)})),l})(a.mapValue);default:throw mt(13486,{value:a})}}function Fd(a){return!!a&&"integerValue"in a}function pm(a){return!!a&&"arrayValue"in a}function Y_(a){return!!a&&"nullValue"in a}function X_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Rc(a){return!!a&&"mapValue"in a}function gb(a){return(a?.mapValue?.fields||{})[N0]?.stringValue===O0}function _l(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Br(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=_l(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=_l(a.arrayValue.values[i]);return t}return{...a}}function pb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===mb}class xn{constructor(t){this.value=t}static empty(){return new xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Rc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=_l(i)}setAll(t){let i=Fe.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=_l(d):l.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,l)}delete(t){const i=this.field(t.popLast());Rc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Rc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Br(i,((l,h)=>t[l]=h));for(const l of r)delete t[l]}clone(){return new xn(_l(this.value))}}function M0(a){const t=[];return Br(a.fields,((i,r)=>{const l=new Fe([i]);if(Rc(r)){const h=M0(r.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new Xn(t)}class Ze{constructor(t,i,r,l,h,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,yt.min(),yt.min(),yt.min(),xn.empty(),0)}static newFoundDocument(t,i,r,l){return new Ze(t,1,i,yt.min(),r,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,yt.min(),yt.min(),xn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,yt.min(),yt.min(),xn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zc{constructor(t,i){this.position=t,this.inclusive=i}}function Z_(a,t,i){let r=0;for(let l=0;l<a.position.length;l++){const h=t[l],d=a.position[l];if(h.field.isKeyField()?r=ct.comparator(ct.fromName(d.referenceValue),i.key):r=Xa(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function J_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ri(a.position[i],t.position[i]))return!1;return!0}class Bc{constructor(t,i="asc"){this.field=t,this.dir=i}}function yb(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class V0{}class Ne extends V0{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new vb(t,i,r):i==="array-contains"?new Sb(t,r):i==="in"?new Ab(t,r):i==="not-in"?new bb(t,r):i==="array-contains-any"?new wb(t,r):new Ne(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new Tb(t,r):new Eb(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Xa(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison(Xa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends V0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return x0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x0(a){return a.op==="and"}function U0(a){return _b(a)&&x0(a)}function _b(a){for(const t of a.filters)if(t instanceof Ci)return!1;return!0}function Qd(a){if(a instanceof Ne)return a.field.canonicalString()+a.op.toString()+Za(a.value);if(U0(a))return a.filters.map((t=>Qd(t))).join(",");{const t=a.filters.map((i=>Qd(i))).join(",");return`${a.op}(${t})`}}function k0(a,t){return a instanceof Ne?(function(r,l){return l instanceof Ne&&r.op===l.op&&r.field.isEqual(l.field)&&Ri(r.value,l.value)})(a,t):a instanceof Ci?(function(r,l){return l instanceof Ci&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((h,d,p)=>h&&k0(d,l.filters[p])),!0):!1})(a,t):void mt(19439)}function L0(a){return a instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(a):a instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(L0).join(" ,")+"}"})(a):"Filter"}class vb extends Ne{constructor(t,i,r){super(t,i,r),this.key=ct.fromName(r.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class Tb extends Ne{constructor(t,i){super(t,"in",i),this.keys=P0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Eb extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=P0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function P0(a,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class Sb extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return pm(i)&&Cl(i.arrayValue,this.value)}}class Ab extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Cl(this.value.arrayValue,i)}}class bb extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Cl(this.value.arrayValue,i)}}class wb extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Cl(this.value.arrayValue,r)))}}class Rb{constructor(t,i=null,r=[],l=[],h=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function $_(a,t=null,i=[],r=[],l=null,h=null,d=null){return new Rb(a,t,i,r,l,h,d)}function ym(a){const t=Tt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Qd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),ih(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Za(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Za(r))).join(",")),t.Te=i}return t.Te}function _m(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!yb(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!k0(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!J_(a.startAt,t.startAt)&&J_(a.endAt,t.endAt)}function Kd(a){return ct.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class rh{constructor(t,i=null,r=[],l=[],h=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Cb(a,t,i,r,l,h,d,p){return new rh(a,t,i,r,l,h,d,p)}function vm(a){return new rh(a)}function W_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Ib(a){return a.collectionGroup!==null}function vl(a){const t=Tt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Fe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Bc(h,r))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Bc(Fe.keyField(),r))}return t.Ie}function Ti(a){const t=Tt(a);return t.Ee||(t.Ee=Db(t,vl(a))),t.Ee}function Db(a,t){if(a.limitType==="F")return $_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Bc(l.field,h)}));const i=a.endAt?new zc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new zc(a.startAt.position,a.startAt.inclusive):null;return $_(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function Yd(a,t,i){return new rh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function ah(a,t){return _m(Ti(a),Ti(t))&&a.limitType===t.limitType}function z0(a){return`${ym(Ti(a))}|lt:${a.limitType}`}function ka(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>L0(l))).join(", ")}]`),ih(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Za(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Za(l))).join(",")),`Target(${r})`})(Ti(a))}; limitType=${a.limitType})`}function oh(a,t){return t.isFoundDocument()&&(function(r,l){const h=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ct.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,t)&&(function(r,l){for(const h of vl(r))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const h of r.filters)if(!h.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const v=Z_(d,p,_);return d.inclusive?v<=0:v<0})(r.startAt,vl(r),l)||r.endAt&&!(function(d,p,_){const v=Z_(d,p,_);return d.inclusive?v>=0:v>0})(r.endAt,vl(r),l))})(a,t)}function Nb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function B0(a){return(t,i)=>{let r=!1;for(const l of vl(a)){const h=Ob(l,t,i);if(h!==0)return h;r=r||l.field.isKeyField()}return 0}}function Ob(a,t,i){const r=a.field.isKeyField()?ct.comparator(t.key,i.key):(function(h,d,p){const _=d.data.field(h),v=p.data.field(h);return _!==null&&v!==null?Xa(_,v):mt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return mt(19790,{direction:a.dir})}}class jr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,h]of r)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Br(this.inner,((i,r)=>{for(const[l,h]of r)t(l,h)}))}isEmpty(){return b0(this.inner)}size(){return this.innerSize}}const Mb=new le(ct.comparator);function Wi(){return Mb}const j0=new le(ct.comparator);function ml(...a){let t=j0;for(const i of a)t=t.insert(i.key,i);return t}function q0(a){let t=j0;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Mr(){return Tl()}function H0(){return Tl()}function Tl(){return new jr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const Vb=new le(ct.comparator),xb=new Me(ct.comparator);function Vt(...a){let t=xb;for(const i of a)t=t.add(i);return t}const Ub=new Me(Mt);function kb(){return Ub}function Tm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(t)?"-0":t}}function G0(a){return{integerValue:""+a}}function Lb(a,t){return ub(t)?G0(t):Tm(a,t)}class lh{constructor(){this._=void 0}}function Pb(a,t,i){return a instanceof jc?(function(l,h){const d={fields:{[C0]:{stringValue:R0},[D0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&gm(h)&&(h=sh(h)),h&&(d.fields[I0]=h),{mapValue:d}})(i,t):a instanceof Il?Q0(a,t):a instanceof Dl?K0(a,t):(function(l,h){const d=F0(l,h),p=tv(d)+tv(l.Ae);return Fd(d)&&Fd(l.Ae)?G0(p):Tm(l.serializer,p)})(a,t)}function zb(a,t,i){return a instanceof Il?Q0(a,t):a instanceof Dl?K0(a,t):i}function F0(a,t){return a instanceof qc?(function(r){return Fd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(t)?t:{integerValue:0}:null}class jc extends lh{}class Il extends lh{constructor(t){super(),this.elements=t}}function Q0(a,t){const i=Y0(t);for(const r of a.elements)i.some((l=>Ri(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Dl extends lh{constructor(t){super(),this.elements=t}}function K0(a,t){let i=Y0(t);for(const r of a.elements)i=i.filter((l=>!Ri(l,r)));return{arrayValue:{values:i}}}class qc extends lh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function tv(a){return ge(a.integerValue||a.doubleValue)}function Y0(a){return pm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Bb(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof Il&&l instanceof Il||r instanceof Dl&&l instanceof Dl?Ya(r.elements,l.elements,Ri):r instanceof qc&&l instanceof qc?Ri(r.Ae,l.Ae):r instanceof jc&&l instanceof jc})(a.transform,t.transform)}class jb{constructor(t,i){this.version=t,this.transformResults=i}}class Xi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Xi}static exists(t){return new Xi(void 0,t)}static updateTime(t){return new Xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Cc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class uh{}function X0(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new J0(a.key,Xi.none()):new xl(a.key,a.data,Xi.none());{const i=a.data,r=xn.empty();let l=new Me(Fe.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),l=l.add(h)}return new qr(a.key,r,new Xn(l.toArray()),Xi.none())}}function qb(a,t,i){a instanceof xl?(function(l,h,d){const p=l.value.clone(),_=nv(l.fieldTransforms,h,d.transformResults);p.setAll(_),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof qr?(function(l,h,d){if(!Cc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const p=nv(l.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(Z0(l)),_.setAll(p),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,t,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function El(a,t,i,r){return a instanceof xl?(function(h,d,p,_){if(!Cc(h.precondition,d))return p;const v=h.value.clone(),b=iv(h.fieldTransforms,_,d);return v.setAll(b),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,t,i,r):a instanceof qr?(function(h,d,p,_){if(!Cc(h.precondition,d))return p;const v=iv(h.fieldTransforms,_,d),b=d.data;return b.setAll(Z0(h)),b.setAll(v),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((R=>R.field)))})(a,t,i,r):(function(h,d,p){return Cc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function Hb(a,t){let i=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),h=F0(r.transform,l||null);h!=null&&(i===null&&(i=xn.empty()),i.set(r.field,h))}return i||null}function ev(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Ya(r,l,((h,d)=>Bb(h,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class xl extends uh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class qr extends uh{constructor(t,i,r,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Z0(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function nv(a,t,i){const r=new Map;Ft(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const h=a[l],d=h.transform,p=t.data.field(h.field);r.set(h.field,zb(d,p,i[l]))}return r}function iv(a,t,i){const r=new Map;for(const l of a){const h=l.transform,d=i.data.field(l.field);r.set(l.field,Pb(h,d,t))}return r}class J0 extends uh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gb extends uh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Fb{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&qb(h,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=El(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=El(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=H0();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(l.key)?null:p;const _=X0(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Ya(this.mutations,t.mutations,((i,r)=>ev(i,r)))&&Ya(this.baseMutations,t.baseMutations,((i,r)=>ev(i,r)))}}class Em{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Ft(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return Vb})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,r[d].version);return new Em(t,i,r,l)}}class Qb{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Kb{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Lt;function Yb(a){switch(a){case X.OK:return mt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return mt(15467,{code:a})}}function $0(a){if(a===void 0)return $i("GRPC error has no .code"),X.UNKNOWN;switch(a){case we.OK:return X.OK;case we.CANCELLED:return X.CANCELLED;case we.UNKNOWN:return X.UNKNOWN;case we.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case we.INTERNAL:return X.INTERNAL;case we.UNAVAILABLE:return X.UNAVAILABLE;case we.UNAUTHENTICATED:return X.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case we.NOT_FOUND:return X.NOT_FOUND;case we.ALREADY_EXISTS:return X.ALREADY_EXISTS;case we.PERMISSION_DENIED:return X.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case we.ABORTED:return X.ABORTED;case we.OUT_OF_RANGE:return X.OUT_OF_RANGE;case we.UNIMPLEMENTED:return X.UNIMPLEMENTED;case we.DATA_LOSS:return X.DATA_LOSS;default:return mt(39323,{code:a})}}(Lt=we||(we={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function Xb(){return new TextEncoder}const Zb=new Qs([4294967295,4294967295],0);function sv(a){const t=Xb().encode(a),i=new d0;return i.update(t),new Uint8Array(i.digest())}function rv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Qs([i,r],0),new Qs([l,h],0)]}class Sm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new gl(`Invalid padding: ${i}`);if(r<0)throw new gl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Qs.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Qs.fromNumber(r)));return l.compare(Zb)===1&&(l=new Qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=sv(t),[r,l]=rv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Sm(h,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=sv(t),[r,l]=rv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ch{constructor(t,i,r,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Ul.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new ch(yt.min(),l,new le(Mt),Wi(),Vt())}}class Ul{constructor(t,i,r,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Ul(r,i,Vt(),Vt(),Vt())}}class Ic{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class W0{constructor(t,i){this.targetId=t,this.Ce=i}}class tT{constructor(t,i,r=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class av{constructor(){this.ve=0,this.Fe=ov(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),r=Vt();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:mt(38017,{changeType:h})}})),new Ul(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=ov()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Jb{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wi(),this.Je=Ec(),this.He=Ec(),this.Ye=new le(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(Kd(h))if(r===0){const d=new ct(h.path);this.et(i,d,Ze.newNoDocument(d,yt.min()))}else Ft(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:h=0}=i;let d,p;try{d=Zs(r).toUint8Array()}catch(_){if(_ instanceof w0)return Ka("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Sm(d,l,h)}catch(_){return Ka(_ instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(p)||(this.et(i,h,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Kd(p.target)){const _=new ct(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,t))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Vt();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new ch(t,i,this.Ye,this.je,r);return this.je=Wi(),this.Je=Ec(),this.He=Ec(),this.Ye=new le(Mt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new av,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new av),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ec(){return new le(ct.comparator)}function ov(){return new le(ct.comparator)}const $b={asc:"ASCENDING",desc:"DESCENDING"},Wb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tw={and:"AND",or:"OR"};class ew{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Xd(a,t){return a.useProto3Json||ih(t)?t:{value:t}}function Hc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function eT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function nw(a,t){return Hc(a,t.toTimestamp())}function Ei(a){return Ft(!!a,49232),yt.fromTimestamp((function(i){const r=Xs(i);return new se(r.seconds,r.nanos)})(a))}function Am(a,t){return Zd(a,t).canonicalString()}function Zd(a,t){const i=(function(l){return new ie(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function nT(a){const t=ie.fromString(a);return Ft(oT(t),10190,{key:t.toString()}),t}function Jd(a,t){return Am(a.databaseId,t.path)}function Dd(a,t){const i=nT(t);if(i.get(1)!==a.databaseId.projectId)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ct(sT(i))}function iT(a,t){return Am(a.databaseId,t)}function iw(a){const t=nT(a);return t.length===4?ie.emptyPath():sT(t)}function $d(a){return new ie(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function sT(a){return Ft(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function lv(a,t,i){return{name:Jd(a,t),fields:i.value.mapValue.fields}}function sw(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:mt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(v,b){return v.useProto3Json?(Ft(b===void 0||typeof b=="string",58123),Qe.fromBase64String(b||"")):(Ft(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Qe.fromUint8Array(b||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const b=v.code===void 0?X.UNKNOWN:$0(v.code);return new lt(b,v.message||"")})(d);i=new tT(r,l,h,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Dd(a,r.document.name),h=Ei(r.document.updateTime),d=r.document.createTime?Ei(r.document.createTime):yt.min(),p=new xn({mapValue:{fields:r.document.fields}}),_=Ze.newFoundDocument(l,h,d,p),v=r.targetIds||[],b=r.removedTargetIds||[];i=new Ic(v,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Dd(a,r.document),h=r.readTime?Ei(r.readTime):yt.min(),d=Ze.newNoDocument(l,h),p=r.removedTargetIds||[];i=new Ic([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Dd(a,r.document),h=r.removedTargetIds||[];i=new Ic([],h,l,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:h}=r,d=new Kb(l,h),p=r.targetId;i=new W0(p,d)}}return i}function rw(a,t){let i;if(t instanceof xl)i={update:lv(a,t.key,t.value)};else if(t instanceof J0)i={delete:Jd(a,t.key)};else if(t instanceof qr)i={update:lv(a,t.key,t.data),updateMask:mw(t.fieldMask)};else{if(!(t instanceof Gb))return mt(16599,{Vt:t.type});i={verify:Jd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(h,d){const p=d.transform;if(p instanceof jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Dl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof qc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:nw(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:mt(27497)})(a,t.precondition)),i}function aw(a,t){return a&&a.length>0?(Ft(t!==void 0,14353),a.map((i=>(function(l,h){let d=l.updateTime?Ei(l.updateTime):Ei(h);return d.isEqual(yt.min())&&(d=Ei(h)),new jb(d,l.transformResults||[])})(i,t)))):[]}function ow(a,t){return{documents:[iT(a,t.path)]}}function lw(a,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=iT(a,l);const h=(function(v){if(v.length!==0)return aT(Ci.create(v,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((b=>(function(U){return{field:La(U.field),direction:hw(U.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Xd(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:l}}function uw(a){let t=iw(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Ft(r===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let h=[];i.where&&(h=(function(R){const U=rT(R);return U instanceof Ci&&U0(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(R){return R.map((U=>(function(W){return new Bc(Pa(W.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(U)))})(i.orderBy));let p=null;i.limit&&(p=(function(R){let U;return U=typeof R=="object"?R.value:R,ih(U)?null:U})(i.limit));let _=null;i.startAt&&(_=(function(R){const U=!!R.before,F=R.values||[];return new zc(F,U)})(i.startAt));let v=null;return i.endAt&&(v=(function(R){const U=!R.before,F=R.values||[];return new zc(F,U)})(i.endAt)),Cb(t,l,d,h,p,"F",_,v)}function cw(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function rT(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Pa(i.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Pa(i.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Pa(i.unaryFilter.field);return Ne.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Pa(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ne.create(Pa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((r=>rT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(a):mt(30097,{filter:a})}function hw(a){return $b[a]}function fw(a){return Wb[a]}function dw(a){return tw[a]}function La(a){return{fieldPath:a.canonicalString()}}function Pa(a){return Fe.fromServerFormat(a.fieldPath)}function aT(a){return a instanceof Ne?(function(i){if(i.op==="=="){if(X_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NAN"}};if(Y_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(X_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NAN"}};if(Y_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(i.field),op:fw(i.op),value:i.value}}})(a):a instanceof Ci?(function(i){const r=i.getFilters().map((l=>aT(l)));return r.length===1?r[0]:{compositeFilter:{op:dw(i.op),filters:r}}})(a):mt(54877,{filter:a})}function mw(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function oT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class qs{constructor(t,i,r,l,h=yt.min(),d=yt.min(),p=Qe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class gw{constructor(t){this.yt=t}}function pw(a){const t=uw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Yd(t,t.limit,"L"):t}class yw{constructor(){this.Cn=new _w}addToCollectionParentIndex(t,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Ys.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Ys.min())}updateCollectionGroup(t,i,r){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class _w{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Me(ie.comparator),h=!l.has(r);return this.index[i]=l.add(r),h}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Me(ie.comparator)).toArray()}}const uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lT=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(lT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Ja{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}const cv="LruGarbageCollector",vw=1048576;function hv([a,t],[i,r]){const l=Mt(a,i);return l===0?Mt(t,r):l}class Tw{constructor(t){this.Ir=t,this.buffer=new Me(hv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();hv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Ew{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(cv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){io(i)?it(cv,"Ignoring IndexedDB error during garbage collection: ",i):await no(i)}await this.Vr(3e5)}))}}class Sw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(nh.ce);const r=new Tw(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(uv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,h,d,p,_,v;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,d=Date.now(),this.nthSequenceNumber(t,l)))).next((R=>(r=R,p=Date.now(),this.removeTargets(t,r,i)))).next((R=>(h=R,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((R=>(v=Date.now(),Ua()<=Ot.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${R} documents in `+(v-_)+`ms
Total Duration: ${v-b}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:R}))))}}function Aw(a,t){return new Sw(a,t)}class bw{constructor(){this.changes=new jr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Y.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ww{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Rw{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&El(r.mutation,l,Xn.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Vt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Vt()){const l=Mr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((h=>{let d=ml();return h.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Mr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Vt())))}populateOverlays(t,i,r){const l=[];return r.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let h=Wi();const d=Tl(),p=(function(){return Tl()})();return i.forEach(((_,v)=>{const b=r.get(v.key);l.has(v.key)&&(b===void 0||b.mutation instanceof qr)?h=h.insert(v.key,v):b!==void 0?(d.set(v.key,b.mutation.getFieldMask()),El(b.mutation,v,b.mutation.getFieldMask(),se.now())):d.set(v.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,h).next((_=>(_.forEach(((v,b)=>d.set(v,b))),i.forEach(((v,b)=>p.set(v,new ww(b,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Tl();let l=new le(((d,p)=>d-p)),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let b=r.get(_)||Xn.empty();b=p.applyToLocalView(v,b),r.set(_,b);const R=(l.get(p.batchId)||Vt()).add(_);l=l.insert(p.batchId,R)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,b=_.value,R=H0();b.forEach((U=>{if(!h.has(U)){const F=X0(i.get(U),r.get(U));F!==null&&R.set(U,F),h=h.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,R))}return Y.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Ib(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-h.size):Y.resolve(Mr());let p=bl,_=h;return d.next((v=>Y.forEach(v,((b,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),h.get(b)?Y.resolve():this.remoteDocumentCache.getEntry(t,b).next((U=>{_=_.insert(b,U)}))))).next((()=>this.populateOverlays(t,v,h))).next((()=>this.computeViews(t,_,v,Vt()))).next((b=>({batchId:p,changes:q0(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((r=>{let l=ml();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const h=i.collectionGroup;let d=ml();return this.indexManager.getCollectionParents(t,h).next((p=>Y.forEach(p,(_=>{const v=(function(R,U){return new rh(U,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,r,l).next((b=>{b.forEach(((R,U)=>{d=d.insert(R,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,h,l)))).next((d=>{h.forEach(((_,v)=>{const b=v.getKey();d.get(b)===null&&(d=d.insert(b,Ze.newInvalidDocument(b)))}));let p=ml();return d.forEach(((_,v)=>{const b=h.get(_);b!==void 0&&El(b.mutation,v,Xn.empty(),se.now()),oh(i,v)&&(p=p.insert(_,v))})),p}))}}class Cw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ei(l.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:pw(l.bundledQuery),readTime:Ei(l.readTime)}})(i)),Y.resolve()}}class Iw{constructor(){this.overlays=new le(ct.comparator),this.qr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Mr();return Y.forEach(i,(l=>this.getOverlay(t,l).next((h=>{h!==null&&r.set(l,h)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,h)=>{this.St(t,i,h)})),Y.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(t,i,r){const l=Mr(),h=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>r&&l.set(_.getKey(),_)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let h=new le(((v,b)=>v-b));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let b=h.get(v.largestBatchId);b===null&&(b=Mr(),h=h.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const p=Mr(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,b)=>p.set(v,b))),!(p.size()>=l)););return Y.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Qb(i,r));let h=this.qr.get(i);h===void 0&&(h=Vt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}class Dw{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}class bm{constructor(){this.Qr=new Me(ke.$r),this.Ur=new Me(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new ke(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new ke(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ct(new ie([])),r=new ke(i,t),l=new ke(i,t+1),h=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ct(new ie([])),r=new ke(i,t),l=new ke(i,t+1);let h=Vt();return this.Ur.forEachInRange([r,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new ke(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class ke{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ct.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||ct.comparator(t.key,i.key)}}class Nw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(ke.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Fb(h,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new ke(p.key,h)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),h=l<0?0:l;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?mm:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new ke(i,0),l=new ke(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);h.push(p)})),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Me(Mt);return i.forEach((l=>{const h=new ke(l,0),d=new ke(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{r=r.add(p.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let h=r;ct.isDocumentKey(h)||(h=h.child(""));const d=new ke(new ct(h),0);let p=new Me(Mt);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===l&&(p=p.add(_.Yr)),!0)}),d),Y.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(i.mutations,(l=>{const h=new ke(l.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new ke(i,0),l=this.Zr.firstAfterOrEqual(r);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Ow{constructor(t){this.ri=t,this.docs=(function(){return new le(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Y.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let r=Wi();return i.forEach((l=>{const h=this.docs.get(l);r=r.insert(l,h?h.document.mutableCopy():Ze.newInvalidDocument(l))})),Y.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let h=Wi();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:b}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||rb(sb(b),r)<=0||(l.has(b.key)||oh(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(t,i,r,l){mt(9500)}ii(t,i){return Y.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new Mw(this)}getSize(t){return Y.resolve(this.size)}}class Mw extends bw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),Y.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class Vw{constructor(t){this.persistence=t,this.si=new jr((i=>ym(i)),_m),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new bm,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Y.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ja(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.Pr(i),Y.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,r){let l=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Y.waitFor(h).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return Y.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),Y.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return Y.resolve(r)}containsKey(t,i){return Y.resolve(this._i.containsKey(i))}}class uT{constructor(t,i){this.ui={},this.overlays={},this.ci=new nh(0),this.li=!1,this.li=!0,this.hi=new Dw,this.referenceDelegate=t(this),this.Pi=new Vw(this),this.indexManager=new yw,this.remoteDocumentCache=(function(l){return new Ow(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new gw(i),this.Ii=new Cw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Iw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new Nw(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){it("MemoryPersistence","Starting transaction:",t);const l=new xw(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,i){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class xw extends ob{constructor(t){super(),this.currentSequenceNumber=t}}class wm{constructor(t){this.persistence=t,this.Ri=new bm,this.Vi=null}static mi(t){return new wm(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Y.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const l=ct.fromPath(r);return this.gi(t,l).next((h=>{h||i.removeEntry(l,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Gc{constructor(t,i){this.persistence=t,this.pi=new jr((r=>cb(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=Aw(this,i)}static mi(t,i){return new Gc(t,i)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return Y.forEach(this.pi,((r,l)=>this.br(t,r,l).next((h=>h?Y.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=wc(t.data.value)),i}br(t,i,r){return Y.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Y.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Rm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Vt(),l=Vt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Rm(t,i.fromCache,r,l)}}class Uw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class kw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return RS()?8:lb(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,l,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Uw;return this.Ss(t,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>h.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Ua()<=Ot.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ka(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Ua()<=Ot.DEBUG&&it("QueryEngine","Query:",ka(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ua()<=Ot.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ka(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):Y.resolve())}ys(t,i){if(W_(i))return Y.resolve(null);let r=Ti(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Yd(i,null,"F"),r=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((h=>{const d=Vt(...h);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(t,Yd(i,null,"F")):this.vs(t,v,i,_)}))))})))))}ws(t,i,r,l){return W_(i)||l.isEqual(yt.min())?Y.resolve(null):this.ps.getDocuments(t,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,l)?Y.resolve(null):(Ua()<=Ot.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ka(i)),this.vs(t,d,i,ib(l,bl)).next((p=>p)))}))}Ds(t,i){let r=new Me(B0(t));return i.forEach(((l,h)=>{oh(t,h)&&(r=r.add(h))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,i,r){return Ua()<=Ot.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ka(i)),this.ps.getDocumentsMatchingQuery(t,i,Ys.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Cm="LocalStore",Lw=3e8;class Pw{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(Mt),this.xs=new jr((h=>ym(h)),_m),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Rw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function zw(a,t,i,r){return new Pw(a,t,i,r)}async function cT(a,t){const i=Tt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((h=>(l=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],p=[];let _=Vt();for(const v of l){d.push(v.batchId);for(const b of v.mutations)_=_.add(b.key)}for(const v of h){p.push(v.batchId);for(const b of v.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(r,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function Bw(a,t){const i=Tt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,b){const R=v.batch,U=R.keys();let F=Y.resolve();return U.forEach((W=>{F=F.next((()=>b.getEntry(_,W))).next((et=>{const Z=v.docVersions.get(W);Ft(Z!==null,48541),et.version.compareTo(Z)<0&&(R.applyToRemoteDocument(et,v),et.isValidDocument()&&(et.setReadTime(v.commitVersion),b.addEntry(et)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(_,R)))})(i,r,t,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Vt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function hT(a){const t=Tt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function jw(a,t){const i=Tt(a),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((b,R)=>{const U=l.get(R);if(!U)return;p.push(i.Pi.removeMatchingKeys(h,b.removedDocuments,R).next((()=>i.Pi.addMatchingKeys(h,b.addedDocuments,R))));let F=U.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(R)!==null?F=F.withResumeToken(Qe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,r)),l=l.insert(R,F),(function(et,Z,ht){return et.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=Lw?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(U,F,b)&&p.push(i.Pi.updateTargetData(h,F))}));let _=Wi(),v=Vt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))})),p.push(qw(h,d,t.documentUpdates).next((b=>{_=b.ks,v=b.qs}))),!r.isEqual(yt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(h).next((R=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(b)}return Y.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,_,v))).next((()=>_))})).then((h=>(i.Ms=l,h)))}function qw(a,t,i){let r=Vt(),l=Vt();return i.forEach((h=>r=r.add(h))),t.getEntries(a,r).next((h=>{let d=Wi();return i.forEach(((p,_)=>{const v=h.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(yt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):it(Cm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function Hw(a,t){const i=Tt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=mm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function Gw(a,t){const i=Tt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((h=>h?(l=h,Y.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new qs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Wd(a,t,i){const r=Tt(a),l=r.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!io(d))throw d;it(Cm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function fv(a,t,i){const r=Tt(a);let l=yt.min(),h=Vt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,b){const R=Tt(_),U=R.xs.get(b);return U!==void 0?Y.resolve(R.Ms.get(U)):R.Pi.getTargetData(v,b)})(r,d,Ti(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{h=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?h:Vt()))).next((p=>(Fw(r,Nb(t),p),{documents:p,Qs:h})))))}function Fw(a,t,i){let r=a.Os.get(t)||yt.min();i.forEach(((l,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Os.set(t,r)}class dv{constructor(){this.activeTargetIds=kb()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Qw{constructor(){this.Mo=new dv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new dv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Kw{Oo(t){}shutdown(){}}const mv="ConnectivityMonitor";class gv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(mv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(mv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sc=null;function tm(){return Sc===null?Sc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sc++,"0x"+Sc.toString(16)}const Nd="RestConnection",Yw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Lc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,h){const d=tm(),p=this.zo(t,i.toUriEncodedString());it(Nd,`Sending RPC '${t}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,h);const{host:v}=new URL(p),b=Wa(v);return this.Jo(t,p,_,r,b).then((R=>(it(Nd,`Received RPC '${t}' ${d}: `,R),R)),(R=>{throw Ka(Nd,`RPC '${t}' ${d} failed with error: `,R,"url: ",p,"request:",r),R}))}Ho(t,i,r,l,h,d){return this.Go(t,i,r,l,h)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),r&&r.headers.forEach(((l,h)=>t[h]=l))}zo(t,i){const r=Yw[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class Zw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class Jw extends Xw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,h){const d=tm();return new Promise(((p,_)=>{const v=new m0;v.setWithCredentials(!0),v.listenOnce(g0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case bc.NO_ERROR:const R=v.getResponseJson();it(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(R)),p(R);break;case bc.TIMEOUT:it(Ye,`RPC '${t}' ${d} timed out`),_(new lt(X.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const U=v.getStatus();if(it(Ye,`RPC '${t}' ${d} failed with status:`,U,"response text:",v.getResponseText()),U>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const et=(function(ht){const _t=ht.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(_t)>=0?_t:X.UNKNOWN})(W.status);_(new lt(et,W.message))}else _(new lt(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new lt(X.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{it(Ye,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);it(Ye,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",b,r,15)}))}T_(t,i,r){const l=tm(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=_0(),p=y0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const b=h.join("");it(Ye,`Creating RPC '${t}' stream ${l}: ${b}`,_);const R=d.createWebChannel(b,_);this.I_(R);let U=!1,F=!1;const W=new Zw({Yo:Z=>{F?it(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(U||(it(Ye,`Opening RPC '${t}' stream ${l} transport.`),R.open(),U=!0),it(Ye,`RPC '${t}' stream ${l} sending:`,Z),R.send(Z))},Zo:()=>R.close()}),et=(Z,ht,_t)=>{Z.listen(ht,(dt=>{try{_t(dt)}catch(Ht){setTimeout((()=>{throw Ht}),0)}}))};return et(R,dl.EventType.OPEN,(()=>{F||(it(Ye,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),et(R,dl.EventType.CLOSE,(()=>{F||(F=!0,it(Ye,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(R))})),et(R,dl.EventType.ERROR,(Z=>{F||(F=!0,Ka(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),W.a_(new lt(X.UNAVAILABLE,"The operation could not be completed")))})),et(R,dl.EventType.MESSAGE,(Z=>{if(!F){const ht=Z.data[0];Ft(!!ht,16349);const _t=ht,dt=_t?.error||_t[0]?.error;if(dt){it(Ye,`RPC '${t}' stream ${l} received error:`,dt);const Ht=dt.status;let Wt=(function(S){const A=we[S];if(A!==void 0)return $0(A)})(Ht),xt=dt.message;Wt===void 0&&(Wt=X.INTERNAL,xt="Unknown error status: "+Ht+" with message "+dt.message),F=!0,W.a_(new lt(Wt,xt)),R.close()}else it(Ye,`RPC '${t}' stream ${l} received:`,ht),W.u_(ht)}})),et(p,p0.STAT_EVENT,(Z=>{Z.stat===qd.PROXY?it(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===qd.NOPROXY&&it(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Od(){return typeof document<"u"?document:null}function hh(a){return new ew(a,!0)}class fT{constructor(t,i,r=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const pv="PersistentStream";class dT{constructor(t,i,r,l,h,d,p,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new lt(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(pv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $w extends dT{constructor(t,i,r,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=sw(this.serializer,t),r=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Ei(d.readTime):yt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=$d(this.serializer),i.addTarget=(function(h,d){let p;const _=d.target;if(p=Kd(_)?{documents:ow(h,_)}:{query:lw(h,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=eT(h,d.resumeToken);const v=Xd(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=Hc(h,d.snapshotVersion.toTimestamp());const v=Xd(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const r=cw(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=$d(this.serializer),i.removeTarget=t,this.q_(i)}}class Ww extends dT{constructor(t,i,r,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=aw(t.writeResults,t.commitTime),r=Ei(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=$d(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>rw(this.serializer,r)))};this.q_(i)}}class tR{}class eR extends tR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,Zd(i,r),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(X.UNKNOWN,h.toString())}))}Ho(t,i,r,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Zd(i,r),l,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Pr="RemoteStore";class iR{constructor(t,i,r,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Hr(this)&&(it(Pr,"Restarting streams for network reachability change."),await(async function(_){const v=Tt(_);v.Ea.add(4),await kl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await fh(v)})(this))}))})),this.Ra=new nR(r,l)}}async function fh(a){if(Hr(a))for(const t of a.da)await t(!0)}async function kl(a){for(const t of a.da)await t(!1)}function mT(a,t){const i=Tt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Om(i)?Nm(i):so(i).O_()&&Dm(i,t))}function Im(a,t){const i=Tt(a),r=so(i);i.Ia.delete(t),r.O_()&&gT(i,t),i.Ia.size===0&&(r.O_()?r.L_():Hr(i)&&i.Ra.set("Unknown"))}function Dm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}so(a).Y_(t)}function gT(a,t){a.Va.Ue(t),so(a).Z_(t)}function Nm(a){a.Va=new Jb({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),so(a).start(),a.Ra.ua()}function Om(a){return Hr(a)&&!so(a).x_()&&a.Ia.size>0}function Hr(a){return Tt(a).Ea.size===0}function pT(a){a.Va=void 0}async function sR(a){a.Ra.set("Online")}async function rR(a){a.Ia.forEach(((t,i)=>{Dm(a,t)}))}async function aR(a,t){pT(a),Om(a)?(a.Ra.ha(t),Nm(a)):a.Ra.set("Unknown")}async function oR(a,t,i){if(a.Ra.set("Online"),t instanceof tT&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const p of h.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(a,t)}catch(r){it(Pr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Fc(a,r)}else if(t instanceof Ic?a.Va.Ze(t):t instanceof W0?a.Va.st(t):a.Va.tt(t),!i.isEqual(yt.min()))try{const r=await hT(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const b=h.Ia.get(v);b&&h.Ia.set(v,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const b=h.Ia.get(_);if(!b)return;h.Ia.set(_,b.withResumeToken(Qe.EMPTY_BYTE_STRING,b.snapshotVersion)),gT(h,_);const R=new qs(b.target,_,v,b.sequenceNumber);Dm(h,R)})),h.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){it(Pr,"Failed to raise snapshot:",r),await Fc(a,r)}}async function Fc(a,t,i){if(!io(t))throw t;a.Ea.add(1),await kl(a),a.Ra.set("Offline"),i||(i=()=>hT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{it(Pr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await fh(a)}))}function yT(a,t){return t().catch((i=>Fc(a,i,t)))}async function dh(a){const t=Tt(a),i=$s(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:mm;for(;lR(t);)try{const l=await Hw(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,uR(t,l)}catch(l){await Fc(t,l)}_T(t)&&vT(t)}function lR(a){return Hr(a)&&a.Ta.length<10}function uR(a,t){a.Ta.push(t);const i=$s(a);i.O_()&&i.X_&&i.ea(t.mutations)}function _T(a){return Hr(a)&&!$s(a).x_()&&a.Ta.length>0}function vT(a){$s(a).start()}async function cR(a){$s(a).ra()}async function hR(a){const t=$s(a);for(const i of a.Ta)t.ea(i.mutations)}async function fR(a,t,i){const r=a.Ta.shift(),l=Em.from(r,t,i);await yT(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await dh(a)}async function dR(a,t){t&&$s(a).X_&&await(async function(r,l){if((function(d){return Yb(d)&&d!==X.ABORTED})(l.code)){const h=r.Ta.shift();$s(r).B_(),await yT(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,l))),await dh(r)}})(a,t),_T(a)&&vT(a)}async function yv(a,t){const i=Tt(a);i.asyncQueue.verifyOperationInProgress(),it(Pr,"RemoteStore received new credentials");const r=Hr(i);i.Ea.add(3),await kl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await fh(i)}async function mR(a,t){const i=Tt(a);t?(i.Ea.delete(2),await fh(i)):t||(i.Ea.add(2),await kl(i),i.Ra.set("Unknown"))}function so(a){return a.ma||(a.ma=(function(i,r,l){const h=Tt(i);return h.sa(),new $w(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(a.datastore,a.asyncQueue,{Xo:sR.bind(null,a),t_:rR.bind(null,a),r_:aR.bind(null,a),H_:oR.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Om(a)?Nm(a):a.Ra.set("Unknown")):(await a.ma.stop(),pT(a))}))),a.ma}function $s(a){return a.fa||(a.fa=(function(i,r,l){const h=Tt(i);return h.sa(),new Ww(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:cR.bind(null,a),r_:dR.bind(null,a),ta:hR.bind(null,a),na:fR.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await dh(a)):(await a.fa.stop(),a.Ta.length>0&&(it(Pr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Mm{constructor(t,i,r,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=h,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,h){const d=Date.now()+r,p=new Mm(t,i,d,l,h);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vm(a,t){if($i("AsyncQueue",`${t}: ${a}`),io(a))return new lt(X.UNAVAILABLE,`${t}: ${a}`);throw a}class ja{static emptySet(t){return new ja(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ct.comparator(i.key,r.key):(i,r)=>ct.comparator(i.key,r.key),this.keyedMap=ml(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new ja;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class _v{constructor(){this.ga=new le(ct.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class $a{constructor(t,i,r,l,h,d,p,_,v){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,i,r,l,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new $a(t,i,ja.emptySet(i),d,r,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class gR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class pR{constructor(){this.queries=vv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Tt(i),h=l.queries;l.queries=vv(),h.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new lt(X.ABORTED,"Firestore shutting down"))}}function vv(){return new jr((a=>z0(a)),ah)}async function yR(a,t){const i=Tt(a);let r=3;const l=t.query;let h=i.queries.get(l);h?!h.ba()&&t.Da()&&(r=2):(h=new gR,r=t.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Vm(d,`Initialization of query '${ka(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&xm(i)}async function _R(a,t){const i=Tt(a),r=t.query;let l=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function vR(a,t){const i=Tt(a);let r=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&xm(i)}function TR(a,t,i){const r=Tt(a),l=r.queries.get(t);if(l)for(const h of l.Sa)h.onError(i);r.queries.delete(t)}function xm(a){a.Ca.forEach((t=>{t.next()}))}var em,Tv;(Tv=em||(em={})).Ma="default",Tv.Cache="cache";class ER{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new $a(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=$a.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==em.Cache}}class TT{constructor(t){this.key=t}}class ET{constructor(t){this.key=t}}class SR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=B0(t),this.tu=new ja(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new _v,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,R)=>{const U=l.get(b),F=oh(this.query,R)?R:null,W=!!U&&this.mutatedKeys.has(U.key),et=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Z=!1;U&&F?U.data.isEqual(F.data)?W!==et&&(r.track({type:3,doc:F}),Z=!0):this.su(U,F)||(r.track({type:2,doc:F}),Z=!0,(_&&this.eu(F,_)>0||v&&this.eu(F,v)<0)&&(p=!0)):!U&&F?(r.track({type:0,doc:F}),Z=!0):U&&!F&&(r.track({type:1,doc:U}),Z=!0,(_||v)&&(p=!0)),Z&&(F?(d=d.add(F),h=et?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Cs:p,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,R)=>(function(F,W){const et=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:Z})}};return et(F)-et(W)})(b.type,R.type)||this.eu(b.doc,R.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new $a(this.query,t.tu,h,d,t.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _v,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new ET(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new TT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return $a.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Um="SyncEngine";class AR{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class bR{constructor(t){this.key=t,this.hu=!1}}class wR{constructor(t,i,r,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new jr((p=>z0(p)),ah),this.Iu=new Map,this.Eu=new Set,this.du=new le(ct.comparator),this.Au=new Map,this.Ru=new bm,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RR(a,t,i=!0){const r=CT(a);let l;const h=r.Tu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await ST(r,t,i,!0),l}async function CR(a,t){const i=CT(a);await ST(i,t,!0,!1)}async function ST(a,t,i,r){const l=await Gw(a.localStore,Ti(t)),h=l.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await IR(a,t,h,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&mT(a.remoteStore,l),p}async function IR(a,t,i,r,l){a.pu=(R,U,F)=>(async function(et,Z,ht,_t){let dt=Z.view.ru(ht);dt.Cs&&(dt=await fv(et.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,dt))));const Ht=_t&&_t.targetChanges.get(Z.targetId),Wt=_t&&_t.targetMismatches.get(Z.targetId)!=null,xt=Z.view.applyChanges(dt,et.isPrimaryClient,Ht,Wt);return Sv(et,Z.targetId,xt.au),xt.snapshot})(a,R,U,F);const h=await fv(a.localStore,t,!0),d=new SR(t,h.Qs),p=d.ru(h.documents),_=Ul.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),v=d.applyChanges(p,a.isPrimaryClient,_);Sv(a,i,v.au);const b=new AR(t,i,d);return a.Tu.set(t,b),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),v.snapshot}async function DR(a,t,i){const r=Tt(a),l=r.Tu.get(t),h=r.Iu.get(l.targetId);if(h.length>1)return r.Iu.set(l.targetId,h.filter((d=>!ah(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Wd(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Im(r.remoteStore,l.targetId),nm(r,l.targetId)})).catch(no)):(nm(r,l.targetId),await Wd(r.localStore,l.targetId,!0))}async function NR(a,t){const i=Tt(a),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Im(i.remoteStore,r.targetId))}async function OR(a,t,i){const r=PR(a);try{const l=await(function(d,p){const _=Tt(d),v=se.now(),b=p.reduce(((F,W)=>F.add(W.key)),Vt());let R,U;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=Wi(),et=Vt();return _.Ns.getEntries(F,b).next((Z=>{W=Z,W.forEach(((ht,_t)=>{_t.isValidDocument()||(et=et.add(ht))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,W))).next((Z=>{R=Z;const ht=[];for(const _t of p){const dt=Hb(_t,R.get(_t.key).overlayedDocument);dt!=null&&ht.push(new qr(_t.key,dt,M0(dt.value.mapValue),Xi.exists(!0)))}return _.mutationQueue.addMutationBatch(F,v,ht,p)})).next((Z=>{U=Z;const ht=Z.applyToLocalDocumentSet(R,et);return _.documentOverlayCache.saveOverlays(F,Z.batchId,ht)}))})).then((()=>({batchId:U.batchId,changes:q0(R)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new le(Mt)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v})(r,l.batchId,i),await Ll(r,l.changes),await dh(r.remoteStore)}catch(l){const h=Vm(l,"Failed to persist write");i.reject(h)}}async function AT(a,t){const i=Tt(a);try{const r=await jw(i.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=i.Au.get(h);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Ll(i,r,t)}catch(r){await no(r)}}function Ev(a,t,i){const r=Tt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((h,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Tt(d);_.onlineState=p;let v=!1;_.queries.forEach(((b,R)=>{for(const U of R.Sa)U.va(p)&&(v=!0)})),v&&xm(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function MR(a,t,i){const r=Tt(a);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),h=l&&l.key;if(h){let d=new le(ct.comparator);d=d.insert(h,Ze.newNoDocument(h,yt.min()));const p=Vt().add(h),_=new ch(yt.min(),new Map,new le(Mt),d,p);await AT(r,_),r.du=r.du.remove(h),r.Au.delete(t),km(r)}else await Wd(r.localStore,t,!1).then((()=>nm(r,t,i))).catch(no)}async function VR(a,t){const i=Tt(a),r=t.batch.batchId;try{const l=await Bw(i.localStore,t);wT(i,r,null),bT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Ll(i,l)}catch(l){await no(l)}}async function xR(a,t,i){const r=Tt(a);try{const l=await(function(d,p){const _=Tt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let b;return _.mutationQueue.lookupMutationBatch(v,p).next((R=>(Ft(R!==null,37113),b=R.keys(),_.mutationQueue.removeMutationBatch(v,R)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b))).next((()=>_.localDocuments.getDocuments(v,b)))}))})(r.localStore,t);wT(r,t,i),bT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Ll(r,l)}catch(l){await no(l)}}function bT(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function wT(a,t,i){const r=Tt(a);let l=r.Vu[r.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function nm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||RT(a,r)}))}function RT(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Im(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),km(a))}function Sv(a,t,i){for(const r of i)r instanceof TT?(a.Ru.addReference(r.key,t),UR(a,r)):r instanceof ET?(it(Um,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||RT(a,r.key)):mt(19791,{wu:r})}function UR(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(it(Um,"New document in limbo: "+i),a.Eu.add(r),km(a))}function km(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ct(ie.fromString(t)),r=a.fu.next();a.Au.set(r,new bR(i)),a.du=a.du.insert(i,r),mT(a.remoteStore,new qs(Ti(vm(i.path)),r,"TargetPurposeLimboResolution",nh.ce))}}async function Ll(a,t,i){const r=Tt(a),l=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,t,i).then((v=>{if((v||i)&&r.isPrimaryClient){const b=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(v){l.push(v);const b=Rm.As(_.targetId,v);h.push(b)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,v){const b=Tt(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>Y.forEach(v,(U=>Y.forEach(U.Es,(F=>b.persistence.referenceDelegate.addReference(R,U.targetId,F))).next((()=>Y.forEach(U.ds,(F=>b.persistence.referenceDelegate.removeReference(R,U.targetId,F)))))))))}catch(R){if(!io(R))throw R;it(Cm,"Failed to update sequence numbers: "+R)}for(const R of v){const U=R.targetId;if(!R.fromCache){const F=b.Ms.get(U),W=F.snapshotVersion,et=F.withLastLimboFreeSnapshotVersion(W);b.Ms=b.Ms.insert(U,et)}}})(r.localStore,h))}async function kR(a,t){const i=Tt(a);if(!i.currentUser.isEqual(t)){it(Um,"User change. New user:",t.toKey());const r=await cT(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((p=>{p.forEach((_=>{_.reject(new lt(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ll(i,r.Ls)}}function LR(a,t){const i=Tt(a),r=i.Au.get(t);if(r&&r.hu)return Vt().add(r.key);{let l=Vt();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function CT(a){const t=Tt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=AT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MR.bind(null,t),t.Pu.H_=vR.bind(null,t.eventManager),t.Pu.yu=TR.bind(null,t.eventManager),t}function PR(a){const t=Tt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xR.bind(null,t),t}class Qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return zw(this.persistence,new kw,t.initialUser,this.serializer)}Cu(t){return new uT(wm.mi,this.serializer)}Du(t){return new Qw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qc.provider={build:()=>new Qc};class zR extends Qc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof Gc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ew(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new uT((r=>Gc.mi(r,i)),this.serializer)}}class im{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ev(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kR.bind(null,this.syncEngine),await mR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new pR})()}createDatastore(t){const i=hh(t.databaseInfo.databaseId),r=(function(h){return new Jw(h)})(t.databaseInfo);return(function(h,d,p,_){return new eR(h,d,p,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,h,d,p){return new iR(r,l,h,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Ev(this.syncEngine,i,0)),(function(){return gv.v()?new gv:new Kw})())}createSyncEngine(t,i){return(function(l,h,d,p,_,v,b){const R=new wR(l,h,d,p,_,v);return b&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Tt(i);it(Pr,"RemoteStore shutting down."),r.Ea.add(5),await kl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}im.provider={build:()=>new im};class BR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Ws="FirestoreClient";class jR{constructor(t,i,r,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{it(Ws,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(it(Ws,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Vm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Md(a,t){a.asyncQueue.verifyOperationInProgress(),it(Ws,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await cT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Av(a,t){a.asyncQueue.verifyOperationInProgress();const i=await qR(a);it(Ws,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>yv(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>yv(t.remoteStore,l))),a._onlineComponents=t}async function qR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it(Ws,"Using user provided OfflineComponentProvider");try{await Md(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await Md(a,new Qc)}}else it(Ws,"Using default OfflineComponentProvider"),await Md(a,new zR(void 0));return a._offlineComponents}async function IT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it(Ws,"Using user provided OnlineComponentProvider"),await Av(a,a._uninitializedComponentsProvider._online)):(it(Ws,"Using default OnlineComponentProvider"),await Av(a,new im))),a._onlineComponents}function HR(a){return IT(a).then((t=>t.syncEngine))}async function bv(a){const t=await IT(a),i=t.eventManager;return i.onListen=RR.bind(null,t.syncEngine),i.onUnlisten=DR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=CR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=NR.bind(null,t.syncEngine),i}function DT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const wv=new Map;const NT="firestore.googleapis.com",Rv=!0;class Cv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NT,this.ssl=Rv}else this.host=t.host,this.ssl=t.ssl??Rv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=lT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<vw)throw new lt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}nb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new QA;switch(r.type){case"firstParty":return new ZA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=wv.get(i);r&&(it("ComponentProvider","Removing Datastore"),wv.delete(i),r.terminate())})(this),Promise.resolve()}}function GR(a,t,i,r={}){a=Ba(a,mh);const l=Wa(t),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;l&&(r0(`https://${p}`),a0("Firestore",!0)),h.host!==NT&&h.host!==p&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:p,ssl:l,emulatorOptions:r};if(!Ur(_,d)&&(a._setSettings(_),r.mockUserToken)){let v,b;if(typeof r.mockUserToken=="string")v=r.mockUserToken,b=Xe.MOCK_USER;else{v=yS(r.mockUserToken,a._app?.options.projectId);const R=r.mockUserToken.sub||r.mockUserToken.user_id;if(!R)throw new lt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Xe(R)}a._authCredentials=new KA(new T0(v,b))}}class gh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new gh(this.firestore,t,this._query)}}class Oe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Vl(i,Oe._jsonSchema))return new Oe(t,r||null,new ct(ie.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:Re("string",Oe._jsonSchemaVersion),referencePath:Re("string")};class Ks extends gh{constructor(t,i,r){super(t,i,vm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new ct(t))}withConverter(t){return new Ks(this.firestore,t,this._path)}}function FR(a,t,...i){if(a=vn(a),E0("collection","path",t),a instanceof mh){const r=ie.fromString(t,...i);return B_(r),new Ks(a,null,r)}{if(!(a instanceof Oe||a instanceof Ks))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ie.fromString(t,...i));return B_(r),new Ks(a.firestore,null,r)}}function QR(a,t,...i){if(a=vn(a),arguments.length===1&&(t=fm.newId()),E0("doc","path",t),a instanceof mh){const r=ie.fromString(t,...i);return z_(r),new Oe(a,null,new ct(r))}{if(!(a instanceof Oe||a instanceof Ks))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ie.fromString(t,...i));return z_(r),new Oe(a.firestore,a instanceof Ks?a.converter:null,new ct(r))}}const Iv="AsyncQueue";class Dv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fT(this,"async_queue_retry"),this._c=()=>{const r=Od();r&&it(Iv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Od();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Od();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!io(t))throw t;it(Iv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",Nv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Mm.createAndSchedule(this,t,i,r,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:Nv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Nv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function Ov(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of r)if(h in l&&typeof l[h]=="function")return!0;return!1})(a,["next","error","complete"])}class Kc extends mh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Dv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Dv(t),this._firestoreClient=void 0,await t}}}function KR(a,t){const i=typeof a=="object"?a:c0(),r=typeof a=="string"?a:Lc,l=cm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const h=gS("firestore");h&&GR(l,...h)}return l}function OT(a){if(a._terminated)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||YR(a),a._firestoreClient}function YR(a){const t=a._freezeSettings(),i=(function(l,h,d,p){return new db(l,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,DT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new jR(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(a._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Qe.fromBase64String(t))}catch(i){throw new lt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Vl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Re("string",Un._jsonSchemaVersion),bytes:Re("string")};class Lm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class MT{constructor(t){this._methodName=t}}class Si{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(t){if(Vl(t,Si._jsonSchema))return new Si(t.latitude,t.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Re("string",Si._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Ai{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Vl(t,Ai._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ai(t.vectorValues);throw new lt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ai._jsonSchemaVersion="firestore/vectorValue/1.0",Ai._jsonSchema={type:Re("string",Ai._jsonSchemaVersion),vectorValues:Re("object")};const XR=/^__.*__$/;class ZR{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new qr(t,this.data,this.fieldMask,i,this.fieldTransforms):new xl(t,this.data,i,this.fieldTransforms)}}function VT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:a})}}class Pm{constructor(t,i,r,l,h,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Pm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Yc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(VT(this.Ac)&&XR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class JR{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||hh(t)}Cc(t,i,r,l=!1){return new Pm({Ac:t,methodName:i,Dc:r,path:Fe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $R(a){const t=a._freezeSettings(),i=hh(a._databaseId);return new JR(a._databaseId,!!t.ignoreUndefinedProperties,i)}function WR(a,t,i,r,l,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,t,i,l);LT("Data must be an object, but it was:",d,r);const p=UT(r,d);let _,v;if(h.merge)_=new Xn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const R of h.mergeFields){const U=t2(t,R,i);if(!d.contains(U))throw new lt(X.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);n2(b,U)||b.push(U)}_=new Xn(b),v=d.fieldTransforms.filter((R=>_.covers(R.field)))}else _=null,v=d.fieldTransforms;return new ZR(new xn(p),_,v)}function xT(a,t){if(kT(a=vn(a)))return LT("Unsupported field value:",t,a),UT(a,t);if(a instanceof MT)return(function(r,l){if(!VT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const h=[];let d=0;for(const p of r){let _=xT(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}})(a,t)}return(function(r,l){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Lb(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=se.fromDate(r);return{timestampValue:Hc(l.serializer,h)}}if(r instanceof se){const h=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hc(l.serializer,h)}}if(r instanceof Si)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:eT(l.serializer,r._byteString)};if(r instanceof Oe){const h=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Am(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ai)return(function(d,p){return{mapValue:{fields:{[N0]:{stringValue:O0},[Pc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Tm(p.serializer,v)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${dm(r)}`)})(a,t)}function UT(a,t){const i={};return b0(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Br(a,((r,l)=>{const h=xT(l,t.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function kT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof se||a instanceof Si||a instanceof Un||a instanceof Oe||a instanceof MT||a instanceof Ai)}function LT(a,t,i){if(!kT(i)||!S0(i)){const r=dm(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function t2(a,t,i){if((t=vn(t))instanceof Lm)return t._internalPath;if(typeof t=="string")return PT(a,t);throw Yc("Field path arguments must be of type string or ",a,!1,void 0,i)}const e2=new RegExp("[~\\*/\\[\\]]");function PT(a,t,i){if(t.search(e2)>=0)throw Yc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Lm(...t.split("."))._internalPath}catch{throw Yc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Yc(a,t,i,r,l){const h=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new lt(X.INVALID_ARGUMENT,p+a+_)}function n2(a,t){return a.some((i=>i.isEqual(t)))}class zT{constructor(t,i,r,l,h){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new i2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(BT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class i2 extends zT{data(){return super.data()}}function BT(a,t){return typeof t=="string"?PT(a,t):t instanceof Lm?t._internalPath:t._delegate._internalPath}function s2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new lt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r2{convertValue(t,i="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Br(t,((l,h)=>{r[l]=this.convertValue(h,i)})),r}convertVectorValue(t){const i=t.fields?.[Pc].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new Ai(i)}convertGeoPoint(t){return new Si(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=sh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(wl(t));default:return null}}convertTimestamp(t){const i=Xs(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ie.fromString(t);Ft(oT(r),9688,{name:t});const l=new Rl(r.get(1),r.get(3)),h=new ct(r.popFirst(5));return l.isEqual(i)||$i(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function a2(a,t,i){let r;return r=a?a.toFirestore(t):t,r}class pl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xr extends zT{constructor(t,i,r,l,h,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(BT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=xr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}xr._jsonSchemaVersion="firestore/documentSnapshot/1.0",xr._jsonSchema={type:Re("string",xr._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Dc extends xr{data(t={}){return super.data(t)}}class qa{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new pl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Dc(this._firestore,this._userDataWriter,r.key,r,new pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Dc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const _=new Dc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,b=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:o2(p.type),doc:_,oldIndex:v,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function o2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:a})}}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:Re("string",qa._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class jT extends r2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function l2(a,t,i){a=Ba(a,Oe);const r=Ba(a.firestore,Kc),l=a2(a.converter,t);return c2(r,[WR($R(r),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,Xi.none())])}function u2(a,...t){a=vn(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Ov(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ov(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let h,d,p;if(a instanceof Oe)d=Ba(a.firestore,Kc),p=vm(a._key.path),h={next:_=>{t[r]&&t[r](h2(d,a,_))},error:t[r+1],complete:t[r+2]};else{const _=Ba(a,gh);d=Ba(_.firestore,Kc),p=_._query;const v=new jT(d);h={next:b=>{t[r]&&t[r](new qa(d,v,_,b))},error:t[r+1],complete:t[r+2]},s2(a._query)}return(function(v,b,R,U){const F=new BR(U),W=new ER(b,F,R);return v.asyncQueue.enqueueAndForget((async()=>yR(await bv(v),W))),()=>{F.Nu(),v.asyncQueue.enqueueAndForget((async()=>_R(await bv(v),W)))}})(OT(d),p,l,h)}function c2(a,t){return(function(r,l){const h=new Vr;return r.asyncQueue.enqueueAndForget((async()=>OR(await HR(r),l,h))),h.promise})(OT(a),t)}function h2(a,t,i){const r=i.docs.get(t._key),l=new jT(a);return new xr(a,l,t._key,r,new pl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){eo=l})(to),Qa(new kr("firestore",((r,{instanceIdentifier:l,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new Kc(new YA(r.getProvider("auth-internal")),new JA(d,r.getProvider("app-check-internal")),(function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new lt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(v.options.projectId,b)})(d,l),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),Fs(U_,k_,t),Fs(U_,k_,"esm2020")})();function qT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f2=qT,HT=new Ol("auth","Firebase",qT());const Xc=new lm("@firebase/auth");function d2(a,...t){Xc.logLevel<=Ot.WARN&&Xc.warn(`Auth (${to}): ${a}`,...t)}function Nc(a,...t){Xc.logLevel<=Ot.ERROR&&Xc.error(`Auth (${to}): ${a}`,...t)}function ts(a,...t){throw zm(a,...t)}function bi(a,...t){return zm(a,...t)}function GT(a,t,i){const r={...f2(),[t]:i};return new Ol("auth","Firebase",r).create(t,{appName:a.name})}function Zi(a){return GT(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zm(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return HT.create(a,...t)}function gt(a,t,...i){if(!a)throw zm(t,...i)}function Ki(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Nc(t),new Error(t)}function es(a,t){a||Ki(t)}function sm(){return typeof self<"u"&&self.location?.href||""}function m2(){return Mv()==="http:"||Mv()==="https:"}function Mv(){return typeof self<"u"&&self.location?.protocol||null}function g2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m2()||AS()||"connection"in navigator)?navigator.onLine:!0}function p2(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Pl{constructor(t,i){this.shortDelay=t,this.longDelay=i,es(i>t,"Short delay should be less than long delay!"),this.isMobile=TS()||bS()}get(){return g2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bm(a,t){es(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class FT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const y2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],v2=new Pl(3e4,6e4);function zl(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function ro(a,t,i,r,l={}){return QT(a,l,async()=>{let h={},d={};r&&(t==="GET"?d=r:h={body:JSON.stringify(r)});const p=Ml({key:a.config.apiKey,...d}).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const v={method:t,headers:_,...h};return SS()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&Wa(a.emulatorConfig.host)&&(v.credentials="include"),FT.fetch()(await KT(a,a.config.apiHost,i,p),v)})}async function QT(a,t,i){a._canInitEmulator=!1;const r={...y2,...t};try{const l=new T2(a),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw Ac(a,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const p=h.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Ac(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw Ac(a,"user-disabled",d);const b=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw GT(a,b,v);ts(a,b)}}catch(l){if(l instanceof is)throw l;ts(a,"network-request-failed",{message:String(l)})}}async function jm(a,t,i,r,l={}){const h=await ro(a,t,i,r,l);return"mfaPendingCredential"in h&&ts(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function KT(a,t,i,r){const l=`${t}${i}?${r}`,h=a,d=h.config.emulator?Bm(a.config,l):`${a.config.apiScheme}://${l}`;return _2.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class T2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(bi(this.auth,"network-request-failed")),v2.get())})}}function Ac(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=bi(a,t,r);return l.customData._tokenResponse=i,l}async function E2(a,t){return ro(a,"POST","/v1/accounts:delete",t)}async function Zc(a,t){return ro(a,"POST","/v1/accounts:lookup",t)}function Sl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function S2(a,t=!1){const i=vn(a),r=await i.getIdToken(t),l=qm(r);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:r,authTime:Sl(Vd(l.auth_time)),issuedAtTime:Sl(Vd(l.iat)),expirationTime:Sl(Vd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Vd(a){return Number(a)*1e3}function qm(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const l=e0(i);return l?JSON.parse(l):(Nc("Failed to decode base64 JWT payload"),null)}catch(l){return Nc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Vv(a){const t=qm(a);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Nl(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof is&&A2(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function A2({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class b2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jc(a){const t=a.auth,i=await a.getIdToken(),r=await Nl(a,Zc(t,{idToken:i}));gt(r?.users.length,t,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const h=l.providerUserInfo?.length?YT(l.providerUserInfo):[],d=R2(a.providerData,h),p=a.isAnonymous,_=!(a.email&&l.passwordHash)&&!d?.length,v=p?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new rm(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(a,b)}async function w2(a){const t=vn(a);await Jc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function R2(a,t){return[...a.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function YT(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function C2(a,t){const i=await QT(a,{},async()=>{const r=Ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=a.config,d=await KT(a,l,"/v1/token",`key=${h}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return a.emulatorConfig&&Wa(a.emulatorConfig.host)&&(_.credentials="include"),FT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function I2(a,t){return ro(a,"POST","/v2/accounts:revokeToken",zl(a,t))}class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Vv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=Vv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:h}=await C2(t,i);this.updateTokensAndExpiration(r,l,Number(h))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:h}=i,d=new Ha;return r&&(gt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(gt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Ki("not implemented")}}function Ls(a,t){gt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new b2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new rm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return S2(this,t)}reload(){return w2(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Zi(this.auth));const t=await this.getIdToken();return await Nl(this,E2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:R,emailVerified:U,isAnonymous:F,providerData:W,stsTokenManager:et}=i;gt(R&&et,t,"internal-error");const Z=Ha.fromJSON(this.name,et);gt(typeof R=="string",t,"internal-error"),Ls(r,t.name),Ls(l,t.name),gt(typeof U=="boolean",t,"internal-error"),gt(typeof F=="boolean",t,"internal-error"),Ls(h,t.name),Ls(d,t.name),Ls(p,t.name),Ls(_,t.name),Ls(v,t.name),Ls(b,t.name);const ht=new Zn({uid:R,auth:t,email:l,emailVerified:U,displayName:r,isAnonymous:F,photoURL:d,phoneNumber:h,tenantId:p,stsTokenManager:Z,createdAt:v,lastLoginAt:b});return W&&Array.isArray(W)&&(ht.providerData=W.map(_t=>({..._t}))),_&&(ht._redirectEventId=_),ht}static async _fromIdTokenResponse(t,i,r=!1){const l=new Ha;l.updateFromServerResponse(i);const h=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Jc(h),h}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?YT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,p=new Ha;p.updateFromIdToken(r);const _=new Zn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new rm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(_,v),_}}const xv=new Map;function Yi(a){es(a instanceof Function,"Expected a class definition");let t=xv.get(a);return t?(es(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,xv.set(a,t),t)}class XT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}XT.type="NONE";const Uv=XT;function Oc(a,t,i){return`firebase:${a}:${t}:${i}`}class Ga{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:h}=this.auth;this.fullUserKey=Oc(this.userKey,l.apiKey,h),this.fullPersistenceKey=Oc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Zc(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ga(Yi(Uv),t,r);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=l[0]||Yi(Uv);const d=Oc(r,t.config.apiKey,t.name);let p=null;for(const v of i)try{const b=await v._get(d);if(b){let R;if(typeof b=="string"){const U=await Zc(t,{idToken:b}).catch(()=>{});if(!U)break;R=await Zn._fromGetAccountInfoResponse(t,U,b)}else R=Zn._fromJSON(t,b);v!==h&&(p=R),h=v;break}}catch{}const _=l.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!_.length?new Ga(h,t,r):(h=_[0],p&&await h._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new Ga(h,t,r))}}function kv(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(WT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ZT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eE(t))return"Blackberry";if(nE(t))return"Webos";if(JT(t))return"Safari";if((t.includes("chrome/")||$T(t))&&!t.includes("edge/"))return"Chrome";if(tE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function ZT(a=Je()){return/firefox\//i.test(a)}function JT(a=Je()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $T(a=Je()){return/crios\//i.test(a)}function WT(a=Je()){return/iemobile/i.test(a)}function tE(a=Je()){return/android/i.test(a)}function eE(a=Je()){return/blackberry/i.test(a)}function nE(a=Je()){return/webos/i.test(a)}function Hm(a=Je()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function D2(a=Je()){return Hm(a)&&!!window.navigator?.standalone}function N2(){return wS()&&document.documentMode===10}function iE(a=Je()){return Hm(a)||tE(a)||nE(a)||eE(a)||/windows phone/i.test(a)||WT(a)}function sE(a,t=[]){let i;switch(a){case"Browser":i=kv(Je());break;case"Worker":i=`${kv(Je())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${to}/${r}`}class O2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=h=>new Promise((d,p)=>{try{const _=t(h);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function M2(a,t={}){return ro(a,"GET","/v2/passwordPolicy",zl(a,t))}const V2=6;class x2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??V2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class U2{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lv(this),this.idTokenSubscription=new Lv(this),this.beforeStateQueue=new O2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Yi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Zc(this,{idToken:t}),r=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Vn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Jc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=p2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vn(this.app))return Promise.reject(Zi(this));const i=t?vn(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await M2(this),i=new x2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ol("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await I2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Yi(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Yi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=sE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&d2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Bl(a){return vn(a)}class Lv{constructor(t){this.auth=t,this.observer=null,this.addObserver=VS(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k2(a){Gm=a}function L2(a){return Gm.loadJS(a)}function P2(){return Gm.gapiScript}function z2(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function B2(a,t){const i=cm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Ur(h,t??{}))return l;ts(l,"already-initialized")}return i.initialize({options:t})}function j2(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Yi);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function q2(a,t,i){const r=Bl(a);gt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,h=rE(t),{host:d,port:p}=H2(t),_=p===null?"":`:${p}`,v={url:`${h}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){gt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),gt(Ur(v,r.config.emulator)&&Ur(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,Wa(d)?(r0(`${h}//${d}${_}`),a0("Auth",!0)):G2()}function rE(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function H2(a){const t=rE(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const h=l[1];return{host:h,port:Pv(r.substr(h.length+1))}}else{const[h,d]=r.split(":");return{host:h,port:Pv(d)}}}function Pv(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function G2(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class aE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(t){return Ki("not implemented")}_linkToIdToken(t,i){return Ki("not implemented")}_getReauthenticationResolver(t){return Ki("not implemented")}}async function Fa(a,t){return jm(a,"POST","/v1/accounts:signInWithIdp",zl(a,t))}const F2="http://localhost";class zr extends aE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ts("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...h}=i;if(!r||!l)return null;const d=new zr(r,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Fa(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Fa(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fa(t,i)}buildRequest(){const t={requestUri:F2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ml(i)}return t}}class oE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class jl extends oE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ps extends jl{constructor(){super("facebook.com")}static credential(t){return zr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class zs extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return zr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return zs.credential(i,r)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";class Bs extends jl{constructor(){super("github.com")}static credential(t){return zr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";class js extends jl{constructor(){super("twitter.com")}static credential(t,i){return zr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return js.credential(i,r)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";async function Q2(a,t){return jm(a,"POST","/v1/accounts:signUp",zl(a,t))}class ns{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const h=await Zn._fromIdTokenResponse(t,r,l),d=zv(r);return new ns({user:h,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=zv(r);return new ns({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function zv(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function K2(a){if(Vn(a.app))return Promise.reject(Zi(a));const t=Bl(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ns({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Q2(t,{returnSecureToken:!0}),r=await ns._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}class $c extends is{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new $c(t,i,r,l)}}function lE(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(a,h,t,r):h})}async function Y2(a,t,i=!1){const r=await Nl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return ns._forOperation(a,"link",r)}async function X2(a,t,i=!1){const{auth:r}=a;if(Vn(r.app))return Promise.reject(Zi(r));const l="reauthenticate";try{const h=await Nl(a,lE(r,l,t,a),i);gt(h.idToken,r,"internal-error");const d=qm(h.idToken);gt(d,r,"internal-error");const{sub:p}=d;return gt(a.uid===p,r,"user-mismatch"),ns._forOperation(a,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&ts(r,"user-mismatch"),h}}async function Z2(a,t,i=!1){if(Vn(a.app))return Promise.reject(Zi(a));const r="signIn",l=await lE(a,r,t),h=await ns._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(h.user),h}async function J2(a,t){return jm(a,"POST","/v1/accounts:signInWithCustomToken",zl(a,t))}async function $2(a,t){if(Vn(a.app))return Promise.reject(Zi(a));const i=Bl(a),r=await J2(i,{token:t,returnSecureToken:!0}),l=await ns._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(l.user),l}function W2(a,t,i,r){return vn(a).onIdTokenChanged(t,i,r)}function tC(a,t,i){return vn(a).beforeAuthStateChanged(t,i)}function eC(a,t,i,r){return vn(a).onAuthStateChanged(t,i,r)}const Wc="__sak";class uE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const nC=1e3,iC=10;class cE extends uE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},h=this.storage.getItem(r);N2()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,iC):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},nC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}cE.type="LOCAL";const sC=cE;class hE extends uE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}hE.type="SESSION";const fE=hE;function rC(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ph{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new ph(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async v=>v(i.origin,h)),_=await rC(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function Fm(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}class aC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((p,_)=>{const v=Fm("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(R){const U=R;if(U.data.eventId===v)switch(U.data.status){case"ack":clearTimeout(b),h=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),p(U.data.response);break;default:clearTimeout(b),clearTimeout(h),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wi(){return window}function oC(a){wi().location.href=a}function dE(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function lC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uC(){return navigator?.serviceWorker?.controller||null}function cC(){return dE()?self:null}const mE="firebaseLocalStorageDb",hC=1,th="firebaseLocalStorage",gE="fbase_key";class ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function yh(a,t){return a.transaction([th],t?"readwrite":"readonly").objectStore(th)}function fC(){const a=indexedDB.deleteDatabase(mE);return new ql(a).toPromise()}function am(){const a=indexedDB.open(mE,hC);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(th,{keyPath:gE})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(th)?t(r):(r.close(),await fC(),t(await am()))})})}async function Bv(a,t,i){const r=yh(a,!0).put({[gE]:t,value:i});return new ql(r).toPromise()}async function dC(a,t){const i=yh(a,!1).get(t),r=await new ql(i).toPromise();return r===void 0?null:r.value}function jv(a,t){const i=yh(a,!0).delete(t);return new ql(i).toPromise()}const mC=800,gC=3;class pE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>gC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(cC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lC(),!this.activeServiceWorker)return;this.sender=new aC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||uC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await am();return await Bv(t,Wc,"1"),await jv(t,Wc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Bv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>dC(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>jv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=yh(l,!1).getAll();return new ql(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pE.type="LOCAL";const pC=pE;new Pl(3e4,6e4);function yC(a,t){return t?Yi(t):(gt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Qm extends aE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function _C(a){return Z2(a.auth,new Qm(a),a.bypassAuthState)}function vC(a){const{auth:t,user:i}=a;return gt(i,t,"internal-error"),X2(i,new Qm(a),a.bypassAuthState)}async function TC(a){const{auth:t,user:i}=a;return gt(i,t,"internal-error"),Y2(i,new Qm(a),a.bypassAuthState)}class yE{constructor(t,i,r,l,h=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:h,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _C;case"linkViaPopup":case"linkViaRedirect":return TC;case"reauthViaPopup":case"reauthViaRedirect":return vC;default:ts(this.auth,"internal-error")}}resolve(t){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const EC=new Pl(2e3,1e4);class za extends yE{constructor(t,i,r,l,h){super(t,i,l,h),this.provider=r,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const t=Fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,EC.get())};t()}}za.currentPopupAction=null;const SC="pendingRedirect",Mc=new Map;class AC extends yE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Mc.get(this.auth._key());if(!t){try{const r=await bC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Mc.set(this.auth._key(),t)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bC(a,t){const i=CC(t),r=RC(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function wC(a,t){Mc.set(a._key(),t)}function RC(a){return Yi(a._redirectPersistence)}function CC(a){return Oc(SC,a.config.apiKey,a.name)}async function IC(a,t,i=!1){if(Vn(a.app))return Promise.reject(Zi(a));const r=Bl(a),l=yC(r,t),d=await new AC(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const DC=600*1e3;class NC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!OC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!_E(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(bi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=DC&&this.cachedEventUids.clear(),this.cachedEventUids.has(qv(t))}saveEventToCache(t){this.cachedEventUids.add(qv(t)),this.lastProcessedEventTime=Date.now()}}function qv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function _E({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function OC(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _E(a);default:return!1}}async function MC(a,t={}){return ro(a,"GET","/v1/projects",t)}const VC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xC=/^https?/;async function UC(a){if(a.config.emulator)return;const{authorizedDomains:t}=await MC(a);for(const i of t)try{if(kC(i))return}catch{}ts(a,"unauthorized-domain")}function kC(a){const t=sm(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!xC.test(i))return!1;if(VC.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const LC=new Pl(3e4,6e4);function Hv(){const a=wi().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function PC(a){return new Promise((t,i)=>{function r(){Hv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Hv(),i(bi(a,"network-request-failed"))},timeout:LC.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)r();else{const l=z2("iframefcb");return wi()[l]=()=>{gapi.load?r():i(bi(a,"network-request-failed"))},L2(`${P2()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw Vc=null,t})}let Vc=null;function zC(a){return Vc=Vc||PC(a),Vc}const BC=new Pl(5e3,15e3),jC="__/auth/iframe",qC="emulator/auth/iframe",HC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FC(a){const t=a.config;gt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Bm(t,qC):`https://${a.config.authDomain}/${jC}`,r={apiKey:t.apiKey,appName:a.name,v:to},l=GC.get(a.config.apiHost);l&&(r.eid=l);const h=a._getFrameworks();return h.length&&(r.fw=h.join(",")),`${i}?${Ml(r).slice(1)}`}async function QC(a){const t=await zC(a),i=wi().gapi;return gt(i,a,"internal-error"),t.open({where:document.body,url:FC(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HC,dontclear:!0},r=>new Promise(async(l,h)=>{await r.restyle({setHideOnLeave:!1});const d=bi(a,"network-request-failed"),p=wi().setTimeout(()=>{h(d)},BC.get());function _(){wi().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{h(d)})}))}const KC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YC=500,XC=600,ZC="_blank",JC="http://localhost";class Gv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $C(a,t,i,r=YC,l=XC){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...KC,width:r.toString(),height:l.toString(),top:h,left:d},v=Je().toLowerCase();i&&(p=$T(v)?ZC:i),ZT(v)&&(t=t||JC,_.scrollbars="yes");const b=Object.entries(_).reduce((U,[F,W])=>`${U}${F}=${W},`,"");if(D2(v)&&p!=="_self")return WC(t||"",p),new Gv(null);const R=window.open(t||"",p,b);gt(R,a,"popup-blocked");try{R.focus()}catch{}return new Gv(R)}function WC(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const tI="__/auth/handler",eI="emulator/auth/handler",nI=encodeURIComponent("fac");async function Fv(a,t,i,r,l,h){gt(a.config.authDomain,a,"auth-domain-config-required"),gt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:to,eventId:l};if(t instanceof oE){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",MS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,R]of Object.entries({}))d[b]=R}if(t instanceof jl){const b=t.getScopes().filter(R=>R!=="");b.length>0&&(d.scopes=b.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await a._getAppCheckToken(),v=_?`#${nI}=${encodeURIComponent(_)}`:"";return`${iI(a)}?${Ml(p).slice(1)}${v}`}function iI({config:a}){return a.emulator?Bm(a,eI):`https://${a.authDomain}/${tI}`}const xd="webStorageSupport";class sI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fE,this._completeRedirectFn=IC,this._overrideRedirectResult=wC}async _openPopup(t,i,r,l){es(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await Fv(t,i,r,sm(),l);return $C(t,h,Fm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const h=await Fv(t,i,r,sm(),l);return oC(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(es(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await QC(t),r=new NC(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(xd,{type:xd},l=>{const h=l?.[0]?.[xd];h!==void 0&&i(!!h),ts(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=UC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return iE()||JT()||Hm()}}const rI=sI;var Qv="@firebase/auth",Kv="1.12.0";class aI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oI(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lI(a){Qa(new kr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sE(a)},v=new U2(r,l,h,_);return j2(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Qa(new kr("auth-internal",t=>{const i=Bl(t.getProvider("auth").getImmediate());return(r=>new aI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(Qv,Kv,oI(a)),Fs(Qv,Kv,"esm2020")}const uI=300,cI=s0("authIdTokenMaxAge")||uI;let Yv=null;const hI=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>cI)return;const l=i?.token;Yv!==l&&(Yv=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function fI(a=c0()){const t=cm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=B2(a,{popupRedirectResolver:rI,persistence:[pC,sC,fE]}),r=s0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const d=hI(h.toString());tC(i,d,()=>d(i.currentUser)),W2(i,p=>d(p))}}const l=n0("auth");return l&&q2(i,`http://${l}`),i}function dI(){return document.getElementsByTagName("head")?.[0]??document}k2({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=l=>{const h=bi("internal-error");h.customData=l,i(h)},r.type="text/javascript",r.charset="UTF-8",dI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lI("Browser");const mI=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gI=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),Xv=a=>{const t=gI(a);return t.charAt(0).toUpperCase()+t.slice(1)},vE=(...a)=>a.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),pI=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var yI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _I=He.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:h,iconNode:d,...p},_)=>He.createElement("svg",{ref:_,...yI,width:t,height:t,stroke:a,strokeWidth:r?Number(i)*24/Number(t):i,className:vE("lucide",l),...!h&&!pI(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,b])=>He.createElement(v,b)),...Array.isArray(h)?h:[h]]));const kn=(a,t)=>{const i=He.forwardRef(({className:r,...l},h)=>He.createElement(_I,{ref:h,iconNode:t,className:vE(`lucide-${mI(Xv(a))}`,`lucide-${a}`,r),...l}));return i.displayName=Xv(a),i};const vI=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],TI=kn("arrow-up",vI);const EI=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],SI=kn("database",EI);const AI=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],bI=kn("list",AI);const wI=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],RI=kn("refresh-cw",wI);const CI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],II=kn("rotate-ccw",CI);const DI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],NI=kn("save",DI);const OI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],MI=kn("shield",OI);const VI=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xI=kn("square-check-big",VI);const UI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],kI=kn("square",UI);const LI=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],PI=kn("trending-down",LI);const zI=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],BI=kn("trending-up",zI);const jI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],qI=kn("trophy",jI),HI={apiKey:"AIzaSyCxCOVwf1cY7dx1B9Bk0pTIsxww_Bc8qTQ",authDomain:"biblequizcloud.firebaseapp.com",projectId:"biblequizcloud",storageBucket:"biblequizcloud.firebasestorage.app",messagingSenderId:"794279182240",appId:"1:794279182240:web:63f70343a050513d902ec5"},TE=u0(HI),Ud=fI(TE),Zv=KR(TE),Jv=typeof __app_id<"u"?__app_id:"default-app-id",xa=12,$v="team_scores",kd=[{id:"none",name:" ",type:"none",value:0},{id:"attack_1",name:"(1)",type:"attack",value:1},{id:"attack_2",name:"(2)",type:"attack",value:2},{id:"attack_3",name:"(3)",type:"attack",value:3},{id:"plus_1",name:"(1)",type:"plus",value:1},{id:"plus_2",name:"(2)",type:"plus",value:2},{id:"plus_3",name:"(3)",type:"plus",value:3},{id:"overtake_2",name:"2 ",type:"overtake",value:2},{id:"overtake_3",name:"3 ",type:"overtake",value:3},{id:"defense",name:"",type:"defense",value:0}],GI=()=>{const[a,t]=He.useState(null),[i,r]=He.useState([]),[l,h]=He.useState(1),[d,p]=He.useState([]),[_,v]=He.useState("total"),[b,R]=He.useState(Array.from({length:xa},(S,A)=>({teamId:A+1,cardType:"none",value:0,targetId:A===0?"2":"1"}))),[U,F]=He.useState(!1),[W,et]=He.useState("");He.useEffect(()=>{(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await $2(Ud,__initial_auth_token):await K2(Ud)}catch(C){console.error(" :",C)}})();const A=eC(Ud,t);return()=>A()},[]),He.useEffect(()=>{if(!a)return;const S=FR(Zv,"artifacts",Jv,"public","data",$v),A=u2(S,C=>{const O=C.docs.map(w=>w.data()).find(w=>w.id==="current_game");O&&O.rounds&&r(O.rounds)},C=>{console.error("  :",C)});return()=>A()},[a]);const Z=async S=>{if(a){F(!0),et("Cloud  ...");try{const A=QR(Zv,"artifacts",Jv,"public","data",$v,"current_game"),C=ht(S);await l2(A,{id:"current_game",rounds:S,stats:C,updatedAt:new Date().toISOString(),updatedBy:a.uid}),et(" !")}catch(A){console.error(" :",A),et(" !")}finally{F(!1),setTimeout(()=>et(""),2e3)}}},ht=S=>{let A=Array.from({length:xa},(C,D)=>({id:D+1,baseScore:0,totalScore:0,itemDiff:0,hasDefense:!1}));return S.forEach(C=>{A.forEach(O=>{C.winners.includes(O.id)&&(O.baseScore+=C.points,O.totalScore+=C.points)});const D=C.cards.filter(O=>O.cardType==="defense").map(O=>O.teamId);C.cards.forEach(O=>{if(O.cardType==="none"||O.cardType==="defense"||O.cardType==="overtake")return;const w=A.find(It=>It.id===O.teamId);if(O.cardType==="plus")w.totalScore+=O.value,w.itemDiff+=O.value;else if(O.cardType==="attack"){const It=A.find(Gt=>Gt.id===parseInt(O.targetId));if(It&&!D.includes(It.id)){const Gt=Math.min(O.value,It.totalScore);It.totalScore-=Gt,It.itemDiff-=Gt,w.totalScore+=Gt,w.itemDiff+=Gt}}}),C.cards.filter(O=>O.cardType==="overtake").forEach(O=>{const w=A.find(J=>J.id===O.teamId),It=O.value,Gt=[...A].sort((J,at)=>at.totalScore-J.totalScore||J.id-at.id),q=Gt.findIndex(J=>J.id===w.id);if(q>=It-1){let at=Gt[q-(It-1)];for(let wt=1;wt<It;wt++){const Pt=Gt[q-wt];if(D.includes(Pt.id)){at=Pt;break}}if(at&&at.id!==w.id){const wt=w.totalScore;w.totalScore=at.totalScore,w.itemDiff+=w.totalScore-wt}}}),A.forEach(O=>{O.hasDefense=D.includes(O.id)})}),A},_t=()=>{if(d.length===0&&b.every(D=>D.cardType==="none"))return;const S=b.filter(D=>D.cardType!=="none"),A={id:Date.now(),points:l,winners:[...d],cards:S},C=[...i,A];r(C),Z(C),p([]),R(Array.from({length:xa},(D,O)=>({teamId:O+1,cardType:"none",value:0,targetId:O===0?"2":"1"})))},dt=async()=>{window.confirm("  ?")&&(r([]),await Z([]))},Ht=()=>{p(Array.from({length:xa},(S,A)=>A+1))},Wt=()=>{p([])},xt=He.useMemo(()=>ht(i).sort((A,C)=>{const D=_==="total"?A.totalScore:A.baseScore;return(_==="total"?C.totalScore:C.baseScore)-D||A.id-C.id}),[i,_]),N=(S,A,C)=>{const D=[...b];if(A==="cardType"){const O=kd.find(w=>w.id===C||w.type===C);D[S].cardType=O.type,D[S].value=O?O.value:0}else D[S][A]=C;R(D)};return nt.jsxs("div",{className:"flex h-screen bg-slate-50 text-slate-900 overflow-hidden font-sans",children:[nt.jsxs("div",{className:"w-1/2 p-6 overflow-y-auto border-r border-slate-200",children:[nt.jsxs("header",{className:"mb-6 flex justify-between items-center",children:[nt.jsxs("div",{children:[nt.jsxs("h1",{className:"text-2xl font-black text-blue-600 flex items-center gap-2",children:[nt.jsx(SI,{size:24}),"  "]}),nt.jsx("p",{className:"text-xs text-slate-500 mt-1 font-medium",children:"   "})]}),W&&nt.jsx("div",{className:"bg-blue-600 text-white text-[10px] px-3 py-1 rounded-full animate-pulse font-bold",children:W})]}),nt.jsxs("section",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100 mb-6",children:[nt.jsxs("div",{className:"flex justify-between items-center mb-6",children:[nt.jsx("h2",{className:"text-lg font-bold flex items-center gap-2 text-slate-700",children:"  "}),nt.jsxs("button",{onClick:dt,className:"text-xs font-bold text-red-500 hover:bg-red-50 px-3 py-1.5 rounded-xl transition-all border border-red-100 flex items-center gap-1",children:[nt.jsx(II,{size:14})," "]})]}),nt.jsxs("div",{className:"space-y-8",children:[nt.jsxs("div",{children:[nt.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest block mb-3",children:"1.  "}),nt.jsx("div",{className:"flex gap-2",children:[1,2,3].map(S=>nt.jsxs("button",{onClick:()=>h(S),className:`flex-1 py-3 rounded-2xl font-black transition-all ${l===S?"bg-blue-600 text-white shadow-lg shadow-blue-200":"bg-slate-100 text-slate-400 hover:bg-slate-200"}`,children:[S,""]},S))})]}),nt.jsxs("div",{children:[nt.jsxs("div",{className:"flex justify-between items-center mb-3",children:[nt.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"2.   "}),nt.jsxs("div",{className:"flex gap-2",children:[nt.jsxs("button",{onClick:Ht,className:"text-[10px] font-bold text-blue-600 flex items-center gap-1 bg-blue-50 px-2 py-1 rounded-lg",children:[nt.jsx(xI,{size:12}),"  "]}),nt.jsxs("button",{onClick:Wt,className:"text-[10px] font-bold text-slate-500 flex items-center gap-1 bg-slate-100 px-2 py-1 rounded-lg",children:[nt.jsx(kI,{size:12}),"  "]})]})]}),nt.jsx("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:xa},(S,A)=>A+1).map(S=>nt.jsxs("button",{onClick:()=>p(A=>A.includes(S)?A.filter(C=>C!==S):[...A,S]),className:`py-2 rounded-xl text-sm font-bold transition-all border-2 ${d.includes(S)?"bg-emerald-500 border-emerald-500 text-white shadow-md shadow-emerald-100":"bg-white border-slate-100 text-slate-600 hover:border-slate-300"}`,children:[S,""]},S))})]}),nt.jsxs("div",{children:[nt.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest block mb-3",children:"3.   "}),nt.jsx("div",{className:"grid grid-cols-2 gap-2",children:b.map((S,A)=>nt.jsxs("div",{className:`flex flex-col gap-2 p-3 rounded-2xl border transition-all ${S.cardType!=="none"?"bg-blue-50 border-blue-200 shadow-sm":"bg-slate-50 border-slate-100"}`,children:[nt.jsxs("div",{className:"flex items-center justify-between",children:[nt.jsxs("span",{className:"text-xs font-black text-slate-500",children:[S.teamId,""]}),S.cardType==="attack"&&nt.jsxs("div",{className:"flex items-center gap-1 animate-in fade-in slide-in-from-right-1",children:[nt.jsx("span",{className:"text-[9px] font-bold text-slate-400",children:":"}),nt.jsx("select",{className:"bg-white border border-slate-200 rounded-lg px-1.5 py-0.5 text-[10px] font-bold outline-none",value:S.targetId,onChange:C=>N(A,"targetId",C.target.value),children:Array.from({length:xa},(C,D)=>D+1).filter(C=>C!==S.teamId).map(C=>nt.jsxs("option",{value:C,children:[C,""]},C))})]})]}),nt.jsx("select",{className:"w-full bg-white border border-slate-200 rounded-xl px-2 py-1.5 text-[11px] font-bold outline-none shadow-sm cursor-pointer",value:kd.find(C=>C.type===S.cardType&&C.value===S.value)?.id||"none",onChange:C=>N(A,"cardType",C.target.value),children:kd.map(C=>nt.jsx("option",{value:C.id,children:C.name},C.id))})]},A))})]}),nt.jsxs("button",{onClick:_t,disabled:U||!a,className:"w-full py-5 bg-slate-900 text-white rounded-3xl font-black text-xl flex items-center justify-center gap-3 hover:bg-slate-800 disabled:bg-slate-300 transition-all shadow-xl shadow-slate-200 sticky bottom-0",children:[U?nt.jsx(RI,{className:"animate-spin"}):nt.jsx(NI,{}),"   "]})]})]})]}),nt.jsxs("div",{className:"w-1/2 p-6 bg-white overflow-y-auto",children:[nt.jsx("header",{className:"mb-8",children:nt.jsxs("div",{className:"flex justify-between items-start mb-6",children:[nt.jsxs("div",{children:[nt.jsxs("h2",{className:"text-3xl font-black text-slate-800 flex items-center gap-3 tracking-tight",children:[nt.jsx(TI,{size:32,className:"text-emerald-500"})," "]}),nt.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"    "})]}),nt.jsxs("div",{className:"bg-slate-100 p-1.5 rounded-2xl flex gap-1 shadow-inner",children:[nt.jsxs("button",{onClick:()=>v("total"),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-black transition-all ${_==="total"?"bg-white text-blue-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[nt.jsx(qI,{size:14}),"  "]}),nt.jsxs("button",{onClick:()=>v("base"),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-black transition-all ${_==="base"?"bg-white text-blue-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[nt.jsx(bI,{size:14}),"  "]})]})]})}),nt.jsx("div",{className:"space-y-4",children:xt.map((S,A)=>{const C=_==="total"?S.totalScore:S.baseScore;return nt.jsxs("div",{className:`flex items-center p-5 rounded-3xl border-2 transition-all ${A<3?"border-slate-900 bg-slate-900 text-white shadow-2xl scale-[1.02] z-10":"border-slate-100 bg-slate-50/50"}`,children:[nt.jsx("div",{className:`w-12 h-12 flex items-center justify-center rounded-2xl font-black text-2xl mr-5 ${A===0?"bg-yellow-400 text-white shadow-lg shadow-yellow-200":A===1?"bg-slate-300 text-slate-600":A===2?"bg-orange-400 text-white":"bg-white text-slate-400 border border-slate-100"}`,children:A+1}),nt.jsxs("div",{className:"flex-1",children:[nt.jsxs("div",{className:"text-xl font-black flex items-center gap-2",children:[S.id,"",S.hasDefense&&nt.jsx(MI,{size:16,className:"text-blue-400 fill-blue-400/20"})]}),nt.jsx("div",{className:"flex items-center gap-2 mt-1",children:_==="total"?nt.jsxs(nt.Fragment,{children:[nt.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-md ${A<3?"bg-white/10 text-white/60":"bg-slate-200 text-slate-500"}`,children:[" : ",S.baseScore,""]}),S.itemDiff!==0&&nt.jsxs("span",{className:`text-[10px] font-bold flex items-center gap-0.5 ${S.itemDiff>0?"text-emerald-400":"text-red-400"}`,children:[S.itemDiff>0?nt.jsx(BI,{size:10}):nt.jsx(PI,{size:10}),Math.abs(S.itemDiff)]})]}):nt.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-md ${A<3?"bg-white/10 text-white/60":"bg-slate-200 text-slate-500"}`,children:"  "})})]}),nt.jsx("div",{className:"text-right",children:nt.jsxs("div",{className:`text-4xl font-black tabular-nums tracking-tighter ${A<3?"text-yellow-400":"text-blue-600"}`,children:[C,nt.jsx("span",{className:"text-sm font-bold ml-1 opacity-50",children:"PTS"})]})})]},S.id)})})]})]})};aS.createRoot(document.getElementById("root")).render(nt.jsx(He.StrictMode,{children:nt.jsx(GI,{})}));
